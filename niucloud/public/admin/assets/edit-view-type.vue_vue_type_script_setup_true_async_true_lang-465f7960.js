import{d as T,r as s,c as A,e as p,v as _,x as l,g as N,y as n,A as v,B as y,u as i,f as L,F as O,z as P,an as S}from"./base-9962c822.js";/* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  */import{t as m}from"./index-6e46fb55.js";import{c as U}from"./dict-f997ca2c.js";import{c as $}from"./cloneDeep-15861beb.js";import{a as j,E as q}from"./index-22970d5d.js";import{a as z,E as I}from"./index-7c833df7.js";import{E as G}from"./index-7ab57426.js";import{E as H}from"./index-e2acd187.js";const J={class:"dialog-footer"},ue=T({__name:"edit-view-type",emits:["complete"],setup(K,{expose:g,emit:b}){const a=s(!1),E=s(""),u={dict_type:""},r=s({...u}),c=s(),d=s([]),V=A(()=>({dict_type:[{required:!0,message:m("dictTypePlaceholder"),trigger:"change"}]})),k=()=>{U().then(t=>{d.value=t.data})},D=async t=>{t&&await t.validate(async e=>{e&&(b("complete",S(r.value)),a.value=!1)})},w=async(t=null)=>{r.value=$(Object.assign(u,t)),k(),a.value=!0},x=t=>{var e;(e=c.value)==null||e.clearValidate(),t()};return g({showDialog:a,setFormData:w}),(t,e)=>{const F=j,B=q,h=z,C=I,f=G,R=H;return p(),_(R,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value=o),title:E.value,width:"480px","before-close":x,"destroy-on-close":!0},{footer:l(()=>[N("span",J,[n(f,{onClick:e[1]||(e[1]=o=>a.value=!1)},{default:l(()=>[v(y(i(m)("cancel")),1)]),_:1}),n(f,{type:"primary",onClick:e[2]||(e[2]=o=>D(c.value))},{default:l(()=>[v(y(i(m)("confirm")),1)]),_:1})])]),default:l(()=>[n(C,{model:r.value,"label-width":"130px",ref_key:"formRef",ref:c,rules:i(V),class:"page-form"},{default:l(()=>[n(h,{label:i(m)("dictType")},{default:l(()=>[n(B,{class:"input-width",placeholder:i(m)("dictTypePlaceholder"),modelValue:r.value.dict_type,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value.dict_type=o),filterable:"",remote:"",clearable:""},{default:l(()=>[(p(!0),L(O,null,P(d.value,o=>(p(),_(F,{label:o.name,value:o.key,key:o.key},null,8,["label","value"]))),128))]),_:1},8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{ue as _};
