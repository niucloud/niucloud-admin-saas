import{d as D,r as y,R as E,e as n,f as x,g as b,B as m,u as s,Q as H,v as p,x as o,y as i,H as c,A as _,F as O,z as S}from"./base-d79f9f62.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  */import{t as l}from"./index-9e0d1e6c.js";import{b as I,H as W,I as j}from"./member-5b79e301.js";import{u as G}from"./vue-router-fc35ac55.js";import{E as L}from"./index-797616f3.js";import{a as P,E as M}from"./index-6befecc6.js";import{E as Q}from"./index-f249e665.js";import{E as $,b as q}from"./index-59eacbf0.js";import{E as J,a as K}from"./index-d4057e2a.js";import{E as X}from"./index-ba59a1dc.js";import{E as Y}from"./index-03649f16.js";import{v as Z}from"./directive-13582d99.js";import"./pinia-55149fa9.js";import"./index-6fcaf7b3.js";import"./storage-5316d819.js";import"./index-2048a34f.js";import"./index-3fd412a3.js";import"./index-542aa78e.js";import"./typescript-defaf979.js";import"./index-34cd7f55.js";import"./system-d23898e7.js";import"./index-5dbb8f83.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./validator-8f1b170d.js";import"./event-9519ab40.js";import"./index-427f5a83.js";import"./index-71aec1df.js";import"./index-bdfee32a.js";import"./error-78e43d3e.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./index-b6ca69fd.js";import"./isEqual-3f50b221.js";import"./flatten-0bbd547a.js";const ee={class:"main-container"},te={class:"flex ml-[18px] justify-between items-center mt-[20px]"},oe={class:"text-[20px]"},ae=b("span",{class:"ml-2"},"%",-1),re={class:"fixed-footer-wrap"},le={class:"fixed-footer"},ot=D({__name:"cash_out",setup(se){const k=G().meta.title,f=y(!0),g=y(),t=E({is_auto_transfer:"0",is_auto_verify:"0",is_open:"0",min:"0.01",rate:"0",transfer_type:[]}),V=y([]);(async()=>{V.value=await(await I()).data})(),(async(u=0)=>{const e=await(await W()).data;Object.keys(t).forEach(a=>{e[a]!=null&&(t[a]=e[a])}),t.is_open=Boolean(Number(t.is_open)),f.value=!1})();const R=E({min:[{validator:(u,e,a)=>{Number(e)<.01?a(new Error(l("cashWithdrawalAmountHint"))):a()},trigger:"blur"}],rate:[{validator:(u,e,a)=>{Number(e)>100||Number(e)<0?a(new Error(l("commissionRatioHint"))):a()},trigger:"blur"}]}),C=async u=>{f.value||!u||await u.validate(e=>{if(e){let a={...t};a.is_open=Number(a.is_open).toString(),j(a).then(()=>{f.value=!1}).catch(()=>{f.value=!1})}})};return(u,e)=>{const a=L,d=P,h=Q,v=$,w=q,F=J,N=K,B=X,T=M,z=Y,A=Z;return n(),x("div",ee,[b("div",te,[b("span",oe,m(s(k)),1)]),H((n(),p(T,{model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:g,rules:R,class:"page-form"},{default:o(()=>[i(B,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[i(d,{label:s(l)("isOpen")},{default:o(()=>[i(a,{modelValue:t.is_open,"onUpdate:modelValue":e[0]||(e[0]=r=>t.is_open=r)},null,8,["modelValue"])]),_:1},8,["label"]),t.is_open?(n(),p(d,{key:0,label:s(l)("cashWithdrawalAmount"),prop:"min"},{default:o(()=>[i(h,{modelValue:t.min,"onUpdate:modelValue":e[1]||(e[1]=r=>t.min=r),class:"w-60",type:"number",placeholder:s(l)("cashWithdrawalAmountPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):c("",!0),t.is_open?(n(),p(d,{key:1,label:s(l)("commissionRatio"),prop:"rate"},{default:o(()=>[i(h,{modelValue:t.rate,"onUpdate:modelValue":e[2]||(e[2]=r=>t.rate=r),type:"number",class:"w-60",placeholder:s(l)("commissionRatioPlaceholder")},null,8,["modelValue","placeholder"]),ae]),_:1},8,["label"])):c("",!0),t.is_open?(n(),p(d,{key:2,label:s(l)("audit"),class:"items-center"},{default:o(()=>[i(w,{modelValue:t.is_auto_verify,"onUpdate:modelValue":e[3]||(e[3]=r=>t.is_auto_verify=r)},{default:o(()=>[i(v,{label:"0",size:"large"},{default:o(()=>[_(m(s(l)("manualAudit")),1)]),_:1}),i(v,{label:"1",size:"large"},{default:o(()=>[_(m(s(l)("automaticAudit")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.is_open?(n(),p(d,{key:3,label:s(l)("transfer"),class:"items-center"},{default:o(()=>[i(w,{modelValue:t.is_auto_transfer,"onUpdate:modelValue":e[4]||(e[4]=r=>t.is_auto_transfer=r)},{default:o(()=>[i(v,{label:"0",size:"large"},{default:o(()=>[_(m(s(l)("manualTransfer")),1)]),_:1}),i(v,{label:"1",size:"large"},{default:o(()=>[_(m(s(l)("automatedTransit")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):c("",!0),t.is_open?(n(),p(d,{key:4,label:s(l)("transferMode"),class:"items-center"},{default:o(()=>[i(N,{modelValue:t.transfer_type,"onUpdate:modelValue":e[5]||(e[5]=r=>t.transfer_type=r),size:"large"},{default:o(()=>[(n(!0),x(O,null,S(V.value,(r,U)=>(n(),p(F,{label:r.key,key:"a"+U},{default:o(()=>[_(m(r.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):c("",!0)]),_:1})]),_:1},8,["model","rules"])),[[A,f.value]]),b("div",re,[b("div",le,[i(z,{type:"primary",onClick:e[6]||(e[6]=r=>C(g.value))},{default:o(()=>[_(m(s(l)("save")),1)]),_:1})])])])}}});export{ot as default};
