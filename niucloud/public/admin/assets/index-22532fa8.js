import{a2 as A,d as K,K as F,n as H,m as M,r as I,c as n,a as s,u as i,t as r,e as _,w as g,A as h,F as $,G as j,S as R,y as q,B as E,a3 as G,E as O,W as P,a4 as T,$ as J,p as Q,g as X,h as p,R as V,i as Y,a5 as Z,a6 as tt,U as v,a1 as et}from"./index-30b146d4.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                *//* empty css                  */import{_ as st}from"./icon-addon-339e16d0.js";import{_ as ot}from"./member_head-a897263d.js";import{_ as at}from"./empty-77b60adb.js";import{a as nt}from"./sys-60b0e237.js";import{g as it}from"./addon-afba1560.js";import{_ as pt}from"./_plugin-vue_export-helper-c27b6911.js";function rt(l){return A.get("home/site",{params:l})}const y=l=>(Q("data-v-6ec97722"),l=l(),X(),l),lt={class:"flex justify-between items-center py-[24px] pl-[62px] pr-[64px] home-head"},ct={class:"flex items-center"},dt=["src"],_t={key:1,class:"w-[32x] h-[32px] rounded-full",src:st,alt:""},mt={class:"ml-[10px] text-[16px] font-bold"},xt={class:"flex items-center"},ut={class:"mr-[12px] text-[14px]"},ft={class:"w-[1200px] m-auto mt-[62px]"},gt={class:"flex justify-between items-center"},ht=y(()=>s("span",{class:"text-[24px] font-bold"},"站点列表",-1)),vt={class:"flex justify-between items-center mt-[18px]"},yt={class:"flex items-center flex-wrap text-[14px] w-[800px]"},wt=["onClick"],kt={class:"min-h-[580px]"},bt={class:"flex flex-wrap mt-[30px]"},Ct=["onClick"],St={class:"flex items-center px-[24px] pt-[22px] pb-[16px] bg-[#F0F2F4] home-item-head"},Ft=["src"],It={key:1,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:ot},$t={class:"flex flex-col flex-1 justify-center"},jt={class:"flex items-center flex-wrap"},Et={class:"text-[16px] text-[#000] max-w-[145px] font-bold truncate mr-[10px]"},Vt={key:0,class:"flex items-center justify-center min-w-[42px] h-[18px] bg-[#FF5500] rounded-tl-md rounded-br-md items-tab"},zt={class:"text-[12px] text-[#fff]"},Dt={class:"text-[12px] mt-[3px] text-[#555]"},Bt={class:"px-[24px] py-[20px] text-[#6D7278]"},Ut={class:"text-[14px]"},Lt={class:"text-[14px] mt-[2px]"},Nt={key:0,class:"m-auto"},Wt=y(()=>s("img",{src:at},null,-1)),At=y(()=>s("p",{class:"text-center text-gray-400"},"暂无站点",-1)),Kt=[Wt,At],Ht={class:"mt-[16px] flex justify-end"},Mt=K({__name:"index",setup(l){const w=F(),o=H({params:{keywords:"",page:1,limit:12,app:"",sort:!1},loading:!1,tableData:[],total:0}),{params:m,loading:k,tableData:b}=M(o),c=(a=1)=>{o.params.page=a,o.loading=!0,rt(o.params).then(e=>{o.tableData=e.data.data,o.total=e.data.total,o.loading=!1}).catch(()=>{o.loading=!1})};c();const C=a=>{o.params.app=a,c()},x=I({icon:"",site_name:""});(()=>{nt().then(a=>{x.value=a.data})})();const z=a=>{v.set({key:"siteId",data:a.site_id}),v.set({key:"siteInfo",data:a}),v.set({key:"comparisonSiteIdStorage",data:a.site_id}),F().$patch(e=>{e.siteInfo=e}),location.href=`${location.origin}/site/`},D=()=>{w.logout()},S=I([]);it().then(({data:a})=>{const e=[];Object.keys(a).forEach(f=>{const u=a[f];u.type=="app"&&e.push(u)}),S.value=e}).catch();const B=()=>{G("加班加点研发中...")};return(a,e)=>{const f=O,u=et,U=P,L=T,N=J;return p(),n("div",null,[s("div",lt,[s("div",ct,[x.value.icon?(p(),n("img",{key:0,class:"w-[32x] h-[32px] rounded-full",src:i(V)(x.value.icon),alt:""},null,8,dt)):(p(),n("img",_t)),s("span",mt,r(x.value.site_name),1)]),s("div",xt,[s("span",ut,r(i(w).userInfo.username),1),s("span",{onClick:e[0]||(e[0]=t=>D()),class:"text-[14px] cursor-pointer text-[var(--el-color-primary)]"},"退出")])]),s("div",ft,[s("div",gt,[ht,_(f,{type:"primary",class:"w-[90px] !h-[34px]",onClick:B},{default:g(()=>[Y("创建站点")]),_:1})]),s("div",vt,[s("div",yt,[s("span",{class:h(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":i(m).app==""}]),onClick:e[1]||(e[1]=t=>C(""))},"所有应用",2),(p(!0),n($,null,j(S.value,(t,d)=>(p(),n("span",{class:h(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":i(m).app==t.key}]),onClick:W=>C(t.key),key:d},r(t.title),11,wt))),128))]),_(U,{modelValue:i(m).keywords,"onUpdate:modelValue":e[3]||(e[3]=t=>i(m).keywords=t),class:"!w-[300px] !h-[34px]",placeholder:"请输入要搜索的站点名称",onKeyup:e[4]||(e[4]=R(t=>c(),["enter","native"]))},{suffix:g(()=>[_(u,{onClick:e[2]||(e[2]=Z(t=>c(),["stop"])),class:"cursor-pointer"},{default:g(()=>[_(i(tt))]),_:1})]),_:1},8,["modelValue"])]),s("div",kt,[q((p(),n("div",bt,[(p(!0),n($,null,j(i(b),(t,d)=>(p(),n("div",{key:d,onClick:W=>z(t),class:h(["home-item w-[285px] box-border mb-[20px] cursor-pointer",{"mr-[20px]":d==0||(d+1)%4!=0}])},[s("div",St,[t.logo?(p(),n("img",{key:0,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:i(V)(t.logo)},null,8,Ft)):(p(),n("img",It)),s("div",$t,[s("div",jt,[s("span",Et,r(t.site_name),1),t.app_name?(p(),n("div",Vt,[s("span",zt,r(t.app_name),1)])):E("",!0)]),s("span",Dt,r(t.create_time?t.create_time.split(" ")[0]:"--")+" 到 "+r(t.expire_time?t.expire_time.split(" ")[0]:"--"),1)])]),s("div",Bt,[s("p",Ut,"站点编号："+r(t.site_id),1),s("p",Lt,"站点套餐："+r(t.group_name||"--"),1)])],10,Ct))),128)),!i(b).length&&!i(k)?(p(),n("div",Nt,Kt)):E("",!0)])),[[N,i(k)]])]),s("div",Ht,[_(L,{"current-page":o.params.page,"onUpdate:current-page":e[5]||(e[5]=t=>o.params.page=t),"page-size":o.params.limit,"onUpdate:page-size":e[6]||(e[6]=t=>o.params.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:o.total,onSizeChange:e[7]||(e[7]=t=>c()),onCurrentChange:c,"hide-on-single-page":!0},null,8,["current-page","page-size","total"])])])])}}});const pe=pt(Mt,[["__scopeId","data-v-6ec97722"]]);export{pe as default};
