import{d as B,r as S,c as T,e as a,f as v,y as o,x as s,g as n,B as k,u as e,i as L,R as Y,A as j,bl as ue,bm as pe,o as me,v as $,z as A,F as P,H as M,Q as ee,n as D,w as _e,bo as fe,Z as xe,V as he}from"./base-9962c822.js";import{E as O,c as ne,d as le,a as ve}from"./index-c4e33d8d.js";/* empty css                     *//* empty css                   *//* empty css                  *//* empty css               */import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-780dd221.js";import{h as ge,G as we,g as te}from"./index-5c4817f4.js";/* empty css                  *//* empty css                        *//* empty css                 *//* empty css                  */import{u as z}from"./system-1108e5c1.js";import{s as oe,a as C,f as ye}from"./storage-0874d153.js";import{t as p,u as ae}from"./index-6e46fb55.js";import{E as be}from"./index-83924071.js";import{E as ke}from"./index-6036b781.js";import{E as G}from"./index-2ee99ba1.js";import{E as re}from"./index-b529eb0c.js";import{O as Ee,ax as $e}from"./index-57446bef.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                         *//* empty css                  *//* empty css                  */import{b as Q,u as Z}from"./vue-router-d7e63612.js";import{u as ie,d as Se}from"./index-38fee8c5.js";import{s as Ve}from"./personal-302ef1ba.js";/* empty css                        */import{E as Ce}from"./index-886a23f9.js";import{a as Ie,b as Pe,E as De}from"./index-3427fe17.js";import{E as J}from"./index-e2acd187.js";import{E as Te}from"./index-fc574226.js";import{E as Ue}from"./index-19251c17.js";import{a as Re,E as Me}from"./index-7c833df7.js";import{E as X}from"./index-7ab57426.js";import{a as Be,E as Le,e as Ae,c as je,b as ze}from"./index-455ade26.js";import{E as Fe,a as We}from"./index-20ef35a7.js";import"./el-tooltip-4ed993c7.js";import{_ as qe}from"./icon-addon-339e16d0.js";import{aa as He}from"./sys-361f7d2c.js";/* empty css                */import"./pinia-a9fc3924.js";import"./validator-00f31ee7.js";import"./event-9519ab40.js";import"./index-6b77b11a.js";import"./index-71b7d8f4.js";import"./index-1370ab44.js";import"./error-78e43d3e.js";import"./index-ab38878f.js";import"./index-c98e204a.js";import"./focus-trap-d0fc8554.js";import"./position-8e494ab3.js";import"./index-df16e899.js";import"./index-6edd46fb.js";import"./debounce-9674000c.js";import"./index-91fda20f.js";import"./scroll-d85c8f38.js";import"./vnode-562dae50.js";import"./index-2cabf788.js";import"./typescript-defaf979.js";import"./dropdown-ccb689be.js";import"./index-ec548bfb.js";import"./_Uint8Array-c92ffa25.js";import"./_initCloneObject-41dd9efb.js";import"./aria-adfa05c5.js";import"./index-c25955fe.js";const Ne={class:"flex"},Oe={class:"setting-item flex items-center justify-between mb-[10px]"},Ge={class:"title text-base text-tx-secondary"},Ke={class:""},Qe={class:"setting-item flex items-center justify-between mb-[10px]"},Ze={class:"title text-base text-tx-secondary"},Je={class:""},Xe=B({__name:"layout-setting",setup(r){const f=S(!1),m=z(),_=ge(),y=Ee(_),i=T({get(){return m.dark},set(t){m.setTheme("dark",t),y(t),oe(m.theme,m.dark?"dark":"light")}}),x=T({get(){return m.theme},set(t){m.setTheme("theme",t),oe(m.theme,m.dark?"dark":"light")}});return(t,c)=>{const d=W,h=be,l=ke,g=G,w=re;return a(),v("div",Ne,[o(d,{name:"element-Setting",onClick:c[0]||(c[0]=u=>f.value=!0)}),o(w,{modelValue:f.value,"onUpdate:modelValue":c[3]||(c[3]=u=>f.value=u),title:e(p)("layout.layoutSetting"),size:"300px"},{default:s(()=>[o(g,null,{default:s(()=>[n("div",Oe,[n("div",Ge,k(e(p)("layout.darkMode")),1),n("div",Ke,[o(h,{modelValue:e(i),"onUpdate:modelValue":c[1]||(c[1]=u=>L(i)?i.value=u:null),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])]),n("div",Qe,[n("div",Ze,k(e(p)("layout.themeColor")),1),n("div",Je,[o(l,{modelValue:e(x),"onUpdate:modelValue":c[2]||(c[2]=u=>L(x)?x.value=u:null)},null,8,["modelValue"])])])]),_:1})]),_:1},8,["modelValue","title"])])}}});const Ye=K(Xe,[["__scopeId","data-v-75affd31"]]),q=r=>(ue("data-v-91edf1de"),r=r(),pe(),r),et={class:"userinfo flex h-full items-center"},tt={class:"user-name pl-[8px]"},ot=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconqiehuan ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"切换站点")],-1)),st=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconshezhi1 ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"账号设置")],-1)),nt=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconxiugai ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"修改密码")],-1)),lt=q(()=>n("div",{class:"flex items-center leading-[1] py-[2px]"},[n("span",{class:"iconfont icontuichudenglu !text-[21px] mr-[8px]"}),n("span",{class:"text-[14px]"},"退出登录")],-1)),at={class:"form-tip"},rt={class:"dialog-footer"},it=B({__name:"user-info",setup(r){const f=ie(),m=Q(),_=h=>{switch(h){case"logout":f.logout();break}},y=h=>{m.push(h)};let i=S(!1);const x=S();let t=Y({original_password:"",password:"",password_copy:""});const c=Y({original_password:[{required:!0,message:p("originalPasswordPlaceholder"),trigger:"blur"}],password:[{required:!0,message:p("passwordPlaceholder"),trigger:"blur"}],password_copy:[{required:!0,message:p("passwordPlaceholder"),trigger:"blur"}]}),d=h=>{h&&h.validate(l=>{if(l){let g="";if(t.password&&!t.original_password&&(g=p("originalPasswordHint")),t.password&&t.original_password&&!t.password_copy&&(g=p("newPasswordHint")),t.password&&t.original_password&&t.password_copy&&t.password!=t.password_copy&&(g=p("doubleCipherHint")),g){Te({type:"error",message:g});return}Ve(t).then(w=>{i.value=!1})}else return!1})};return(h,l)=>{const g=Ce,w=W,u=Ie,U=Pe,b=De,V=Ue,I=Re,H=Me,F=X,N=J;return a(),v("div",null,[o(b,{onCommand:_,tabindex:1},{dropdown:s(()=>[o(U,null,{default:s(()=>[o(u,{onClick:l[0]||(l[0]=E=>y("/home/index"))},{default:s(()=>[ot]),_:1}),o(u,{onClick:l[1]||(l[1]=E=>y("/user/center"))},{default:s(()=>[st]),_:1}),o(u,{onClick:l[2]||(l[2]=E=>L(i)?i.value=!0:i=!0)},{default:s(()=>[nt]),_:1}),o(u,{command:"logout"},{default:s(()=>[lt]),_:1})]),_:1})]),default:s(()=>[n("div",et,[o(g,{size:25,icon:e($e)},null,8,["icon"]),n("div",tt,k(e(f).userInfo.username),1),o(w,{name:"element-ArrowDown",class:"ml-[5px]"})])]),_:1}),o(N,{modelValue:e(i),"onUpdate:modelValue":l[8]||(l[8]=E=>L(i)?i.value=E:i=E),width:"450px",title:"修改密码","before-close":h.handleClose},{footer:s(()=>[n("span",rt,[o(F,{onClick:l[6]||(l[6]=E=>L(i)?i.value=!1:i=!1)},{default:s(()=>[j(k(e(p)("cancel")),1)]),_:1}),o(F,{type:"primary",onClick:l[7]||(l[7]=E=>d(x.value))},{default:s(()=>[j(k(e(p)("save")),1)]),_:1})])]),default:s(()=>[n("div",null,[o(H,{model:e(t),"label-width":"90px",ref_key:"formRef",ref:x,rules:c,class:"page-form"},{default:s(()=>[o(I,{label:e(p)("originalPassword"),prop:"original_password"},{default:s(()=>[o(V,{modelValue:e(t).original_password,"onUpdate:modelValue":l[3]||(l[3]=E=>e(t).original_password=E),type:"password",placeholder:e(p)("originalPasswordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(I,{label:e(p)("newPassword"),prop:"password"},{default:s(()=>[o(V,{modelValue:e(t).password,"onUpdate:modelValue":l[4]||(l[4]=E=>e(t).password=E),type:"password",placeholder:e(p)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"]),n("div",at,k(e(p)("passwordTip")),1)]),_:1},8,["label"]),o(I,{label:e(p)("passwordCopy"),prop:"password_copy"},{default:s(()=>[o(V,{modelValue:e(t).password_copy,"onUpdate:modelValue":l[5]||(l[5]=E=>e(t).password_copy=E),type:"password",placeholder:e(p)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","before-close"])])}}});const ct=K(it,[["__scopeId","data-v-91edf1de"]]),dt={class:"left-panel h-full flex items-center"},ut={class:"flex items-center h-full pl-[10px] hidden-xs-only"},pt={class:"right-panel h-full flex items-center justify-end"},mt=["title"],_t={class:"navbar-item flex items-center h-full cursor-pointer"},ft={class:"navbar-item flex items-center h-full cursor-pointer"},xt={class:"dialog-footer"},ht=B({__name:"index",setup(r){Q();const f=C.get("app_type");we();const m=z(),_=ae(),y=Z(),i=S(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),x=T(()=>m.dark),t=S(!1),c=S(""),d=S("");C.get("comparisonTokenStorage")&&(c.value=C.get("comparisonTokenStorage")),C.get("comparisonSiteIdStorage")&&(d.value=C.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",w=>{document.visibilityState==="visible"&&(d.value!=C.get("siteId")||c.value!=C.get("token"))&&(t.value=!0)});const h=()=>{t.value=!1,location.reload()};me(()=>{window.onresize=()=>(()=>{i.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()});const l=()=>{_.routeRefreshTag&&_.refreshRouterView()},g=T(()=>{const w=y.matched.filter(u=>u.meta.title);return w[0]&&w[0].path=="/"&&w.splice(0,1),w});return(w,u)=>{const U=W,b=Be,V=Le,I=Fe,H=We,F=X,N=J,E=O;return a(),$(E,{class:D(["h-full px-[10px]",{"layout-header border-b border-color":!e(x)}])},{default:s(()=>[o(H,{class:"w-100 h-full w-full"},{default:s(()=>[o(I,{span:12},{default:s(()=>[n("div",dt,[n("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:l},[o(U,{name:"element-Refresh"})]),n("div",ut,[o(V,{separator:"/"},{default:s(()=>[(a(!0),v(P,null,A(e(g),(R,de)=>(a(),$(b,{key:de},{default:s(()=>[j(k(R.meta.title),1)]),_:2},1024))),128))]),_:1})])])]),_:1}),o(I,{span:12},{default:s(()=>[n("div",pt,[e(f)=="site"?(a(),v("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:e(p)("newInfo")},null,8,mt)):M("",!0),n("div",_t,[o(Ye)]),n("div",ft,[o(ct)])])]),_:1})]),_:1}),ee(n("input",{type:"hidden","onUpdate:modelValue":u[0]||(u[0]=R=>c.value=R)},null,512),[[te,c.value]]),ee(n("input",{type:"hidden","onUpdate:modelValue":u[1]||(u[1]=R=>d.value=R)},null,512),[[te,d.value]]),o(N,{modelValue:t.value,"onUpdate:modelValue":u[2]||(u[2]=R=>t.value=R),title:e(p)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:s(()=>[n("span",xt,[o(F,{onClick:h},{default:s(()=>[j(k(e(p)("layout.detectionLoginOperation")),1)]),_:1})])]),default:s(()=>[n("span",null,k(e(p)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const vt=K(ht,[["__scopeId","data-v-eb9e514a"]]);const gt={key:0,class:"w-[16px] h-[16px] relative flex items-center"},wt={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},yt={class:"relative"},bt={key:3,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},kt={class:"flex flex-wrap"},Et=["onClick"],$t=["onClick"],St={class:"dialog-footer"},ce=B({__name:"menu-item",props:{routes:{type:Object,required:!0},routePath:{type:String}},setup(r){const f=r,m=Q(),_=T(()=>f.routes.meta),y=d=>`${f.routePath}/${d}`,i=S(),x=S(!1),t=S(""),c=()=>{He({view_path:t.value}).then(()=>{x.value=!1,m.go(0)})};return(d,h)=>{const l=W,g=Ae,w=je,u=X,U=J;return a(),v(P,null,[e(_).show?(a(),v(P,{key:0},[r.routes.children?(a(),$(g,{key:0,index:String(r.routes.name)},{title:s(()=>[e(_).icon&&r.routes.meta.class==1?(a(),v("div",gt,[e(_).icon?(a(),$(l,{key:0,name:e(_).icon,class:"absolute !w-auto"},null,8,["name"])):M("",!0)])):M("",!0),n("span",{class:D(["ml-[10px]",{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1}])},k(e(_).title),3)]),default:s(()=>[(a(!0),v(P,null,A(r.routes.children,(b,V)=>(a(),$(ce,{routes:b,"route-path":y(b.path),key:V},null,8,["routes","route-path"]))),128))]),_:1},8,["index"])):r.routes.meta.class==1?(a(),$(w,{key:1,index:String(r.routes.name),route:r.routePath},{title:s(()=>[n("div",yt,[n("span",{class:D(["ml-[10px]",{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1}])},k(e(_).title),3)])]),default:s(()=>[e(_).icon?(a(),v("div",wt,[o(l,{name:e(_).icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"])])):M("",!0)]),_:1},8,["index","route"])):(a(),$(w,{key:2,index:String(r.routes.name),route:r.routePath},{title:s(()=>[n("span",{class:D([{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1},{"ml-[10px]":r.routes.meta.class==2,"ml-[15px]":r.routes.meta.class==3}])},k(e(_).title),3)]),_:1},8,["index","route"])),r.routes.is_border?(a(),v("div",bt)):M("",!0)],64)):M("",!0),o(U,{modelValue:x.value,"onUpdate:modelValue":h[0]||(h[0]=b=>x.value=b),title:e(p)("indexTemplate"),width:"550px","destroy-on-close":!0},{footer:s(()=>[n("span",St,[o(u,{type:"primary",onClick:c},{default:s(()=>[j(k(e(p)("confirm")),1)]),_:1})])]),default:s(()=>[n("div",kt,[t.value==""?(a(!0),v(P,{key:0},A(i.value,(b,V)=>(a(),v("div",{key:V},[n("div",{onClick:I=>t.value=b.view_path,class:D(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",b.is_use==1?"bg-primary text-[#fff]":""])},[n("span",null,k(b.name),1)],10,Et)]))),128)):(a(!0),v(P,{key:1},A(i.value,(b,V)=>(a(),v("div",{key:V},[n("div",{onClick:I=>t.value=b.view_path,class:D(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",t.value==b.view_path?"bg-primary text-[#fff]":""])},[n("span",null,k(b.name),1)],10,$t)]))),128))])]),_:1},8,["modelValue","title"])],64)}}});const Vt={key:0,class:"logo flex items-center m-auto max-w-[210px] h-[30px]"},Ct=["src"],It={key:1,class:"max-h-[40px] max-w-[40px] rounded-full",src:qe,alt:""},Pt={class:"ml-[8px] text-[16px]"},Dt={key:1,class:"logo flex items-center justify-center w-[64px] h-[30px]"},Tt=n("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),Ut=[Tt],Rt=n("div",{class:"h-[48px]"},null,-1),se=B({__name:"side",setup(r){S("@/app/assets/images/login_logo.png");const f=z(),m=ie(),_=Z(),y=C.get("siteInfo")||!1,i=T(()=>String(_.name));let x=S([]);return m.routers.forEach((t,c)=>{t.name!=y.app?(t.meta.class=1,t.children&&t.children.forEach((d,h)=>{d.meta.class=2,d.children&&d.children.forEach((l,g)=>{l.meta.class=3})})):(t.children&&t.children.forEach((d,h)=>{d.meta.class=1,d.path=t.path+"/"+d.path,d.children&&d.children.forEach((l,g)=>{l.meta.class=2})}),x.value=m.routers.splice(c,1))}),x.value[0]&&x.value[0].children&&(x.value[0].children.reverse(),x.value[0].children.forEach((t,c)=>{c==0&&(t.is_border=!0),m.routers.unshift(t)})),(t,c)=>{const d=ne,h=ze,l=G,g=le,w=O;return a(),$(w,{class:"w-100 h-screen"},{default:s(()=>[o(d,{class:"logo-wrap w-100 border-0 border-b-[1px] border-solid border-[e5e7eb]"},{default:s(()=>[e(f).menuIsCollapse?(a(),v("div",Dt,Ut)):(a(),v("div",Vt,[e(C).get("siteInfo").logo?(a(),v("img",{key:0,class:"max-h-[40px] max-w-[40px] rounded-full",src:e(ye)(e(y).logo),alt:""},null,8,Ct)):(a(),v("img",It)),n("span",Pt,k(e(y).site_name),1)]))]),_:1}),o(g,{class:"menu-wrap"},{default:s(()=>[o(l,null,{default:s(()=>[o(h,{"default-active":e(i),router:!0,class:"aside-menu h-full","unique-opened":"true",collapse:e(f).menuIsCollapse},{default:s(()=>[(a(!0),v(P,null,A(e(m).routers,(u,U)=>(a(),$(ce,{routes:u,"route-path":u.path,key:U},null,8,["routes","route-path"]))),128))]),_:1},8,["default-active","collapse"]),Rt]),_:1})]),_:1})]),_:1})}}});const Mt=B({__name:"index",setup(r){const f=z(),m=T(()=>f.dark),_=Z();return _e(_,()=>{f.$patch(y=>{y.menuDrawer=!1})}),(y,i)=>{const x=ve,t=re;return a(),v(P,null,[o(x,{class:D(["h-screen layout-aside w-auto",{bright:!e(m)}])},{default:s(()=>[o(se,{class:"hidden-xs-only"})]),_:1},8,["class"]),o(t,{modelValue:e(f).menuDrawer,"onUpdate:modelValue":i[0]||(i[0]=c=>e(f).menuDrawer=c),direction:"ltr","with-header":!1,"custom-class":"aside-drawer",size:"210px"},{default:s(()=>[o(se)]),_:1},8,["modelValue"])],64)}}});const Bt={class:"common-layout min-w-[1200px]"},Lt={class:"p-[10px]"},Yo=B({__name:"index",setup(r){const f=ae(),m=Se(),_=z(),y=T(()=>_.dark);return(i,x)=>{const t=ne,c=he("router-view"),d=G,h=le,l=O;return a(),v("div",Bt,[o(l,{class:"w-100 h-screen"},{default:s(()=>[o(Mt),o(l,null,{default:s(()=>[o(t,null,{default:s(()=>[o(vt)]),_:1}),o(h,{class:D(["main-wrap h-full p-0",{"bg-page":e(y)}])},{default:s(()=>[o(d,null,{default:s(()=>[n("div",Lt,[e(f).routeRefreshTag?(a(),$(c,{key:0},{default:s(({Component:g,route:w})=>[(a(),$(fe,{include:e(m).tabNames},[(a(),$(xe(g),{key:w.fullPath}))],1032,["include"]))]),_:1})):M("",!0)])]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})])}}});export{Yo as default};
