import{d as Y,q,r as v,cz as g,a1 as w,h as u,c as p,a as c,b as G,e as a,w as t,a5 as W,u as s,I as N,N as r,i as E,t as h,F as b,G as I,A as U,a4 as D,a2 as X,W as H,ap as J,X as Q,E as Z,aa as ee}from"./index-4dcc0234.js";/* empty css                   *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                     *//* empty css                 *//* empty css                */import{g as le}from"./diy-aa30030c.js";const ae=["onClick"],te={class:"flex items-start"},oe=["onClick"],se={class:"mb-[16px]"},ne={class:"mb-[16px]"},re=c("div",{class:"text-sm text-gray-400 select-text"},"路径必须以“/”开头，例：/pages/index/index",-1),ie=c("div",{class:"text-sm text-gray-400 select-text"},"跳转外部链接“/”开头，例：https://baidu.com",-1),ue={key:1,class:"flex flex-wrap"},de=["onClick"],ce={class:"dialog-footer"},ye=Y({__name:"index",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(B,{expose:P,emit:S}){const $=B,i=q({get(){return $.modelValue},set(o){S("update:modelValue",o)}}),m=v(!1),_=v([]),d=v(""),x=v([]),e=v([]),j=()=>{i.value.name!=""&&(e.value=g(i.value),d.value=e.value.parent),m.value=!0};le({}).then(o=>{_.value=o.data,x.value=Object.values(_.value)[0].child_list,i.value.name!=""?e.value=g(i.value):e.value={parent:Object.values(_.value)[0].name},d.value=e.value.parent});const A=o=>{x.value=o.child_list,d.value=o.name},F=o=>{delete o.is_share,Object.assign(e.value,o)},O=()=>{i.value={name:"",parent:"",title:"",url:""}},z=()=>{if(d.value==="DIY_LINK"){if(e.value.parent=d.value,e.value.name=d.value,!e.value.title){D({message:r("diyLinkNameNotEmpty"),type:"warning"});return}if(!e.value.url){D({message:r("diyLinkUrlNotEmpty"),type:"warning"});return}}i.value=g(e.value),m.value=!1};return P({showDialog:m}),(o,n)=>{const K=w("Close"),V=X,M=w("ArrowRight"),k=H,C=J,f=Q,L=Z,R=ee;return u(),p("div",null,[c("div",{onClick:j},[G(o.$slots,"default",{},()=>[a(k,{modelValue:s(i).title,"onUpdate:modelValue":n[0]||(n[0]=l=>s(i).title=l),placeholder:s(r)("linkPlaceholder"),readonly:""},{suffix:t(()=>[c("div",{onClick:W(O,["stop"])},[s(i).name?(u(),N(V,{key:0},{default:t(()=>[a(K)]),_:1})):(u(),N(V,{key:1},{default:t(()=>[a(M)]),_:1}))],8,ae)]),_:1},8,["modelValue","placeholder"])])]),a(R,{modelValue:m.value,"onUpdate:modelValue":n[4]||(n[4]=l=>m.value=l),title:s(r)("selectLinkTips"),width:"40%","close-on-press-escape":!1,"destroy-on-close":!0,"close-on-click-modal":!1},{footer:t(()=>[c("span",ce,[a(L,{onClick:n[3]||(n[3]=l=>m.value=!1)},{default:t(()=>[E(h(s(r)("cancel")),1)]),_:1}),a(L,{type:"primary",onClick:z},{default:t(()=>[E(h(s(r)("confirm")),1)]),_:1})])]),default:t(()=>[c("div",te,[a(C,{class:"w-[140px] border-r h-[350px]"},{default:t(()=>[(u(!0),p(b,null,I(_.value,(l,y)=>(u(),p("div",{key:y,class:U(["h-[40px] leading-[40px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==d.value?"bg-primary-light-9 text-primary":""]]),onClick:T=>A(l)},h(l.title),11,oe))),128))]),_:1}),a(C,{class:"pl-4 h-[350px] flex-1"},{default:t(()=>[d.value=="DIY_LINK"?(u(),p(b,{key:0},[c("div",se,[a(f,{label:s(r)("diyLinkName")},{default:t(()=>[a(k,{modelValue:e.value.title,"onUpdate:modelValue":n[1]||(n[1]=l=>e.value.title=l),placeholder:s(r)("diyLinkNamePlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),c("div",ne,[a(f,{label:s(r)("diyLinkUrl")},{default:t(()=>[a(k,{modelValue:e.value.url,"onUpdate:modelValue":n[2]||(n[2]=l=>e.value.url=l),placeholder:s(r)("diyLinkUrlPlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),a(f,{label:" "},{default:t(()=>[re]),_:1}),a(f,{label:" "},{default:t(()=>[ie]),_:1})],64)):(u(),p("div",ue,[(u(!0),p(b,null,I(x.value,(l,y)=>(u(),p("div",{key:y,class:U(["border border-br rounded-[3px] mr-[10px] mb-[10px] px-4 h-[32px] leading-[32px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==e.value.name?"border-primary text-primary":""]]),onClick:T=>F(l)},h(l.title),11,de))),128))]))]),_:1})])]),_:1},8,["modelValue","title"])])}}});export{ye as _};
