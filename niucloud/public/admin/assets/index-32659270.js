import{d as B,r as S,c as D,e as a,f as v,y as o,x as s,g as n,B as k,u as e,i as L,R as Y,A as j,b9 as ue,ba as pe,o as me,v as $,z as A,F as I,H as M,Q as ee,n as P,w as _e,bc as fe,Z as xe,V as he}from"./base-d79f9f62.js";import{E as O,c as ne,d as le,a as ve}from"./index-5dbb8f83.js";/* empty css                     *//* empty css                   *//* empty css                  *//* empty css               */import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-772fa486.js";import{h as ge,G as we,g as te}from"./index-3fd412a3.js";/* empty css                  *//* empty css                        *//* empty css                 *//* empty css                  */import{u as z}from"./system-d23898e7.js";import{s as oe,a as R,f as ye}from"./storage-5316d819.js";import{t as m,u as ae}from"./index-9e0d1e6c.js";import{E as be}from"./index-797616f3.js";import{E as ke}from"./index-c58e144c.js";import{E as G}from"./index-2462875f.js";import{E as re}from"./index-85f612a4.js";import{O as Ee,ax as $e}from"./index-2048a34f.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                         *//* empty css                  *//* empty css                  */import{b as Q,u as Z}from"./vue-router-fc35ac55.js";import{u as ie,d as Se}from"./index-6fcaf7b3.js";import{s as Ve}from"./personal-331e943c.js";/* empty css                        */import{E as Ce}from"./index-ec9f9fb2.js";import{a as Ie,b as Pe,E as De}from"./index-e3c69a8e.js";import{E as J}from"./index-d0ada8fb.js";import{E as Te}from"./index-40716d69.js";import{E as Ue}from"./index-f249e665.js";import{a as Re,E as Me}from"./index-6befecc6.js";import{E as X}from"./index-03649f16.js";import{a as Be,E as Le,e as Ae,c as je,b as ze}from"./index-e5c4df7a.js";import{E as Fe,a as We}from"./index-7d2f3ba9.js";import"./el-tooltip-4ed993c7.js";import{_ as qe}from"./icon-addon-339e16d0.js";import{a9 as He}from"./sys-3d5b784a.js";/* empty css                */import"./pinia-55149fa9.js";import"./validator-8f1b170d.js";import"./event-9519ab40.js";import"./index-427f5a83.js";import"./index-71aec1df.js";import"./index-bdfee32a.js";import"./error-78e43d3e.js";import"./index-54a839cc.js";import"./index-34cd7f55.js";import"./focus-trap-50fa5770.js";import"./position-4bcbb4c8.js";import"./index-6229e0fd.js";import"./index-af085fbd.js";import"./debounce-6fd93949.js";import"./index-cf3a42e3.js";import"./scroll-aa5f3aa0.js";import"./vnode-772b0c47.js";import"./index-542aa78e.js";import"./typescript-defaf979.js";import"./dropdown-465e3407.js";import"./index-b6ca69fd.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./aria-adfa05c5.js";import"./index-6d156531.js";const Ne={class:"flex"},Oe={class:"setting-item flex items-center justify-between mb-[10px]"},Ge={class:"title text-base text-tx-secondary"},Ke={class:""},Qe={class:"setting-item flex items-center justify-between mb-[10px]"},Ze={class:"title text-base text-tx-secondary"},Je={class:""},Xe=B({__name:"layout-setting",setup(r){const f=S(!1),p=z(),_=ge(),w=Ee(_),i=D({get(){return p.dark},set(t){p.setTheme("dark",t),w(t),oe(p.theme,p.dark?"dark":"light")}}),x=D({get(){return p.theme},set(t){p.setTheme("theme",t),oe(p.theme,p.dark?"dark":"light")}});return(t,c)=>{const d=W,h=be,l=ke,g=G,y=re;return a(),v("div",Ne,[o(d,{name:"element-Setting",onClick:c[0]||(c[0]=u=>f.value=!0)}),o(y,{modelValue:f.value,"onUpdate:modelValue":c[3]||(c[3]=u=>f.value=u),title:e(m)("layout.layoutSetting"),size:"300px"},{default:s(()=>[o(g,null,{default:s(()=>[n("div",Oe,[n("div",Ge,k(e(m)("layout.darkMode")),1),n("div",Ke,[o(h,{modelValue:e(i),"onUpdate:modelValue":c[1]||(c[1]=u=>L(i)?i.value=u:null),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])])]),n("div",Qe,[n("div",Ze,k(e(m)("layout.themeColor")),1),n("div",Je,[o(l,{modelValue:e(x),"onUpdate:modelValue":c[2]||(c[2]=u=>L(x)?x.value=u:null)},null,8,["modelValue"])])])]),_:1})]),_:1},8,["modelValue","title"])])}}});const Ye=K(Xe,[["__scopeId","data-v-75affd31"]]),q=r=>(ue("data-v-91edf1de"),r=r(),pe(),r),et={class:"userinfo flex h-full items-center"},tt={class:"user-name pl-[8px]"},ot=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconqiehuan ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"切换站点")],-1)),st=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconshezhi1 ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"账号设置")],-1)),nt=q(()=>n("div",{class:"flex items-center leading-[1] py-[5px]"},[n("span",{class:"iconfont iconxiugai ml-[4px] !text-[14px] mr-[10px]"}),n("span",{class:"text-[14px]"},"修改密码")],-1)),lt=q(()=>n("div",{class:"flex items-center leading-[1] py-[2px]"},[n("span",{class:"iconfont icontuichudenglu !text-[21px] mr-[8px]"}),n("span",{class:"text-[14px]"},"退出登录")],-1)),at={class:"form-tip"},rt={class:"dialog-footer"},it=B({__name:"user-info",setup(r){const f=ie(),p=Q(),_=h=>{switch(h){case"logout":f.logout();break}},w=h=>{p.push(h)};let i=S(!1);const x=S();let t=Y({original_password:"",password:"",password_copy:""});const c=Y({original_password:[{required:!0,message:m("originalPasswordPlaceholder"),trigger:"blur"}],password:[{required:!0,message:m("passwordPlaceholder"),trigger:"blur"}],password_copy:[{required:!0,message:m("passwordPlaceholder"),trigger:"blur"}]}),d=h=>{h&&h.validate(l=>{if(l){let g="";if(t.password&&!t.original_password&&(g=m("originalPasswordHint")),t.password&&t.original_password&&!t.password_copy&&(g=m("newPasswordHint")),t.password&&t.original_password&&t.password_copy&&t.password!=t.password_copy&&(g=m("doubleCipherHint")),g){Te({type:"error",message:g});return}Ve(t).then(y=>{i.value=!1})}else return!1})};return(h,l)=>{const g=Ce,y=W,u=Ie,T=Pe,b=De,V=Ue,C=Re,H=Me,F=X,N=J;return a(),v("div",null,[o(b,{onCommand:_,tabindex:1},{dropdown:s(()=>[o(T,null,{default:s(()=>[o(u,{onClick:l[0]||(l[0]=E=>w("/home/index"))},{default:s(()=>[ot]),_:1}),o(u,{onClick:l[1]||(l[1]=E=>w("/user/center"))},{default:s(()=>[st]),_:1}),o(u,{onClick:l[2]||(l[2]=E=>L(i)?i.value=!0:i=!0)},{default:s(()=>[nt]),_:1}),o(u,{command:"logout"},{default:s(()=>[lt]),_:1})]),_:1})]),default:s(()=>[n("div",et,[o(g,{size:25,icon:e($e)},null,8,["icon"]),n("div",tt,k(e(f).userInfo.username),1),o(y,{name:"element-ArrowDown",class:"ml-[5px]"})])]),_:1}),o(N,{modelValue:e(i),"onUpdate:modelValue":l[8]||(l[8]=E=>L(i)?i.value=E:i=E),width:"450px",title:"修改密码","before-close":h.handleClose},{footer:s(()=>[n("span",rt,[o(F,{onClick:l[6]||(l[6]=E=>L(i)?i.value=!1:i=!1)},{default:s(()=>[j(k(e(m)("cancel")),1)]),_:1}),o(F,{type:"primary",onClick:l[7]||(l[7]=E=>d(x.value))},{default:s(()=>[j(k(e(m)("save")),1)]),_:1})])]),default:s(()=>[n("div",null,[o(H,{model:e(t),"label-width":"90px",ref_key:"formRef",ref:x,rules:c,class:"page-form"},{default:s(()=>[o(C,{label:e(m)("originalPassword"),prop:"original_password"},{default:s(()=>[o(V,{modelValue:e(t).original_password,"onUpdate:modelValue":l[3]||(l[3]=E=>e(t).original_password=E),type:"password",placeholder:e(m)("originalPasswordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(C,{label:e(m)("newPassword"),prop:"password"},{default:s(()=>[o(V,{modelValue:e(t).password,"onUpdate:modelValue":l[4]||(l[4]=E=>e(t).password=E),type:"password",placeholder:e(m)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"]),n("div",at,k(e(m)("passwordTip")),1)]),_:1},8,["label"]),o(C,{label:e(m)("passwordCopy"),prop:"password_copy"},{default:s(()=>[o(V,{modelValue:e(t).password_copy,"onUpdate:modelValue":l[5]||(l[5]=E=>e(t).password_copy=E),type:"password",placeholder:e(m)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","before-close"])])}}});const ct=K(it,[["__scopeId","data-v-91edf1de"]]),dt={class:"left-panel h-full flex items-center"},ut={class:"flex items-center h-full pl-[10px] hidden-xs-only"},pt={class:"right-panel h-full flex items-center justify-end"},mt=["title"],_t={class:"navbar-item flex items-center h-full cursor-pointer"},ft={class:"navbar-item flex items-center h-full cursor-pointer"},xt={class:"dialog-footer"},ht=B({__name:"index",setup(r){Q();const f=R.get("app_type");we();const p=z(),_=ae(),w=Z(),i=S(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),x=D(()=>p.dark),t=S(!1),c=S(""),d=S("");R.get("comparisonTokenStorage")&&(c.value=R.get("comparisonTokenStorage")),R.get("comparisonSiteIdStorage")&&(d.value=R.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",y=>{document.visibilityState==="visible"&&(d.value!=R.get("siteId")||c.value!=R.get("token"))&&(t.value=!0)});const h=()=>{t.value=!1,location.reload()};me(()=>{window.onresize=()=>(()=>{i.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth})()});const l=()=>{_.routeRefreshTag&&_.refreshRouterView()},g=D(()=>{const y=w.matched.filter(u=>u.meta.title);return y[0]&&y[0].path=="/"&&y.splice(0,1),y});return(y,u)=>{const T=W,b=Be,V=Le,C=Fe,H=We,F=X,N=J,E=O;return a(),$(E,{class:P(["h-full px-[10px]",{"layout-header border-b border-color":!e(x)}])},{default:s(()=>[o(H,{class:"w-100 h-full w-full"},{default:s(()=>[o(C,{span:12},{default:s(()=>[n("div",dt,[n("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:l},[o(T,{name:"element-Refresh"})]),n("div",ut,[o(V,{separator:"/"},{default:s(()=>[(a(!0),v(I,null,A(e(g),(U,de)=>(a(),$(b,{key:de},{default:s(()=>[j(k(U.meta.title),1)]),_:2},1024))),128))]),_:1})])])]),_:1}),o(C,{span:12},{default:s(()=>[n("div",pt,[e(f)=="site"?(a(),v("i",{key:0,class:"iconfont iconlingdang-xianxing cursor-pointer px-[8px]",title:e(m)("newInfo")},null,8,mt)):M("",!0),n("div",_t,[o(Ye)]),n("div",ft,[o(ct)])])]),_:1})]),_:1}),ee(n("input",{type:"hidden","onUpdate:modelValue":u[0]||(u[0]=U=>c.value=U)},null,512),[[te,c.value]]),ee(n("input",{type:"hidden","onUpdate:modelValue":u[1]||(u[1]=U=>d.value=U)},null,512),[[te,d.value]]),o(N,{modelValue:t.value,"onUpdate:modelValue":u[2]||(u[2]=U=>t.value=U),title:e(m)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:s(()=>[n("span",xt,[o(F,{onClick:h},{default:s(()=>[j(k(e(m)("layout.detectionLoginOperation")),1)]),_:1})])]),default:s(()=>[n("span",null,k(e(m)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"])]),_:1},8,["class"])}}});const vt=K(ht,[["__scopeId","data-v-eb9e514a"]]);const gt={key:0,class:"w-[16px] h-[16px] relative flex items-center"},wt={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},yt={class:"relative"},bt={key:3,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},kt={class:"flex flex-wrap"},Et=["onClick"],$t=["onClick"],St={class:"dialog-footer"},ce=B({__name:"menu-item",props:{routes:{type:Object,required:!0},routePath:{type:String}},setup(r){const f=r,p=Q(),_=D(()=>f.routes.meta),w=d=>`${f.routePath}/${d}`,i=S(),x=S(!1),t=S(""),c=()=>{He({view_path:t.value}).then(()=>{x.value=!1,p.go(0)})};return(d,h)=>{const l=W,g=Ae,y=je,u=X,T=J;return a(),v(I,null,[e(_).show?(a(),v(I,{key:0},[r.routes.children?(a(),$(g,{key:0,index:String(r.routes.name)},{title:s(()=>[e(_).icon&&r.routes.meta.class==1?(a(),v("div",gt,[e(_).icon?(a(),$(l,{key:0,name:e(_).icon,class:"absolute !w-auto"},null,8,["name"])):M("",!0)])):M("",!0),n("span",{class:P(["ml-[10px]",{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1}])},k(e(_).title),3)]),default:s(()=>[(a(!0),v(I,null,A(r.routes.children,(b,V)=>(a(),$(ce,{routes:b,"route-path":w(b.path),key:V},null,8,["routes","route-path"]))),128))]),_:1},8,["index"])):r.routes.meta.class==1?(a(),$(y,{key:1,index:String(r.routes.name),route:r.routePath},{title:s(()=>[n("div",yt,[n("span",{class:P(["ml-[10px]",{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1}])},k(e(_).title),3)])]),default:s(()=>[e(_).icon?(a(),v("div",wt,[o(l,{name:e(_).icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"])])):M("",!0)]),_:1},8,["index","route"])):(a(),$(y,{key:2,index:String(r.routes.name),route:r.routePath},{title:s(()=>[n("span",{class:P([{"text-[15px]":r.routes.meta.class==1},{"text-[14px]":r.routes.meta.class!=1},{"ml-[10px]":r.routes.meta.class==2,"ml-[15px]":r.routes.meta.class==3}])},k(e(_).title),3)]),_:1},8,["index","route"])),r.routes.is_border?(a(),v("div",bt)):M("",!0)],64)):M("",!0),o(T,{modelValue:x.value,"onUpdate:modelValue":h[0]||(h[0]=b=>x.value=b),title:e(m)("indexTemplate"),width:"550px","destroy-on-close":!0},{footer:s(()=>[n("span",St,[o(u,{type:"primary",onClick:c},{default:s(()=>[j(k(e(m)("confirm")),1)]),_:1})])]),default:s(()=>[n("div",kt,[t.value==""?(a(!0),v(I,{key:0},A(i.value,(b,V)=>(a(),v("div",{key:V},[n("div",{onClick:C=>t.value=b.view_path,class:P(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",b.is_use==1?"bg-primary text-[#fff]":""])},[n("span",null,k(b.name),1)],10,Et)]))),128)):(a(!0),v(I,{key:1},A(i.value,(b,V)=>(a(),v("div",{key:V},[n("div",{onClick:C=>t.value=b.view_path,class:P(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",t.value==b.view_path?"bg-primary text-[#fff]":""])},[n("span",null,k(b.name),1)],10,$t)]))),128))])]),_:1},8,["modelValue","title"])],64)}}});const Vt={key:0,class:"logo flex items-center m-auto max-w-[210px] h-[30px]"},Ct=["src"],It={key:1,class:"max-h-[40px] max-w-[40px] rounded-full",src:qe,alt:""},Pt={class:"ml-[8px] text-[16px]"},Dt={key:1,class:"logo flex items-center justify-center w-[64px] h-[30px]"},Tt=n("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),Ut=[Tt],Rt=n("div",{class:"h-[48px]"},null,-1),se=B({__name:"side",setup(r){S("@/app/assets/images/login_logo.png");const f=z(),p=ie(),_=Z(),w=p.siteInfo,i=D(()=>String(_.name));let x=S([]);return p.routers.forEach((t,c)=>{t.name!=w.app?(t.meta.class=1,t.children&&t.children.forEach((d,h)=>{d.meta.class=2,d.children&&d.children.forEach((l,g)=>{l.meta.class=3})})):(t.children&&t.children.forEach((d,h)=>{d.meta.class=1,d.path=t.path+"/"+d.path,d.children&&d.children.forEach((l,g)=>{l.meta.class=2})}),x.value=p.routers.splice(c,1))}),x.value[0]&&x.value[0].children&&(x.value[0].children.reverse(),x.value[0].children.forEach((t,c)=>{c==0&&(t.is_border=!0),p.routers.unshift(t)})),(t,c)=>{const d=ne,h=ze,l=G,g=le,y=O;return a(),$(y,{class:"w-100 h-screen"},{default:s(()=>[o(d,{class:"logo-wrap w-100 border-0 border-b-[1px] border-solid border-[e5e7eb]"},{default:s(()=>[e(f).menuIsCollapse?(a(),v("div",Dt,Ut)):(a(),v("div",Vt,[e(w).logo?(a(),v("img",{key:0,class:"max-h-[40px] max-w-[40px] rounded-full",src:e(ye)(e(w).logo),alt:""},null,8,Ct)):(a(),v("img",It)),n("span",Pt,k(e(w).site_name),1)]))]),_:1}),o(g,{class:"menu-wrap"},{default:s(()=>[o(l,null,{default:s(()=>[o(h,{"default-active":e(i),router:!0,class:"aside-menu h-full","unique-opened":"true",collapse:e(f).menuIsCollapse},{default:s(()=>[(a(!0),v(I,null,A(e(p).routers,(u,T)=>(a(),$(ce,{routes:u,"route-path":u.path,key:T},null,8,["routes","route-path"]))),128))]),_:1},8,["default-active","collapse"]),Rt]),_:1})]),_:1})]),_:1})}}});const Mt=B({__name:"index",setup(r){const f=z(),p=D(()=>f.dark),_=Z();return _e(_,()=>{f.$patch(w=>{w.menuDrawer=!1})}),(w,i)=>{const x=ve,t=re;return a(),v(I,null,[o(x,{class:P(["h-screen layout-aside w-auto",{bright:!e(p)}])},{default:s(()=>[o(se,{class:"hidden-xs-only"})]),_:1},8,["class"]),o(t,{modelValue:e(f).menuDrawer,"onUpdate:modelValue":i[0]||(i[0]=c=>e(f).menuDrawer=c),direction:"ltr","with-header":!1,"custom-class":"aside-drawer",size:"210px"},{default:s(()=>[o(se)]),_:1},8,["modelValue"])],64)}}});const Bt={class:"common-layout min-w-[1200px]"},Lt={class:"p-[10px]"},Yo=B({__name:"index",setup(r){const f=ae(),p=Se(),_=z(),w=D(()=>_.dark);return(i,x)=>{const t=ne,c=he("router-view"),d=G,h=le,l=O;return a(),v("div",Bt,[o(l,{class:"w-100 h-screen"},{default:s(()=>[o(Mt),o(l,null,{default:s(()=>[o(t,null,{default:s(()=>[o(vt)]),_:1}),o(h,{class:P(["main-wrap h-full p-0",{"bg-page":e(w)}])},{default:s(()=>[o(d,null,{default:s(()=>[n("div",Lt,[e(f).routeRefreshTag?(a(),$(c,{key:0},{default:s(({Component:g,route:y})=>[(a(),$(fe,{include:e(p).tabNames},[(a(),$(xe(g),{key:y.fullPath}))],1032,["include"]))]),_:1})):M("",!0)])]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})])}}});export{Yo as default};
