import{d as F,r as S,R as V,e as y,f as D,y as e,x as a,g as d,B as n,u as i,A as u,Q as G,v as R}from"./base-d79f9f62.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{t as o}from"./index-9e0d1e6c.js";import{n as $,o as j}from"./site-a042abc5.js";import{u as L,b as U}from"./vue-router-fc35ac55.js";import{E as I}from"./index-d1262e7a.js";import{E as q}from"./index-03649f16.js";import{E as A}from"./index-f249e665.js";import{a as M,E as Q}from"./index-6befecc6.js";import{E as H}from"./index-ba59a1dc.js";import{a as J,E as K}from"./index-2b5d43b9.js";import{E as O}from"./index-014848fe.js";import{v as W}from"./directive-13582d99.js";import"./pinia-55149fa9.js";import"./index-6fcaf7b3.js";import"./storage-5316d819.js";import"./index-2048a34f.js";import"./index-3fd412a3.js";import"./index-542aa78e.js";import"./typescript-defaf979.js";import"./index-34cd7f55.js";import"./system-d23898e7.js";import"./index-5dbb8f83.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-cf3a42e3.js";import"./error-78e43d3e.js";import"./scroll-aa5f3aa0.js";import"./vnode-772b0c47.js";import"./aria-adfa05c5.js";import"./focus-trap-50fa5770.js";import"./validator-8f1b170d.js";import"./index-6229e0fd.js";import"./index-71aec1df.js";import"./index-bdfee32a.js";import"./index-427f5a83.js";import"./event-9519ab40.js";import"./index-b6ca69fd.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./index-2462875f.js";import"./index-54a839cc.js";import"./index-d4057e2a.js";import"./isEqual-3f50b221.js";import"./flatten-0bbd547a.js";import"./_isIterateeCall-559d3e90.js";import"./debounce-6fd93949.js";import"./index-af085fbd.js";import"./index-f3bad52c.js";import"./index-3a5faaeb.js";import"./strings-d73e3c52.js";const X={class:"main-container"},Y={class:"flex justify-between items-center"},Z={class:"text-[20px]"},tt={class:"mt-[16px] flex justify-end"},ue=F({__name:"group",setup(et){const h=L(),_=U(),v=h.meta.title,g=S(),t=V({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{keywords:""}}),x=l=>{l&&(l.resetFields(),m())},m=(l=1)=>{t.loading=!0,t.page=l,$({page:t.page,limit:t.limit,...t.searchParam}).then(r=>{t.loading=!1,t.data=r.data.data,t.total=r.data.total}).catch(()=>{t.loading=!1})};m();const E=()=>{_.push("/admin/site/group_edit")},k=l=>{_.push({path:"/admin/site/group_edit",query:{id:l.group_id}})},C=l=>{I.confirm(o("groupDeleteTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{j(l).then(()=>{m()}).catch(()=>{})})};return(l,r)=>{const s=q,w=A,f=M,B=Q,b=H,c=J,T=K,N=O,P=W;return y(),D("div",X,[e(b,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[d("div",Y,[d("span",Z,n(i(v)),1),e(s,{type:"primary",class:"w-[100px]",onClick:E},{default:a(()=>[u(n(i(o)("addSiteGroup")),1)]),_:1})]),e(b,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:a(()=>[e(B,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:g},{default:a(()=>[e(f,{label:i(o)("groupName"),prop:"keywords"},{default:a(()=>[e(w,{modelValue:t.searchParam.keywords,"onUpdate:modelValue":r[0]||(r[0]=p=>t.searchParam.keywords=p),placeholder:i(o)("groupNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(f,null,{default:a(()=>[e(s,{type:"primary",onClick:r[1]||(r[1]=p=>m())},{default:a(()=>[u(n(i(o)("search")),1)]),_:1}),e(s,{onClick:r[2]||(r[2]=p=>x(g.value))},{default:a(()=>[u(n(i(o)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",null,[G((y(),R(T,{data:t.data,size:"large"},{empty:a(()=>[d("span",null,n(t.loading?"":i(o)("emptyData")),1)]),default:a(()=>[e(c,{prop:"group_name",label:i(o)("groupName")},null,8,["label"]),e(c,{prop:"group_desc",label:i(o)("remark")},null,8,["label"]),e(c,{prop:"create_time",label:i(o)("createTime")},null,8,["label"]),e(c,{prop:"group_roles",label:i(o)("operation"),align:"right",fixed:"right",width:"130"},{default:a(({row:p})=>[e(s,{type:"primary",link:"",onClick:z=>k(p)},{default:a(()=>[u(n(i(o)("edit")),1)]),_:2},1032,["onClick"]),e(s,{type:"primary",link:"",onClick:z=>C(p.group_id)},{default:a(()=>[u(n(i(o)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[P,t.loading]]),d("div",tt,[e(N,{"current-page":t.page,"onUpdate:current-page":r[3]||(r[3]=p=>t.page=p),"page-size":t.limit,"onUpdate:page-size":r[4]||(r[4]=p=>t.limit=p),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:r[5]||(r[5]=p=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{ue as default};
