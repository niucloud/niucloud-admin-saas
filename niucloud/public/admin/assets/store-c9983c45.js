import{d as ot,r as u,w as nt,R as Re,V as le,Q as ae,e as r,f as c,g as a,B as d,u as o,y as e,x as t,n as se,v as y,A as m,H as E,F as Q,z as W,U as Le,b9 as it,ba as dt}from"./base-d79f9f62.js";/* empty css                   *//* empty css                 */import{v as rt}from"./vue-web-terminal-e12a168b.js";/* empty css                     *//* empty css               *//* empty css                *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  *//* empty css                   *//* empty css                *//* empty css                 *//* empty css                        *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                 *//* empty css                        *//* empty css                 *//* empty css                */import{w as ut,d as pt,v as me}from"./index-3fd412a3.js";import{_ as ct}from"./icon-addon-339e16d0.js";import{_ as ve}from"./apply_empty-cdca3e85.js";import{t as l}from"./index-9e0d1e6c.js";import{a as ft,p as _t,b as mt,i as vt,c as ht,d as xt,e as gt,u as yt,f as bt}from"./addon-3b05baad.js";import{g as Be,d as kt,s as wt}from"./module-c4c1e190.js";import{u as Ct,f as Fe}from"./index-6fcaf7b3.js";import{a as Ue}from"./storage-5316d819.js";import{b as Et,u as Vt}from"./vue-router-fc35ac55.js";import{a as At}from"./index-542aa78e.js";import{E as It}from"./index-40716d69.js";import{E as $e}from"./index-d1262e7a.js";import{E as Tt}from"./index-2048a34f.js";import{E as St}from"./index-f249e665.js";import{E as Dt}from"./index-8774d4a8.js";import{a as Rt,E as Lt}from"./index-2b5d43b9.js";import{E as Bt}from"./index-54a839cc.js";import{E as Ft}from"./index-03649f16.js";import{E as Ut}from"./index-f7cbfd82.js";import{E as $t}from"./index-0b4254d8.js";import{E as Nt}from"./index-48558072.js";import{a as Mt,E as jt}from"./index-6befecc6.js";import{E as Pt}from"./index-ba59a1dc.js";import{E as zt}from"./index-d0ada8fb.js";import{a as Ot,E as qt}from"./index-5b670ffa.js";import{E as Ht,a as Kt}from"./index-7d2f3ba9.js";import{E as Qt}from"./index-2462875f.js";import{E as Wt}from"./index-7b05b657.js";import{E as Gt}from"./index-fd362e05.js";import{v as Jt}from"./directive-13582d99.js";import{_ as Xt}from"./_plugin-vue_export-helper-c27b6911.js";import"./pinia-55149fa9.js";import"./system-d23898e7.js";import"./index-5dbb8f83.js";import"./typescript-defaf979.js";import"./index-34cd7f55.js";import"./index-cf3a42e3.js";import"./error-78e43d3e.js";import"./scroll-aa5f3aa0.js";import"./vnode-772b0c47.js";import"./aria-adfa05c5.js";import"./focus-trap-50fa5770.js";import"./validator-8f1b170d.js";import"./index-6229e0fd.js";import"./index-71aec1df.js";import"./event-9519ab40.js";import"./index-b6ca69fd.js";import"./index-427f5a83.js";import"./index-51305aa3.js";import"./debounce-6fd93949.js";import"./position-4bcbb4c8.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./index-d4057e2a.js";import"./isEqual-3f50b221.js";import"./flatten-0bbd547a.js";import"./_isIterateeCall-559d3e90.js";import"./index-af085fbd.js";import"./index-bdfee32a.js";import"./dropdown-465e3407.js";const A=G=>(it("data-v-8fd0fd2f"),G=G(),dt(),G),Yt={class:"pt-[59px] px-[20px] app-store"},Zt={key:0},el={class:"flex justify-between items-center h-[32px] mb-4"},tl={class:"text-[20px] text-[#222]"},ll={class:"flex mt-[24px]"},al={class:"mt-[25px]"},sl=A(()=>a("div",{class:"flex items-center w-full h-full"},[a("img",{class:"max-w-full max-h-full",src:ct,alt:""})],-1)),ol={class:"flex flex-col justify-center h-[54px] pl-[20px] text-[#222] font-500 text-[13px]"},nl={class:"w-[236px] truncate leading-[18px]"},il={class:"w-[236px] truncate leading-[18px] mt-[6px]"},dl={class:"flex items-center"},rl={class:"text-[#222] font-500 text-[13px] mr-[5px]"},ul={class:"text-[#222] font-500 text-[13px]"},pl={class:"text-[#222] font-500 text-[13px] multi-hidden"},cl={class:"text-[#222] font-500 text-[13px]"},fl={class:"text-[#222] font-500 text-[13px]"},_l={key:0},ml={key:1},vl={key:2},hl=A(()=>a("div",{class:"w-[230px] mx-auto"},[a("img",{src:ve,class:"max-w-full",alt:""})],-1)),xl={class:"flex items-center"},gl=A(()=>a("div",{class:"w-[230px] mx-auto"},[a("img",{src:ve,class:"max-w-full",alt:""})],-1)),yl={class:"flex items-center"},bl={key:3,class:"mx-auto overview-empty flex flex-col items-center pt-14 pb-6"},kl=A(()=>a("div",{class:"mb-[20px] text-sm text-[#888]"},"检测到当前账号尚未绑定授权，请先绑定授权！",-1)),wl={class:"flex flex-1 flex-wrap justify-center relative"},Cl={class:"px-[18px] py-[8px]"},El=A(()=>a("p",{class:"leading-[32px] text-[14px]"}," 您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Vl={class:"flex justify-end mt-[36px]"},Al=A(()=>a("div",{class:"w-[230px] mx-auto"},[a("img",{src:ve,class:"max-w-full",alt:""})],-1)),Il={class:"flex items-center"},Tl={class:"mt-[20px]"},Sl={class:"text-sm mt-[10px] text-info"},Dl={class:"mt-[20px]"},Rl={class:"mt-[10px] text-right"},Ll={class:"input-width"},Bl={class:"input-width"},Fl={class:"input-width"},Ul={class:"input-width"},$l={class:"dialog-footer"},Nl={class:"min-h-[150px]"},Ml={key:0,class:"bg-[#fff] my-3"},jl={class:"pt-[20px] pl-[20px]"},Pl={class:"px-[20px] pt-[10px] text-[14px]"},zl={key:0},Ol={key:1},ql={key:0},Hl={key:1},Kl={class:"flex justify-end"},Ql={class:"h-[50vh] mt-[20px]"},Wl={class:"h-[50vh] mt-[20px] flex flex-col"},Gl={class:"mb-[10px]"},Jl={class:"min-h-[150px]"},Xl={key:0,class:"bg-[#fff] my-3"},Yl={class:"pt-[20px] pl-[20px]"},Zl={class:"px-[20px] pt-[10px] text-[14px]"},ea={key:0},ta={key:1},la={key:0},aa={key:1},sa=A(()=>a("span",null,"本地已经存在该插件/应用，再次下载会覆盖该插件/应用。",-1)),oa={class:"dialog-footer"},na=ot({__name:"store",setup(G){Et();const he=Vt(),h=u(Ue.get("storeActiveName")||"installed"),b=u(!0),I=u(""),oe=u([]),N=Ct(),M=u(!1),j=u(null),xe=u(),Ne=()=>{ge(xe.value,!0)},P=n=>{h.value=n,Ue.set({key:"storeActiveName",data:n})};he.query.id&&P(he.query.id);const ge=(n,i=!1)=>{if(n.is_download&&h.value=="all"&&!i)return M.value=!0,xe.value=n,!1;I.value||(I.value=n.key,kt({addon:n.key,version:n.version}).then(()=>{M.value=!1,ke(n.key),z(),I.value=""}).catch(()=>{I.value=""}))},ye=u("");Be().then(n=>{n.data.data&&n.data.data.auth_code&&(ye.value=n.data.data.auth_code)}).catch(()=>{});const V=u(""),w=u({installed:[],uninstalled:[],all:[]}),ne=()=>{if(V.value==""||V.value==null)return w.value.installed=f.value.installed,w.value.uninstalled=f.value.uninstalled,w.value.all=f.value.all,!1;w.value.installed=f.value.installed.filter(n=>n.title.indexOf(V.value)!=-1),w.value.uninstalled=f.value.uninstalled.filter(n=>n.title.indexOf(V.value)!=-1),w.value.all=f.value.all.filter(n=>n.title.indexOf(V.value)!=-1)},f=u({installed:[],uninstalled:[],all:[],error:""}),z=()=>{b.value=!0,ft({}).then(n=>{var g;const i=n.data.list;f.value.error=n.data.error,f.value.installed=[],f.value.uninstalled=[],f.value.all=[];for(const p in i)i[p].is_local==!1&&f.value.all.push(i[p]),i[p].install_info&&((g=Object.keys(i[p].install_info))!=null&&g.length)?f.value.installed.push(i[p]):i[p].is_download==!0&&f.value.uninstalled.push(i[p]);ne(),N.routers.forEach((p,Z)=>{p.children&&p.children.length?(p.name=Fe(p.children),be.value[p.meta.app]=Fe(p.children)):be.value[p.meta.app]=p.name}),b.value=!1}).catch(()=>{b.value=!1})};z();const Me=()=>{At("请在站点中运行程序!")},be=u({}),C=u(""),T=u(!1),x=u(1),k=u({}),ke=n=>{C.value=n,_t(n).then(i=>{x.value=1,T.value=!0,oe.value=[],k.value=i.data,N.clearRouters()}).catch(()=>{})};let O=null;const ie=(n=!0)=>{mt().then(i=>{if(i.data){if(n&&(de=[],C.value=i.data.addon,T.value||(O=It.success({title:l("warning"),dangerouslyUseHTMLString:!0,message:Le("div",{},[l("installingTips"),Le("span",{class:"text-primary cursor-pointer",onClick:je},[l("installPercent")])]),duration:0,showClose:!1}))),i.data.error)return;i.data.mode=="cloud"&&qe(),setTimeout(()=>{ie(!1)},2e3)}else n||(x.value=3,z(),N.clearRouters(),O.close())})};ie();const je=()=>{T.value=!0,x.value=2},S=u(!1),Pe=()=>{!k.value.is_pass||S.value||(S.value=!0,vt({addon:C.value}).then(n=>{x.value=3,z(),N.getAppList(),S.value=!1,n.data.length&&(oe.value=n.data)}).catch(n=>{S.value=!1}))},D=u(!1),ze=()=>{if(!ye.value){Oe();return}!k.value.is_pass||D.value||(D.value=!0,ht({addon:C.value}).then(n=>{x.value=2,j.value.execute("clear"),j.value.pushMessage({content:"开始安装插件",class:"info"}),ie(),D.value=!1}).catch(n=>{D.value=!1}))},Oe=()=>{$e.confirm(l("authTips"),l("warning"),{distinguishCancelAndClose:!0,confirmButtonText:l("toBind"),cancelButtonText:l("toNiucloud")}).then(()=>{Ee()}).catch(n=>{n==="cancel"&&window.open("https://www.niucloud.com/app")})};let de=[];const qe=()=>{xt(C.value).then(n=>{const i=n.data.data??[];i[0]&&i[0].length&&T.value==!0&&i[0].forEach(g=>{de.includes(g.action)||(j.value.pushMessage({content:`正在执行：${g.action}`}),de.push(g.action),g.code==0&&j.value.pushMessage({content:g.msg,class:"error"}))})}).catch(()=>{O==null||O.close()})};nt(C,n=>{k.value={}});const re=u(!1),J=u({}),He=n=>{Ke(n)},Ke=n=>{gt(n).then(({data:i})=>{i.is_pass?yt({addon:n}).then(g=>{z(),N.clearRouters(),b.value=!1}).catch(()=>{b.value=!1}):(J.value=i,re.value=!0)})},we=()=>{window.open("https://www.niucloud.com/app")},Qe=n=>{x.value==2?$e.confirm(l("installShowDialogCloseTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{bt(C.value),n()}).catch(()=>{}):x.value==3?(P("installed"),location.reload()):n()},X=u(!1),R=u({}),We=n=>{X.value=!0,R.value=n},Y=u(!1),ue=u(""),Ce=u(null),q=u(!1),H=u(!0);(()=>{H.value=!0,Be().then(n=>{n.data.data&&n.data.data.length!=0&&(ue.value=n.data.data),H.value=!1}).catch(()=>{H.value=!1,Y.value=!1})})();const Ee=()=>{Y.value=!0},L=Re({auth_code:"",auth_secret:""}),pe=u(),Ge=Re({auth_code:[{required:!0,message:l("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:l("authSecretPlaceholder"),trigger:"blur"}]}),Je=async n=>{q.value||!n||await n.validate(async i=>{i&&(q.value=!0,wt(L).then(()=>{q.value=!1,setTimeout(()=>{location.reload()},1e3)}).catch(()=>{q.value=!1}))})},Ve=()=>{window.open("https://www.niucloud.com/app")};return(n,i)=>{const g=le("search"),p=Tt,Z=St,Xe=Dt,B=Rt,Ye=le("QuestionFilled"),ce=Bt,v=Ft,Ze=Lt,fe=Ut,Ae=$t,et=Nt,F=Mt,tt=Pt,Ie=jt,K=zt,_e=Ot,lt=qt,_=Ht,U=Kt,ee=le("Select"),te=le("CloseBold"),Te=Qt,at=Wt,st=Gt,Se=Jt;return ae((r(),c("div",Yt,[w.value[h.value]&&!b.value&&!H.value?(r(),c("div",Zt,[a("div",el,[a("span",tl,d(o(l)("localAppText")),1),e(Z,{class:"!w-[250px]",placeholder:o(l)("search"),modelValue:V.value,"onUpdate:modelValue":i[0]||(i[0]=s=>V.value=s),onKeyup:ut(ne,["enter"])},{suffix:t(()=>[e(p,{class:"el-input__icon cursor-pointer",size:"14px",onClick:ne},{default:t(()=>[e(g)]),_:1})]),_:1},8,["placeholder","modelValue","onKeyup"])]),a("div",ll,[a("div",{class:se(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":h.value==="installed"}]),onClick:i[1]||(i[1]=s=>P("installed"))},d(o(l)("installLabel")),3),a("div",{class:se(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":h.value==="uninstalled"}]),onClick:i[2]||(i[2]=s=>P("uninstalled"))},d(o(l)("uninstalledLabel")),3),a("div",{class:se(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":h.value==="all"}]),onClick:i[3]||(i[3]=s=>P("all"))},d(o(l)("buyLabel")),3)]),a("div",al,[f.value[h.value].length?(r(),y(Ze,{key:0,data:w.value[h.value],size:"large",class:"pt-[5px]"},{default:t(()=>[e(B,{label:o(l)("appName"),align:"left",width:"320"},{default:t(({row:s})=>[a("div",{class:se(["flex items-center",{"cursor-pointer":s.type=="app"&&Object.keys(s.install_info).length}]),onClick:Me},[e(Xe,{class:"w-[54px] h-[54px]",src:s.icon,fit:"contain"},{error:t(()=>[sl]),_:2},1032,["src"]),a("div",ol,[a("div",nl,d(s.title),1),a("div",il,d(s.version),1)])],2)]),_:1},8,["label"]),e(B,{align:"left","min-width":"120"},{header:t(()=>[a("div",dl,[a("span",rl,d(o(l)("appIdentification")),1),e(ce,{class:"box-item",effect:"light",content:o(l)("tipText"),placement:"bottom"},{default:t(()=>[e(p,{class:"cursor-pointer text-[16px] text-[#a9a9a9]"},{default:t(()=>[e(Ye)]),_:1})]),_:1},8,["content"])])]),default:t(({row:s})=>[a("span",ul,d(s.key),1)]),_:1}),e(B,{prop:"",label:o(l)("introduction"),align:"left","min-width":"200"},{default:t(({row:s})=>[a("span",pl,d(s.desc),1)]),_:1},8,["label"]),e(B,{label:o(l)("type"),align:"left","min-width":"100"},{default:t(({row:s})=>[a("span",cl,d(s.type==="app"?o(l)("app"):o(l)("addon")),1)]),_:1},8,["label"]),e(B,{prop:"",label:o(l)("author"),align:"left","min-width":"100"},{default:t(({row:s})=>[a("span",fl,d(s.author),1)]),_:1},8,["label"]),e(B,{label:o(l)("operation"),fixed:"right",align:"right",width:"150"},{default:t(({row:s})=>{var De;return[e(v,{class:"!text-[13px]",type:"primary",link:"",onClick:$=>We(s)},{default:t(()=>[m(d(o(l)("detail")),1)]),_:2},1032,["onClick"]),s.install_info&&((De=Object.keys(s.install_info))!=null&&De.length)&&h.value!="all"?(r(),y(v,{key:0,class:"!text-[13px]",type:"primary",link:"",onClick:$=>He(s.key)},{default:t(()=>[m(d(o(l)("unload")),1)]),_:2},1032,["onClick"])):s.is_download&&s.install_info<=0&&h.value!="all"?(r(),y(v,{key:1,class:"!text-[13px]",type:"primary",link:"",onClick:$=>ke(s.key)},{default:t(()=>[m(d(o(l)("install")),1)]),_:2},1032,["onClick"])):(r(),y(v,{key:2,class:"!text-[13px]",loading:I.value==s.key,disabled:I.value!="",type:"primary",link:"",onClick:pt($=>ge(s),["stop"])},{default:t(()=>{var $;return[s.install_info&&(($=Object.keys(s.install_info))!=null&&$.length)?(r(),c("span",_l,d(o(l)("unloadDown")),1)):s.is_download&&s.install_info<=0?(r(),c("span",ml,d(o(l)("installDown")),1)):(r(),c("span",vl,d(o(l)("down")),1))]}),_:2},1032,["loading","disabled","onClick"]))]}),_:1},8,["label"])]),_:1},8,["data"])):E("",!0),!f.value.installed.length&&!b.value&&h.value=="installed"?(r(),y(fe,{key:1,class:"mx-auto overview-empty"},{image:t(()=>[hl]),description:t(()=>[a("p",xl,d(o(l)("installed-empty")),1)]),_:1})):E("",!0),!f.value.uninstalled.length&&!b.value&&h.value=="uninstalled"?(r(),y(fe,{key:2,class:"mx-auto overview-empty"},{image:t(()=>[gl]),description:t(()=>[a("p",yl,[a("span",null,d(o(l)("descriptionLeft")),1),e(Ae,{type:"primary",onClick:Ve,class:"mx-[5px]"},{default:t(()=>[m(d(o(l)("link")),1)]),_:1}),a("span",null,d(o(l)("descriptionRight")),1)])]),_:1})):E("",!0),!f.value.all.length&&!b.value&&!ue.value&&h.value=="all"?(r(),c("div",bl,[kl,a("div",wl,[e(v,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:Ee},{default:t(()=>[m("授权码认证")]),_:1}),e(et,{ref_key:"getAuthCodeDialog",ref:Ce,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:t(()=>[e(v,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:t(()=>[m("如何获取授权码?")]),_:1})]),default:t(()=>[a("div",Cl,[El,a("div",Vl,[e(v,{class:"w-[182px] !h-[48px]",plain:"",onClick:we},{default:t(()=>[m("去应用市场逛逛")]),_:1}),e(v,{class:"w-[100px] !h-[48px]",plain:"",onClick:i[4]||(i[4]=s=>Ce.value.hide())},{default:t(()=>[m("关闭")]),_:1})])])]),_:1},512)])])):E("",!0),!f.value.all.length&&!b.value&&ue.value&&h.value=="all"?(r(),y(fe,{key:4,class:"mx-auto overview-empty"},{image:t(()=>[Al]),description:t(()=>[a("p",Il,[a("span",null,d(o(l)("buyDescriptionLeft")),1),e(Ae,{type:"primary",onClick:Ve,class:"mx-[5px]"},{default:t(()=>[m(d(o(l)("link")),1)]),_:1}),a("span",null,d(o(l)("descriptionRight")),1)])]),_:1})):E("",!0)]),e(K,{modelValue:Y.value,"onUpdate:modelValue":i[8]||(i[8]=s=>Y.value=s),title:"授权码认证",width:"400px"},{default:t(()=>[e(Ie,{model:L,"label-width":"0",ref_key:"formRef",ref:pe,rules:Ge,class:"page-form"},{default:t(()=>[e(tt,{class:"box-card !border-none",shadow:"never"},{default:t(()=>[e(F,{prop:"auth_code"},{default:t(()=>[e(Z,{modelValue:L.auth_code,"onUpdate:modelValue":i[5]||(i[5]=s=>L.auth_code=s),placeholder:o(l)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),a("div",Tl,[e(F,{prop:"auth_secret"},{default:t(()=>[e(Z,{modelValue:L.auth_secret,"onUpdate:modelValue":i[6]||(i[6]=s=>L.auth_secret=s),clearable:"",placeholder:o(l)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),a("div",Sl,d(o(l)("authInfoTips")),1),a("div",Dl,[e(v,{type:"primary",class:"w-full",size:"large",loading:q.value,onClick:i[7]||(i[7]=s=>Je(pe.value))},{default:t(()=>[m(d(o(l)("confirm")),1)]),_:1},8,["loading"])]),a("div",Rl,[e(v,{type:"primary",link:"",onClick:we},{default:t(()=>[m(d(o(l)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),e(K,{modelValue:X.value,"onUpdate:modelValue":i[10]||(i[10]=s=>X.value=s),title:o(l)("plugDetail"),width:"500px","destroy-on-close":!0},{footer:t(()=>[a("span",$l,[e(v,{type:"primary",onClick:i[9]||(i[9]=s=>X.value=!1)},{default:t(()=>[m(d(o(l)("confirm")),1)]),_:1})])]),default:t(()=>[e(Ie,{model:R.value,"label-width":"120px",ref_key:"formRef",ref:pe,class:"page-form"},{default:t(()=>[e(F,{label:o(l)("title")},{default:t(()=>[a("div",Ll,d(R.value.title),1)]),_:1},8,["label"]),e(F,{label:o(l)("desc")},{default:t(()=>[a("div",Bl,d(R.value.desc),1)]),_:1},8,["label"]),e(F,{label:o(l)("author")},{default:t(()=>[a("div",Fl,d(R.value.author),1)]),_:1},8,["label"]),e(F,{label:o(l)("version")},{default:t(()=>[a("div",Ul,d(R.value.version),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(K,{modelValue:T.value,"onUpdate:modelValue":i[11]||(i[11]=s=>T.value=s),title:o(l)("addonInstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":Qe},{default:t(()=>[e(lt,{space:200,active:x.value,"finish-status":"success","align-center":""},{default:t(()=>[e(_e,{title:o(l)("envCheck"),class:"flex-1"},null,8,["title"]),e(_e,{title:o(l)("installProgress"),class:"flex-1"},null,8,["title"]),e(_e,{title:o(l)("installComplete"),class:"flex-1"},null,8,["title"])]),_:1},8,["active"]),ae((r(),c("div",null,[e(Te,{"max-height":"50vh"},{default:t(()=>[a("div",Nl,[k.value.dir?(r(),c("div",Ml,[a("p",jl,d(o(l)("dirPermission")),1),a("div",Pl,[e(U,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(o(l)("path")),1)]),_:1}),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("demand")),1)]),_:1}),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("status")),1)]),_:1})]),_:1}),(r(!0),c(Q,null,W(k.value.dir.is_readable,s=>(r(),y(U,{class:"pb-[10px] items pl-[15px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(s.dir),1)]),_:2},1024),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("readable")),1)]),_:1}),e(_,{span:6},{default:t(()=>[s.status?(r(),c("span",zl,[e(p,{color:"green"},{default:t(()=>[e(ee)]),_:1})])):(r(),c("span",Ol,[e(p,{color:"red"},{default:t(()=>[e(te)]),_:1})]))]),_:2},1024)]),_:2},1024))),256)),(r(!0),c(Q,null,W(k.value.dir.is_write,s=>(r(),y(U,{class:"pb-[10px] items pl-[15px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(s.dir),1)]),_:2},1024),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("write")),1)]),_:1}),e(_,{span:6},{default:t(()=>[s.status?(r(),c("span",ql,[e(p,{color:"green"},{default:t(()=>[e(ee)]),_:1})])):(r(),c("span",Hl,[e(p,{color:"red"},{default:t(()=>[e(te)]),_:1})]))]),_:2},1024)]),_:2},1024))),256))])])):E("",!0)])]),_:1}),a("div",Kl,[e(ce,{effect:"dark",content:o(l)("installTips"),placement:"top"},{default:t(()=>[e(v,{type:"default",disabled:!k.value.is_pass||D.value,loading:S.value,onClick:Pe},{default:t(()=>[m(d(o(l)("localInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"]),e(ce,{effect:"dark",content:o(l)("cloudInstallTips"),placement:"top"},{default:t(()=>[e(v,{type:"primary",disabled:!k.value.is_pass||S.value,loading:D.value,onClick:ze},{default:t(()=>[m(d(o(l)("cloudInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"])])])),[[me,x.value==1],[Se,!k.value.dir]]),ae(a("div",Ql,[e(o(rt.Terminal),{ref_key:"terminalRef",ref:j,context:C.value,"init-log":null,"show-header":!1,"show-log-time":!0},null,8,["context"])],512),[[me,x.value==2]]),ae(a("div",Wl,[e(at,{icon:"success",title:o(l)("addonInstallSuccess")},null,8,["title"]),(r(!0),c(Q,null,W(oe.value,s=>(r(),c("div",Gl,[e(st,{title:s,type:"error",closable:!1},null,8,["title"])]))),256))],512),[[me,x.value==3]])]),_:1},8,["modelValue","title"]),e(K,{modelValue:re.value,"onUpdate:modelValue":i[12]||(i[12]=s=>re.value=s),title:o(l)("addonUninstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1},{default:t(()=>[e(Te,{"max-height":"50vh"},{default:t(()=>[a("div",Jl,[J.value.dir?(r(),c("div",Xl,[a("p",Yl,d(o(l)("dirPermission")),1),a("div",Zl,[e(U,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(o(l)("path")),1)]),_:1}),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("demand")),1)]),_:1}),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("status")),1)]),_:1})]),_:1}),(r(!0),c(Q,null,W(J.value.dir.is_readable,s=>(r(),y(U,{class:"pb-[10px] items pl-[15px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(s.dir),1)]),_:2},1024),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("readable")),1)]),_:1}),e(_,{span:6},{default:t(()=>[s.status?(r(),c("span",ea,[e(p,{color:"green"},{default:t(()=>[e(ee)]),_:1})])):(r(),c("span",ta,[e(p,{color:"red"},{default:t(()=>[e(te)]),_:1})]))]),_:2},1024)]),_:2},1024))),256)),(r(!0),c(Q,null,W(J.value.dir.is_write,s=>(r(),y(U,{class:"pb-[10px] items pl-[15px]"},{default:t(()=>[e(_,{span:12},{default:t(()=>[a("span",null,d(s.dir),1)]),_:2},1024),e(_,{span:6},{default:t(()=>[a("span",null,d(o(l)("write")),1)]),_:1}),e(_,{span:6},{default:t(()=>[s.status?(r(),c("span",la,[e(p,{color:"green"},{default:t(()=>[e(ee)]),_:1})])):(r(),c("span",aa,[e(p,{color:"red"},{default:t(()=>[e(te)]),_:1})]))]),_:2},1024)]),_:2},1024))),256))])])):E("",!0)])]),_:1})]),_:1},8,["modelValue","title"]),e(K,{modelValue:M.value,"onUpdate:modelValue":i[14]||(i[14]=s=>M.value=s),title:"下载提示",width:"30%","before-close":n.handleClose},{footer:t(()=>[a("span",oa,[e(v,{onClick:i[13]||(i[13]=s=>M.value=!1)},{default:t(()=>[m("取消")]),_:1}),e(v,{type:"primary",onClick:Ne},{default:t(()=>[m("确定")]),_:1})])]),default:t(()=>[sa]),_:1},8,["modelValue","before-close"])])):E("",!0)])),[[Se,H.value]])}}});const Ns=Xt(na,[["__scopeId","data-v-8fd0fd2f"]]);export{Ns as default};
