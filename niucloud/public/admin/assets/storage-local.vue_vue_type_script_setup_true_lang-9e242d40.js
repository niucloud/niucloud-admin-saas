import{d as B,r as f,n as C,q as N,h as y,I as D,w as a,a as S,e as r,i as m,t as c,u as s,N as i,y as U,az as h,aA as I,X as O,Y as j,E as $,aa as q,a0 as z}from"./index-4dcc0234.js";/* empty css                   *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{O as A,P as G}from"./sys-8ead7f22.js";const L={class:"dialog-footer"},Z=B({__name:"storage-local",emits:["complete"],setup(P,{expose:V,emit:b}){const u=f(!1),t=f(!0),_={is_use:"",storage_type:""},o=C({..._}),p=f(),w=N(()=>({})),E=async n=>{t.value||!n||await n.validate(async e=>{e&&(t.value=!0,A(o).then(v=>{t.value=!1,u.value=!1,b("complete")}).catch(()=>{t.value=!1}))})};return V({showDialog:u,setFormData:async(n=null)=>{if(t.value=!0,Object.assign(o,_),n){const e=await(await G(n.storage_type)).data;Object.keys(o).forEach(l=>{e[l]!=null&&(o[l]=e[l])})}t.value=!1}}),(n,e)=>{const l=h,v=I,x=O,F=j,g=$,R=q,k=z;return y(),D(R,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=d=>u.value=d),title:s(i)("localStorage"),width:"580px","destroy-on-close":!0},{footer:a(()=>[S("span",L,[r(g,{onClick:e[1]||(e[1]=d=>u.value=!1)},{default:a(()=>[m(c(s(i)("cancel")),1)]),_:1}),r(g,{type:"primary",loading:t.value,onClick:e[2]||(e[2]=d=>E(p.value))},{default:a(()=>[m(c(s(i)("confirm")),1)]),_:1},8,["loading"])])]),default:a(()=>[U((y(),D(F,{model:o,"label-width":"140px",ref_key:"formRef",ref:p,rules:s(w),class:"page-form"},{default:a(()=>[r(x,{label:s(i)("isUse")},{default:a(()=>[r(v,{modelValue:o.is_use,"onUpdate:modelValue":e[0]||(e[0]=d=>o.is_use=d)},{default:a(()=>[r(l,{label:"1"},{default:a(()=>[m(c(s(i)("startUsing")),1)]),_:1}),r(l,{label:"0"},{default:a(()=>[m(c(s(i)("statusDeactivate")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[k,t.value]])]),_:1},8,["modelValue","title"])}}});export{Z as _};
