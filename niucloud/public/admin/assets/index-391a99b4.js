import{d as H,K as G,r as v,n as K,N as p,h as r,c as u,e as s,w as a,aR as M,a as o,u as n,cS as ae,t as k,i as F,af as ne,aI as le,a0 as J,aT as re,aU as ie,aV as pe,W as de,X as ce,Y as ue,E as Q,aa as W,p as X,g as Y,cM as Z,ae as _e,U as T,I as P,G as A,F as C,B as D,y as j,co as O,A as U,f as ee,Q as te,cK as oe,q as N,s as me,aC as fe,aD as xe,cT as he,O as ve,cN as ge,x as we,a_ as ye,J as be,cF as ke,ap as Ce,Z as Se}from"./index-30b146d4.js";/* empty css                     *//* empty css                   *//* empty css                  */import{_ as B}from"./index.vue_vue_type_script_setup_true_lang-d070c8c8.js";/* empty css                     *//* empty css                 *//* empty css                         *//* empty css                  *//* empty css                  */import{s as Ve}from"./personal-1c97934d.js";/* empty css                        */import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                    */import{u as $e}from"./style-b4a0391f.js";/* empty css                */const L=g=>(X("data-v-827cff93"),g=g(),Y(),g),Ee={class:"userinfo flex h-full items-center"},Ie={class:"user-name pl-[8px]"},De=L(()=>o("div",{class:"flex items-center leading-[1] py-[5px]"},[o("span",{class:"iconfont iconshezhi1 ml-[4px] !text-[14px] mr-[10px]"}),o("span",{class:"text-[14px]"},"账号设置")],-1)),Te=L(()=>o("div",{class:"flex items-center leading-[1] py-[5px]"},[o("span",{class:"iconfont iconshouquanxinxi2 ml-[4px] !text-[14px] mr-[10px]"}),o("span",{class:"text-[14px]"},"授权信息")],-1)),Pe=L(()=>o("div",{class:"flex items-center leading-[1] py-[5px]"},[o("span",{class:"iconfont iconxiugai ml-[4px] !text-[14px] mr-[10px]"}),o("span",{class:"text-[14px]"},"修改密码")],-1)),Re=L(()=>o("div",{class:"flex items-center leading-[1] py-[5px]"},[o("span",{class:"iconfont icontuichudenglu ml-[4px] !text-[14px] mr-[10px]"}),o("span",{class:"text-[14px]"},"退出登录")],-1)),Ue={class:"form-tip"},Ae={class:"dialog-footer"},Fe=H({__name:"user-info",setup(g){const _=G(),S=h=>{switch(h){case"logout":_.logout();break}},V=()=>{_.logout()};let d=v(!1);const w=v();let l=K({original_password:"",password:"",password_copy:""});const x=K({original_password:[{required:!0,message:p("originalPasswordPlaceholder"),trigger:"blur"}],password:[{required:!0,message:p("passwordPlaceholder"),trigger:"blur"}],password_copy:[{required:!0,message:p("passwordPlaceholder"),trigger:"blur"}]}),f=h=>{h&&h.validate(i=>{if(i){let t="";if(l.password&&!l.original_password&&(t=p("originalPasswordHint")),l.password&&l.original_password&&!l.password_copy&&(t=p("newPasswordHint")),l.password&&l.original_password&&l.password_copy&&l.password!=l.password_copy&&(t=p("doubleCipherHint")),t){ne({type:"error",message:t});return}Ve(l).then(c=>{d.value=!1})}else return!1})};return(h,i)=>{const t=le,c=B,$=J("router-link"),y=re,E=ie,I=pe,e=de,m=ce,R=ue,q=Q,se=W;return r(),u("div",null,[s(I,{onCommand:S,tabindex:1},{dropdown:a(()=>[s(E,null,{default:a(()=>[s(y,null,{default:a(()=>[s($,{to:"/user/center"},{default:a(()=>[De]),_:1})]),_:1}),s(y,null,{default:a(()=>[s($,{to:"/tools/authorize"},{default:a(()=>[Te]),_:1})]),_:1}),s(y,{onClick:i[0]||(i[0]=b=>M(d)?d.value=!0:d=!0)},{default:a(()=>[Pe]),_:1}),s(y,{onClick:V},{default:a(()=>[Re]),_:1})]),_:1})]),default:a(()=>[o("div",Ee,[s(t,{size:25,icon:n(ae)},null,8,["icon"]),o("div",Ie,k(n(_).userInfo.username),1),s(c,{name:"element-ArrowDown",class:"ml-[5px]"})])]),_:1}),s(se,{modelValue:n(d),"onUpdate:modelValue":i[6]||(i[6]=b=>M(d)?d.value=b:d=b),width:"450px",title:"修改密码","before-close":h.handleClose},{footer:a(()=>[o("span",Ae,[s(q,{onClick:i[4]||(i[4]=b=>M(d)?d.value=!1:d=!1)},{default:a(()=>[F(k(n(p)("cancel")),1)]),_:1}),s(q,{type:"primary",onClick:i[5]||(i[5]=b=>f(w.value))},{default:a(()=>[F(k(n(p)("save")),1)]),_:1})])]),default:a(()=>[o("div",null,[s(R,{model:n(l),"label-width":"90px",ref_key:"formRef",ref:w,rules:x,class:"page-form"},{default:a(()=>[s(m,{label:n(p)("originalPassword"),prop:"original_password"},{default:a(()=>[s(e,{modelValue:n(l).original_password,"onUpdate:modelValue":i[1]||(i[1]=b=>n(l).original_password=b),type:"password",placeholder:n(p)("originalPasswordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(m,{label:n(p)("newPassword"),prop:"password"},{default:a(()=>[s(e,{modelValue:n(l).password,"onUpdate:modelValue":i[2]||(i[2]=b=>n(l).password=b),type:"password",placeholder:n(p)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"]),o("div",Ue,k(n(p)("passwordTip")),1)]),_:1},8,["label"]),s(m,{label:n(p)("passwordCopy"),prop:"password_copy"},{default:a(()=>[s(e,{modelValue:n(l).password_copy,"onUpdate:modelValue":i[3]||(i[3]=b=>n(l).password_copy=b),type:"password",placeholder:n(p)("passwordPlaceholder"),clearable:"",class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","before-close"])])}}});const He=z(Fe,[["__scopeId","data-v-827cff93"]]),Le=g=>(X("data-v-8398331f"),g=g(),Y(),g),Me={class:"flex items-center text-[14px] leading-[1]"},Ne=Le(()=>o("span",{class:"iconfont icontuodong !text-[25px] mr-[6px]"},null,-1)),Be={key:0,class:"mx-2 text-[#4F5563] mx-[15px]"},ze=["onClick"],qe={class:"right-panel h-full flex items-center justify-end"},Ke={class:"navbar-item flex items-center h-full cursor-pointer"},je={class:"dialog-footer"},Oe={class:"flex flex-wrap"},Ge=["onClick"],Je=["onClick"],Qe={class:"dialog-footer"},We=H({__name:"index",setup(g){const _=ee(),S=Z(),d=G().routers,w=v([]);d.forEach(t=>{t.original_name=t.name,t.children&&t.children.length&&(t.name=_e(t.children)),w.value.push(t)});const l=v(!1),x=v(""),f=v("");T.get("comparisonTokenStorage")&&(x.value=T.get("comparisonTokenStorage")),T.get("comparisonSiteIdStorage")&&(f.value=T.get("comparisonSiteIdStorage")),document.addEventListener("visibilitychange",t=>{document.visibilityState==="visible"&&(f.value!=T.get("siteId")||x.value!=T.get("token"))&&(l.value=!0)});const h=()=>{l.value=!1,location.reload()},i=()=>{S.routeRefreshTag&&S.refreshRouterView()};return T.set({key:"currHeadMenuName",data:""}),(t,c)=>{const $=B,y=Q,E=W,I=te;return r(),P(I,{class:"h-[60px] bg-[#2B303B] layout-admin flex items-center justify-between px-[15px] text-white"},{default:a(()=>[o("div",Me,[Ne,(r(!0),u(C,null,A(w.value,(e,m)=>(r(),u(C,null,[e.meta.show?(r(),u(C,{key:0},[m?(r(),u("span",Be,"|")):D("",!0),o("span",{class:"cursor-pointer",onClick:R=>n(_).push({name:e.name})},k(e.meta.short_title||e.meta.title),9,ze)],64)):D("",!0)],64))),256))]),o("div",qe,[o("div",{class:"navbar-item flex items-center h-full cursor-pointer",onClick:i},[s($,{name:"element-Refresh"})]),o("div",Ke,[s(He)])]),j(o("input",{type:"hidden","onUpdate:modelValue":c[0]||(c[0]=e=>x.value=e)},null,512),[[O,x.value]]),j(o("input",{type:"hidden","onUpdate:modelValue":c[1]||(c[1]=e=>f.value=e)},null,512),[[O,f.value]]),s(E,{modelValue:l.value,"onUpdate:modelValue":c[2]||(c[2]=e=>l.value=e),title:n(p)("layout.detectionLoginTip"),width:"30%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:a(()=>[o("span",je,[s(y,{onClick:h},{default:a(()=>[F(k(n(p)("layout.detectionLoginOperation")),1)]),_:1})])]),default:a(()=>[o("span",null,k(n(p)("layout.detectionLoginContent")),1)]),_:1},8,["modelValue","title"]),s(E,{modelValue:t.showDialog,"onUpdate:modelValue":c[3]||(c[3]=e=>t.showDialog=e),title:n(p)("indexTemplate"),width:"550px","destroy-on-close":!0},{footer:a(()=>[o("span",Qe,[s(y,{type:"primary",onClick:t.submitIndex},{default:a(()=>[F(k(n(p)("confirm")),1)]),_:1},8,["onClick"])])]),default:a(()=>[o("div",Oe,[t.index_path==""?(r(!0),u(C,{key:0},A(t.indexList,(e,m)=>(r(),u("div",{key:m},[o("div",{onClick:R=>t.index_path=e.view_path,class:U(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",e.is_use==1?"bg-primary text-[#fff]":""])},[o("span",null,k(e.name),1)],10,Ge)]))),128)):(r(!0),u(C,{key:1},A(t.indexList,(e,m)=>(r(),u("div",{key:m},[o("div",{onClick:R=>t.index_path=e.view_path,class:U(["index-item py-[5px] px-[10px] mr-[10px] rounded-[3px] cursor-pointer",t.index_path==e.view_path?"bg-primary text-[#fff]":""])},[o("span",null,k(e.name),1)],10,Je)]))),128))])]),_:1},8,["modelValue","title"])]),_:1})}}});const Xe=z(We,[["__scopeId","data-v-8398331f"]]),Ye={key:0,class:"flex flex-wrap items-center pt-[20px] pb-[10px] pl-[80px] pr-[70px]"},Ze=["onClick"],et={class:"text-[14px]"},tt={key:1,class:"pt-[20px] pl-[80px] pr-[70px]"},ot=H({__name:"index",setup(g){const _=ve(),S=oe(),V=ee(),d=N(()=>S.dark),w=v([]),l=v([]),x=v(""),f=v("");me(_,()=>{w.value=_.matched[1].children??[],l.value=_.matched[2].children??[],x.value=_.matched[2]?_.matched[2].name:"",f.value=_.matched[3]?_.matched[3].name:""},{immediate:!0});const h=t=>{t.children?V.push(t.children[0].path):V.push(t.path)},i=(t,c)=>{V.push({name:t.props.name})};return(t,c)=>{const $=B,y=fe,E=xe,I=he;return r(),P(I,{class:U(["layout-aside w-full ease-in duration-200",{bright:!n(d)}])},{default:a(()=>[w.value.length?(r(),u("div",Ye,[(r(!0),u(C,null,A(w.value,(e,m)=>(r(),u(C,{key:m},[e.meta.show?(r(),u("div",{key:0,onClick:R=>h(e),class:U(["flex items-center h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[10px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":x.value==e.name||f.value&&f.value==e.name}])},[e.meta.icon?(r(),P($,{key:0,name:e.meta.icon,class:"!w-auto mr-[4px] !leading-[14px]",size:"14px",title:e.meta.title},null,8,["name","title"])):D("",!0),o("span",et,k(e.meta.short_title||e.meta.title),1)],10,Ze)):D("",!0)],64))),128))])):D("",!0),l.value.length?(r(),u("div",tt,[s(E,{modelValue:f.value,"onUpdate:modelValue":c[0]||(c[0]=e=>f.value=e),onTabClick:i},{default:a(()=>[(r(!0),u(C,null,A(l.value,(e,m)=>(r(),u(C,{key:m},[e.meta.show?(r(),P(y,{key:0,label:e.meta.title,name:e.name,path:e.path,onClick:R=>t.settingMenuFn(e)},null,8,["label","name","path","onClick"])):D("",!0)],64))),128))]),_:1},8,["modelValue"])])):D("",!0)]),_:1},8,["class"])}}});const st={class:"common-layout min-w-[1200px]"},at=H({__name:"index",setup(g){const _=Z(),S=ge(),V=oe(),d=v(),w=$e();let l=v("");const x=()=>{setTimeout(()=>{l.value=`calc(100vh - ${d.value.clientHeight+60}px)`},600)};x();const f=N(()=>V.dark),h=N(()=>w.flag);return(i,t)=>{const c=ke,$=J("router-view"),y=Ce,E=Se,I=te;return r(),u("div",st,[s(I,{class:"w-100 h-screen"},{default:a(()=>[s(c,{class:"h-[60px]"},{default:a(()=>[s(Xe)]),_:1}),s(I,{class:"flex flex-col"},{default:a(()=>[o("div",{ref_key:"layoutAsideRef",ref:d},[s(ot,{onComplete:x})],512),s(E,{class:U(["main-wrap h-full p-0",{"bg-page":n(f)}])},{default:a(()=>[s(y,{class:U(["layout-content-height",{"px-[64px]":n(h)}]),style:we({height:n(l)})},{default:a(()=>[n(_).routeRefreshTag?(r(),P($,{key:0},{default:a(({Component:e,route:m})=>[(r(),P(ye,{include:n(S).tabNames},[(r(),P(be(e),{key:m.fullPath}))],1032,["include"]))]),_:1})):D("",!0)]),_:1},8,["class","style"])]),_:1},8,["class"])]),_:1})]),_:1})])}}});const yt=z(at,[["__scopeId","data-v-b3e5f194"]]);export{yt as default};
