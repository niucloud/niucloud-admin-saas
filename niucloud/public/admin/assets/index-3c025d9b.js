import{d as M,R,a4 as W,r as F,f as a,g as t,u as s,B as n,y as _,x as f,n as u,F as I,z as S,Q as q,H as E,bl as z,bm as U,e as r,A as Q}from"./base-9962c822.js";/* empty css                   *//* empty css                 *//* empty css                *//* empty css                  */import{w as T,d as G}from"./index-5c4817f4.js";import{_ as J}from"./icon-addon-339e16d0.js";import{_ as O}from"./member_head-a897263d.js";import{_ as P}from"./empty-77b60adb.js";import{E as X,M as Y}from"./index-57446bef.js";import{b as Z,u as V}from"./index-38fee8c5.js";import{g as tt}from"./sys-361f7d2c.js";import{f as $,a as h}from"./storage-0874d153.js";import{g as et}from"./addon-3d6a9b5a.js";import{b as st}from"./vue-router-d7e63612.js";/* empty css                   */import{E as ot}from"./index-7ab57426.js";import{E as at}from"./index-19251c17.js";import{v as rt}from"./directive-f75d4a7d.js";import{a as nt}from"./index-2cabf788.js";import{_ as it}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-6e46fb55.js";import"./pinia-a9fc3924.js";import"./system-1108e5c1.js";import"./index-c4e33d8d.js";import"./index-1370ab44.js";import"./index-6b77b11a.js";import"./index-71b7d8f4.js";import"./typescript-defaf979.js";import"./event-9519ab40.js";import"./index-ec548bfb.js";import"./error-78e43d3e.js";import"./index-c98e204a.js";function pt(c){return Z.get("home/site",{params:c})}const g=c=>(z("data-v-916635c5"),c=c(),U(),c),ct={class:"flex justify-between items-center py-[24px] pl-[62px] pr-[64px] home-head"},lt={class:"flex items-center"},dt=["src"],mt={key:1,class:"w-[32x] h-[32px] rounded-full",src:J,alt:""},_t={class:"ml-[10px] text-[16px] font-bold"},xt={class:"flex items-center"},ft={class:"mr-[12px] text-[14px]"},ut={class:"w-[1200px] m-auto mt-[62px]"},ht={class:"flex justify-between items-center"},gt=g(()=>t("span",{class:"text-[24px] font-bold"},"站点列表",-1)),vt={class:"flex justify-between items-center mt-[18px]"},yt={class:"flex items-center flex-wrap text-[14px] w-[800px]"},wt=["onClick"],kt={class:"flex flex-wrap mt-[30px]"},bt=["onClick"],Ct={class:"flex items-center px-[24px] pt-[22px] pb-[16px] bg-[#F0F2F4] home-item-head"},Ft=["src"],It={key:1,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:O},St={class:"flex flex-col flex-1 justify-center"},Et={class:"flex items-center flex-wrap"},Vt={class:"text-[16px] text-[#000] max-w-[145px] font-bold truncate mr-[10px]"},$t={key:0,class:"flex items-center justify-center min-w-[42px] h-[18px] bg-[#FF5500] rounded-tl-md rounded-br-md items-tab"},Dt={class:"text-[12px] text-[#fff]"},jt={class:"text-[12px] mt-[3px] text-[#555]"},Bt={class:"px-[24px] py-[20px] text-[#6D7278]"},Lt={class:"text-[14px]"},Nt={class:"text-[14px] mt-[2px]"},At={key:0,class:"m-auto"},Ht=g(()=>t("img",{src:P},null,-1)),Kt=g(()=>t("p",{class:"text-center text-gray-400"},"暂无站点",-1)),Mt=[Ht,Kt],Rt=M({__name:"index",setup(c){const v=V();st();const i=R({params:{keywords:"",page:1,limit:12,app:"",sort:!1},loading:!1,tableData:[]}),{params:d,loading:y,tableData:w}=W(i),x=()=>{i.loading=!0,pt(i.params).then(o=>{i.tableData=o.data.data,i.loading=!1}).catch(()=>{i.loading=!1})};x();const k=o=>{i.params.app=o,x()};let m=F({});(()=>{tt().then(o=>{m.value=o.data})})();const b=()=>{i.params.page=1,x()},D=o=>{h.set({key:"siteId",data:o.site_id}),h.set({key:"siteInfo",data:o}),h.set({key:"comparisonSiteIdStorage",data:o.site_id}),V().$patch(p=>{p.siteInfo=o}),location.href=`${location.origin}/site/`},j=()=>{v.logout()},C=F([]);et().then(({data:o})=>{C.value=o}).catch();const B=()=>{nt("加班加点研发中...")};return(o,p)=>{const L=ot,N=X,A=at,H=rt;return r(),a("div",null,[t("div",ct,[t("div",lt,[s(m).icon?(r(),a("img",{key:0,class:"w-[32x] h-[32px] rounded-full",src:s($)(s(m).icon),alt:""},null,8,dt)):(r(),a("img",mt)),t("span",_t,n(s(m).site_name),1)]),t("div",xt,[t("span",ft,n(s(v).userInfo.username),1),t("span",{onClick:p[0]||(p[0]=e=>j()),class:"text-[14px] cursor-pointer text-[var(--el-color-primary)]"},"退出")])]),t("div",ut,[t("div",ht,[gt,_(L,{type:"primary",class:"w-[90px] !h-[34px]",onClick:B},{default:f(()=>[Q("创建站点")]),_:1})]),t("div",vt,[t("div",yt,[t("span",{class:u(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":s(d).app==""}]),onClick:p[1]||(p[1]=e=>k(""))},"所有应用",2),(r(!0),a(I,null,S(C.value,(e,l)=>(r(),a("span",{class:u(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":s(d).app==e.key}]),onClick:K=>k(e.key),key:l},n(e.title),11,wt))),128))]),_(A,{modelValue:s(d).keywords,"onUpdate:modelValue":p[2]||(p[2]=e=>s(d).keywords=e),class:"!w-[300px] !h-[34px]",placeholder:"输入要搜索的站点名称",onKeyup:T(b,["enter","native"])},{suffix:f(()=>[_(N,{onClick:G(b,["stop"]),class:"cursor-pointer"},{default:f(()=>[_(s(Y))]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup"])]),q((r(),a("div",kt,[(r(!0),a(I,null,S(s(w),(e,l)=>(r(),a("div",{key:l,onClick:K=>D(e),class:u(["home-item w-[285px] box-border mb-[20px] cursor-pointer",{"mr-[20px]":l==0||(l+1)%4!=0}])},[t("div",Ct,[e.logo?(r(),a("img",{key:0,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:s($)(e.logo)},null,8,Ft)):(r(),a("img",It)),t("div",St,[t("div",Et,[t("span",Vt,n(e.site_name),1),e.app_name?(r(),a("div",$t,[t("span",Dt,n(e.app_name),1)])):E("",!0)]),t("span",jt,n(e.create_time?e.create_time.split(" ")[0]:"--")+" 到 "+n(e.expire_time?e.expire_time.split(" ")[0]:"--"),1)])]),t("div",Bt,[t("p",Lt,"站点编号："+n(e.site_id),1),t("p",Nt,"站点套餐："+n(e.group_name||"--"),1)])],10,bt))),128)),!s(w).length&&!s(y)?(r(),a("div",At,Mt)):E("",!0)])),[[H,s(y)]])])])}}});const we=it(Rt,[["__scopeId","data-v-916635c5"]]);export{we as default};
