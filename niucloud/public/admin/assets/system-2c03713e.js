import"./base-962c0c23.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                */import{_ as C}from"./index-ee4afb55.js";/* empty css                 */import{t as l}from"./index-e4761856.js";import{N as V,w as P,O as I}from"./sys-3f5fc53f.js";import{c as B,a as D}from"./storage-abe718b1.js";import{E as F}from"./index-93f2c618.js";import{a as S,E as T}from"./index-61c777fa.js";import{E as q}from"./index-69523418.js";import{E as L}from"./index-bba9e58c.js";import{v as R}from"./directive-c0c3e9a3.js";import{d as O,r as f,M as g,b,e as W,L as j,m as v,p as n,q as t,f as u,x as c,u as r,C as A,v as M}from"./runtime-core.esm-bundler-dc7a07d7.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-0bb78afc.js";import"./el-overlay-60700377.js";import"./event-ff03ec12.js";import"./index-5d86eb33.js";import"./focus-trap-b8b5a003.js";import"./attachment-367bea3d.js";/* empty css               *//* empty css                  *//* empty css                  */import"./index-6ef4c1c3.js";import"./vue-router-79053937.js";import"./el-radio-bfd4b1ad.js";import"./index-8bcaafa6.js";import"./index-7a123a20.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-tooltip-58212670.js";import"./el-avatar-3bb47ce2.js";import"./index-d57cc47d.js";/* empty css                      *//* empty css                    *//* empty css                 *//* empty css                    *//* empty css                   */import"./index-9cee7801.js";import"./index-50a00d09.js";import"./index-a9dd5cf5.js";import"./index-83d6d7eb.js";import"./index-9f244af6.js";import"./index-df51d91a.js";import"./isEqual-c7d5e6d9.js";import"./_Uint8Array-6ff3cafa.js";import"./flatten-d5d1dc97.js";import"./index-100b1469.js";import"./index-b933df38.js";import"./index-4f5c40a5.js";import"./strings-4868a118.js";import"./common-6291c908.js";import"./common-2cf17469.js";import"./_initCloneObject-28e6bdaa.js";const $={class:"main-container"},z={class:"panel-title"},G={class:"panel-title"},H={class:"panel-title"},J={class:"fixed-footer-wrap"},K={class:"fixed-footer"},eo=O({__name:"system",setup(Q){const i=f(!0),w=f(),e=g({site_name:"",logo:"",desc:"",latitude:"",keywords:"",longitude:"",province_id:"",city_id:"",district_id:"",address:"",full_address:"",business_hours:"",phone:"",front_end_name:"",front_end_logo:"",icon:"",wechat_code:"",enterprise_wechat:"",tel:""});(async(m=0)=>{const o=await(await V()).data;Object.keys(e).forEach(d=>{o[d]!=null&&(e[d]=o[d])});const s=await(await P()).data;e.wechat_code=s.wechat_code,e.enterprise_wechat=s.enterprise_wechat,e.tel=s.tel,w.value=B(),i.value=!1})();const h=f(),y=g({site_name:[{required:!0,message:l("siteNamePlaceholder"),trigger:"blur"}],front_end_name:[{required:!0,message:l("frontEndNamePlaceholder"),trigger:"blur"}]}),x=async m=>{i.value||!m||await m.validate(async o=>{o&&(i.value=!0,I(e).then(()=>{i.value=!1,E()}).catch(()=>{i.value=!1}))})},E=async()=>{const m=await(await V()).data;D.set({key:"siteInfo",data:m})};return(m,o)=>{const s=F,d=S,p=C,_=q,k=T,N=L,U=R;return b(),W("div",$,[j((b(),v(k,{model:e,"label-width":"150px",ref_key:"formRef",ref:h,rules:y,class:"page-form"},{default:n(()=>[t(_,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[u("h3",z,c(r(l)("websiteInfo")),1),t(d,{label:r(l)("siteName"),prop:"site_name"},{default:n(()=>[t(s,{modelValue:e.site_name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.site_name=a),placeholder:r(l)("siteNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:r(l)("logo")},{default:n(()=>[t(p,{modelValue:e.logo,"onUpdate:modelValue":o[1]||(o[1]=a=>e.logo=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{label:r(l)("icon")},{default:n(()=>[t(p,{modelValue:e.icon,"onUpdate:modelValue":o[2]||(o[2]=a=>e.icon=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{label:r(l)("keywords")},{default:n(()=>[t(s,{modelValue:e.keywords,"onUpdate:modelValue":o[3]||(o[3]=a=>e.keywords=a),placeholder:r(l)("keywordsPlaceholder"),class:"input-width",clearable:"",maxlength:"20"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:r(l)("desc")},{default:n(()=>[t(s,{modelValue:e.desc,"onUpdate:modelValue":o[4]||(o[4]=a=>e.desc=a),type:"textarea",rows:"4",clearable:"",placeholder:r(l)("descPlaceholder"),class:"input-width",maxlength:"100"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(_,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[u("h3",G,c(r(l)("frontEndInfo")),1),t(d,{label:r(l)("frontEndName")},{default:n(()=>[t(s,{modelValue:e.front_end_name,"onUpdate:modelValue":o[5]||(o[5]=a=>e.front_end_name=a),placeholder:r(l)("frontEndNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:r(l)("frontEndLogo")},{default:n(()=>[t(p,{modelValue:e.front_end_logo,"onUpdate:modelValue":o[6]||(o[6]=a=>e.front_end_logo=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),w.value=="admin"?(b(),v(_,{key:0,class:"box-card !border-none",shadow:"never"},{default:n(()=>[u("h3",H,c(r(l)("serviceInformation")),1),t(d,{label:r(l)("contactsTel")},{default:n(()=>[t(s,{modelValue:e.tel,"onUpdate:modelValue":o[7]||(o[7]=a=>e.tel=a),placeholder:r(l)("contactsTelPlaceholder"),class:"input-width",clearable:"",maxlength:"20"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:r(l)("wechatCode")},{default:n(()=>[t(p,{modelValue:e.wechat_code,"onUpdate:modelValue":o[8]||(o[8]=a=>e.wechat_code=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{label:r(l)("customerServiceCode")},{default:n(()=>[t(p,{modelValue:e.enterprise_wechat,"onUpdate:modelValue":o[9]||(o[9]=a=>e.enterprise_wechat=a)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):A("",!0)]),_:1},8,["model","rules"])),[[U,i.value]]),u("div",J,[u("div",K,[t(N,{type:"primary",loading:i.value,onClick:o[10]||(o[10]=a=>x(h.value))},{default:n(()=>[M(c(r(l)("save")),1)]),_:1},8,["loading"])])])])}}});export{eo as default};
