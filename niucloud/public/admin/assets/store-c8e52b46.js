import{d as ml,f as hl,O as xl,r as c,U as Oe,K as gl,s as yl,n as Me,N as t,a0 as ne,h as d,c as p,y as oe,a as s,t as u,u as i,e,w as l,S as bl,A as ie,I as y,i as v,B as C,a5 as kl,F as O,G as W,z as be,ae as Pe,a3 as ze,af as wl,ag as qe,a8 as ke,a1 as Cl,W as El,V as Il,av as Vl,ah as Tl,ai as Al,E as Sl,aj as Bl,ad as Rl,ak as Dl,a9 as Ll,X as Fl,_ as Ul,Y as $l,aa as jl,al as Nl,am as Ol,an as Ml,ao as Pl,ap as zl,aq as ql,ar as Hl,$ as Kl,p as Ql,g as Gl}from"./index-30b146d4.js";/* empty css                   *//* empty css                 */import{T as Wl,_ as Xl}from"./vue-web-terminal-551cb123.js";/* empty css                     *//* empty css               *//* empty css                *//* empty css                   *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                 *//* empty css                        *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                 *//* empty css                        *//* empty css                 *//* empty css                */import{_ as Yl}from"./icon-addon-339e16d0.js";import{_ as we}from"./apply_empty-cdca3e85.js";import{a as Jl,p as Zl,b as et,i as lt,c as tt,d as at,e as st,u as nt,f as ot}from"./addon-afba1560.js";import{a as He,d as it,s as ut}from"./module-dec1fba2.js";import{U as dt,C as ct}from"./index-07795b62.js";import{_ as rt}from"./_plugin-vue_export-helper-c27b6911.js";const A=X=>(Ql("data-v-8fb4b3af"),X=X(),Gl(),X),pt={class:"pt-[59px] px-[20px] app-store"},ft={class:"flex justify-between items-center h-[32px] mb-4"},_t={class:"text-page-title text-[#222]"},vt={class:"flex mt-[24px] justify-between"},mt={class:"flex"},ht={class:"mt-[25px]"},xt=A(()=>s("div",{class:"flex items-center w-full h-full"},[s("img",{class:"max-w-full max-h-full",src:Yl,alt:""})],-1)),gt={class:"flex flex-col justify-center pl-[20px] text-[#222] font-500 text-[13px]"},yt={class:"w-[236px] truncate leading-[18px]"},bt={key:0,class:"w-[236px] truncate leading-[18px] mt-[6px]"},kt={key:1,class:"w-[236px] truncate leading-[18px] mt-[6px]"},wt={key:2,class:"mt-[3px]"},Ct={class:"flex items-center"},Et={class:"text-[#222] font-500 text-[13px] mr-[5px]"},It={class:"text-[#222] font-500 text-[13px]"},Vt={class:"text-[#222] font-500 text-[13px] multi-hidden"},Tt={class:"text-[#222] font-500 text-[13px]"},At={class:"text-[#222] font-500 text-[13px]"},St={key:0},Bt={key:1},Rt={key:2},Dt=A(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),Lt={class:"flex items-center"},Ft=A(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),Ut={class:"flex items-center"},$t={key:3,class:"mx-auto overview-empty flex flex-col items-center pt-14 pb-6"},jt=A(()=>s("div",{class:"mb-[20px] text-sm text-[#888]"},"检测到当前账号尚未绑定授权，请先绑定授权！",-1)),Nt={class:"flex flex-1 flex-wrap justify-center relative"},Ot={class:"px-[18px] py-[8px]"},Mt=A(()=>s("p",{class:"leading-[32px] text-[14px]"}," 您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Pt={class:"flex justify-end mt-[36px]"},zt=A(()=>s("div",{class:"w-[230px] mx-auto"},[s("img",{src:we,class:"max-w-full",alt:""})],-1)),qt={class:"flex items-center"},Ht={class:"mt-[20px]"},Kt={class:"text-sm mt-[10px] text-info"},Qt={class:"mt-[20px]"},Gt={class:"mt-[10px] text-right"},Wt={class:"input-width"},Xt={class:"input-width"},Yt={class:"input-width"},Jt={class:"input-width"},Zt={class:"dialog-footer"},ea={class:"min-h-[150px]"},la={key:0,class:"bg-[#fff] my-3"},ta={class:"pt-[20px] pl-[20px]"},aa={class:"px-[20px] pt-[10px] text-[14px]"},sa={key:0},na={key:1},oa={key:0},ia={key:1},ua={class:"flex justify-end"},da={class:"h-[50vh] mt-[20px]"},ca={class:"h-[50vh] mt-[20px] flex flex-col"},ra={class:"min-h-[150px]"},pa={key:0,class:"bg-[#fff] my-3"},fa={class:"pt-[20px] pl-[20px]"},_a={class:"px-[20px] pt-[10px] text-[14px]"},va={key:0},ma={key:1},ha={key:0},xa={key:1},ga=A(()=>s("span",null,"本地已经存在该插件/应用，再次下载会覆盖该插件/应用。",-1)),ya={class:"dialog-footer"},ba=ml({__name:"store",setup(X){hl();const Ce=xl(),x=c(Oe.get("storeActiveName")||"installed"),Ee=c(null),Y=c(null),w=c(!0),S=c(""),ue=c([]),J=gl(),M=c(!1),P=c(null),Ie=c(),Ke=()=>{Ve(Ie.value,!0)},z=o=>{x.value=o,Oe.set({key:"storeActiveName",data:o})};Ce.query.id&&z(Ce.query.id);const Ve=(o,n=!1)=>{if(o.is_download&&x.value=="all"&&!n)return M.value=!0,Ie.value=o,!1;S.value||(S.value=o.key,it({addon:o.key,version:o.version}).then(()=>{M.value=!1,Se(o.key),B(),S.value=""}).catch(()=>{S.value=""}))},de=c("");He().then(o=>{o.data.data&&o.data.data.auth_code&&(de.value=o.data.data.auth_code)}).catch(()=>{});const I=c(""),V=c({installed:[],uninstalled:[],all:[]}),ce=()=>{if(I.value==""||I.value==null)return V.value.installed=f.value.installed,V.value.uninstalled=f.value.uninstalled,V.value.all=f.value.all,!1;V.value.installed=f.value.installed.filter(o=>o.title.indexOf(I.value)!=-1),V.value.uninstalled=f.value.uninstalled.filter(o=>o.title.indexOf(I.value)!=-1),V.value.all=f.value.all.filter(o=>o.title.indexOf(I.value)!=-1)},f=c({installed:[],uninstalled:[],all:[],error:""}),B=()=>{w.value=!0,Jl({}).then(o=>{var g;const n=o.data.list;f.value.error=o.data.error,f.value.installed=[],f.value.uninstalled=[],f.value.all=[];for(const r in n)n[r].is_local==!1&&f.value.all.push(n[r]),n[r].install_info&&((g=Object.keys(n[r].install_info))!=null&&g.length)?f.value.installed.push(n[r]):n[r].is_download==!0&&f.value.uninstalled.push(n[r]);ce(),J.routers.forEach((r,K)=>{r.children&&r.children.length?(r.name=Pe(r.children),Te.value[r.meta.app]=Pe(r.children)):Te.value[r.meta.app]=r.name}),w.value=!1}).catch(()=>{w.value=!1})};B();const Qe=()=>{ze("请在站点中运行程序!")},Te=c({}),E=c(""),R=c(!1),b=c(1),k=c({});let re=null;const Ae=new Wl,Ge=(o,n,g,r,K)=>{if(n=="开始安装插件"){g(Ae);const he=We(["/","——","\\","|"]);re=setInterval(()=>{Ae.flush("> "+he.next().value)},150)}};function We(o){let n=0;return{next(){return n+1==o.length&&(n=0),{value:o[n++]}}}}const Se=o=>{E.value=o,Zl(o).then(n=>{b.value=1,R.value=!0,ue.value=[],k.value=n.data,J.clearRouters()}).catch(()=>{})};let q=null;const pe=(o=!0)=>{et().then(n=>{if(n.data){if(o&&(fe=[],E.value=n.data.addon,R.value||(q=wl.success({title:t("warning"),dangerouslyUseHTMLString:!0,message:qe("div",{},[t("installingTips"),qe("span",{class:"text-primary cursor-pointer",onClick:Xe},[t("installPercent")])]),duration:0,showClose:!1}))),n.data.error){ze({message:"插件安装失败",type:"error",duration:5e3});return}n.data.mode=="cloud"&&Ze(),setTimeout(()=>{pe(!1)},2e3)}else o||(b.value=3,B(),J.clearRouters(),q.close())})};pe();const Xe=()=>{R.value=!0,b.value=2},D=c(!1),Ye=()=>{!k.value.is_pass||D.value||(D.value=!0,lt({addon:E.value}).then(o=>{b.value=3,B(),D.value=!1,o.data.length&&(ue.value=o.data)}).catch(o=>{D.value=!1}))},L=c(!1),Je=()=>{if(!de.value){Be();return}!k.value.is_pass||L.value||(L.value=!0,tt({addon:E.value}).then(o=>{b.value=2,P.value.execute("clear"),P.value.execute("开始安装插件"),pe(),L.value=!1}).catch(o=>{L.value=!1}))},Be=()=>{ke.confirm(t("authTips"),t("warning"),{distinguishCancelAndClose:!0,confirmButtonText:t("toBind"),cancelButtonText:t("toNiucloud")}).then(()=>{Le()}).catch(o=>{o==="cancel"&&window.open("https://www.niucloud.com/app")})};let fe=[];const Ze=()=>{at(E.value).then(o=>{const n=o.data.data??[];n[0]&&n[0].length&&R.value==!0&&n[0].forEach(g=>{fe.includes(g.action)||(P.value.pushMessage({content:`正在执行：${g.action}`}),fe.push(g.action),g.code==0&&P.value.pushMessage({content:g.msg,class:"error"}))})}).catch(()=>{q==null||q.close()})};yl(E,o=>{k.value={}});const _e=c(!1),Z=c({}),el=o=>{al(o)},ll=o=>{var n;(n=Ee.value)==null||n.open(o)},tl=()=>{var o;if(!de.value){Be();return}if(Y.value.cloudBuildTask){(o=Y.value)==null||o.open();return}ke.confirm(t("cloudBuildTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{var n;(n=Y.value)==null||n.open()})},al=o=>{st(o).then(({data:n})=>{n.is_pass?nt({addon:o}).then(g=>{B(),J.clearRouters(),w.value=!1}).catch(()=>{w.value=!1}):(Z.value=n,_e.value=!0)})},Re=()=>{window.open("https://www.niucloud.com/app")},sl=o=>{b.value==2?ke.confirm(t("installShowDialogCloseTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{ot(E.value),o()}).catch(()=>{}):b.value==3?(z("installed"),location.reload()):o(),re&&clearInterval(re)},ee=c(!1),F=c({}),nl=o=>{ee.value=!0,F.value=o},le=c(!1),ve=c(""),De=c(null),H=c(!1),te=c(!0);(()=>{te.value=!0,He().then(o=>{o.data.data&&o.data.data.length!=0&&(ve.value=o.data.data),te.value=!1}).catch(()=>{te.value=!1,le.value=!1})})();const Le=()=>{le.value=!0},U=Me({auth_code:"",auth_secret:""}),me=c(),ol=Me({auth_code:[{required:!0,message:t("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:t("authSecretPlaceholder"),trigger:"blur"}]}),il=async o=>{H.value||!o||await o.validate(async n=>{n&&(H.value=!0,ut(U).then(()=>{H.value=!1,setTimeout(()=>{location.reload()},1e3)}).catch(()=>{H.value=!1}))})},Fe=()=>{window.open("https://www.niucloud.com/app")};return(o,n)=>{const g=ne("search"),r=Cl,K=El,he=Il,ul=Vl,$=Tl,dl=ne("QuestionFilled"),xe=Al,m=Sl,cl=Bl,ge=Rl,Ue=Dl,rl=Ll,j=Fl,pl=Ul,$e=$l,Q=jl,ye=Nl,fl=Ol,_=Ml,N=Pl,ae=ne("Select"),se=ne("CloseBold"),je=zl,_l=ql,vl=Hl,Ne=Kl;return d(),p(O,null,[oe((d(),p("div",pt,[s("div",null,[s("div",ft,[s("span",_t,u(i(t)("localAppText")),1),e(K,{class:"!w-[250px]",placeholder:i(t)("search"),modelValue:I.value,"onUpdate:modelValue":n[0]||(n[0]=a=>I.value=a),onKeyup:bl(ce,["enter"])},{suffix:l(()=>[e(r,{class:"el-input__icon cursor-pointer",size:"14px",onClick:ce},{default:l(()=>[e(g)]),_:1})]),_:1},8,["placeholder","modelValue","onKeyup"])]),s("div",vt,[s("div",mt,[s("div",{class:ie(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":x.value==="installed"}]),onClick:n[1]||(n[1]=a=>z("installed"))},u(i(t)("installLabel")),3),s("div",{class:ie(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":x.value==="uninstalled"}]),onClick:n[2]||(n[2]=a=>z("uninstalled"))},u(i(t)("uninstalledLabel")),3),s("div",{class:ie(["flex items-center text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-[#E0E0E0] rounded-full px-[15px] mr-[24px] cursor-pointer bg-[#f8f8f8] hover:bg-[#fff]",{"text-[#fff] !bg-[#000] border-[#000]":x.value==="all"}]),onClick:n[3]||(n[3]=a=>z("all"))},u(i(t)("buyLabel")),3)]),s("div",{class:ie(["flex items-center text-white text-[14px] h-[32px] border-[1px] border-solid my-[3px] border-primary rounded-full px-[15px] cursor-pointer bg-primary hover:bg-primary"]),onClick:tl},u(i(t)("cloudBuild")),1)]),s("div",ht,[f.value[x.value].length?(d(),y(cl,{key:0,data:V.value[x.value],size:"large",class:"pt-[5px]"},{default:l(()=>[e($,{label:i(t)("appName"),align:"left",width:"320"},{default:l(({row:a})=>{var h,G;return[s("div",{class:"flex items-center cursor-pointer",onClick:Qe},[e(he,{class:"w-[54px] h-[54px]",src:a.icon,fit:"contain"},{error:l(()=>[xt]),_:2},1032,["src"]),s("div",gt,[s("div",yt,u(a.title),1),a.install_info&&((h=Object.keys(a.install_info))!=null&&h.length)?(d(),p("div",bt,u(a.install_info.version),1)):(d(),p("div",kt,u(a.version),1)),a.install_info&&((G=Object.keys(a.install_info))!=null&&G.length)&&a.install_info.version!=a.version?(d(),p("div",wt,[e(ul,{type:"danger",size:"small"},{default:l(()=>[v(u(i(t)("newVersion"))+u(a.version),1)]),_:2},1024)])):C("",!0)])])]}),_:1},8,["label"]),e($,{align:"left","min-width":"120"},{header:l(()=>[s("div",Ct,[s("span",Et,u(i(t)("appIdentification")),1),e(xe,{class:"box-item",effect:"light",content:i(t)("tipText"),placement:"bottom"},{default:l(()=>[e(r,{class:"cursor-pointer text-[16px] text-[#a9a9a9]"},{default:l(()=>[e(dl)]),_:1})]),_:1},8,["content"])])]),default:l(({row:a})=>[s("span",It,u(a.key),1)]),_:1}),e($,{prop:"",label:i(t)("introduction"),align:"left","min-width":"200"},{default:l(({row:a})=>[s("span",Vt,u(a.desc),1)]),_:1},8,["label"]),e($,{label:i(t)("type"),align:"left","min-width":"100"},{default:l(({row:a})=>[s("span",Tt,u(a.type==="app"?i(t)("app"):i(t)("addon")),1)]),_:1},8,["label"]),e($,{prop:"",label:i(t)("author"),align:"left","min-width":"100"},{default:l(({row:a})=>[s("span",At,u(a.author),1)]),_:1},8,["label"]),e($,{label:i(t)("operation"),fixed:"right",align:"right",width:"150"},{default:l(({row:a})=>{var h,G;return[e(m,{class:"!text-[13px]",type:"primary",link:"",onClick:T=>nl(a)},{default:l(()=>[v(u(i(t)("detail")),1)]),_:2},1032,["onClick"]),a.install_info&&((h=Object.keys(a.install_info))!=null&&h.length)&&a.install_info.version!=a.version?(d(),y(m,{key:0,class:"!text-[13px]",type:"primary",link:"",onClick:T=>ll(a.key)},{default:l(()=>[v(u(i(t)("upgrade")),1)]),_:2},1032,["onClick"])):C("",!0),a.install_info&&((G=Object.keys(a.install_info))!=null&&G.length)&&x.value!="all"?(d(),y(m,{key:1,class:"!text-[13px]",type:"primary",link:"",onClick:T=>el(a.key)},{default:l(()=>[v(u(i(t)("unload")),1)]),_:2},1032,["onClick"])):a.is_download&&a.install_info<=0&&x.value!="all"?(d(),y(m,{key:2,class:"!text-[13px]",type:"primary",link:"",onClick:T=>Se(a.key)},{default:l(()=>[v(u(i(t)("install")),1)]),_:2},1032,["onClick"])):(d(),y(m,{key:3,class:"!text-[13px]",loading:S.value==a.key,disabled:S.value!="",type:"primary",link:"",onClick:kl(T=>Ve(a),["stop"])},{default:l(()=>{var T;return[a.install_info&&((T=Object.keys(a.install_info))!=null&&T.length)?(d(),p("span",St,u(i(t)("unloadDown")),1)):a.is_download&&a.install_info<=0?(d(),p("span",Bt,u(i(t)("installDown")),1)):(d(),p("span",Rt,u(i(t)("down")),1))]}),_:2},1032,["loading","disabled","onClick"]))]}),_:1},8,["label"])]),_:1},8,["data"])):C("",!0),!f.value.installed.length&&!w.value&&x.value=="installed"?(d(),y(ge,{key:1,class:"mx-auto overview-empty"},{image:l(()=>[Dt]),description:l(()=>[s("p",Lt,u(i(t)("installed-empty")),1)]),_:1})):C("",!0),!f.value.uninstalled.length&&!w.value&&x.value=="uninstalled"?(d(),y(ge,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[Ft]),description:l(()=>[s("p",Ut,[s("span",null,u(i(t)("descriptionLeft")),1),e(Ue,{type:"primary",onClick:Fe,class:"mx-[5px]"},{default:l(()=>[v(u(i(t)("link")),1)]),_:1}),s("span",null,u(i(t)("descriptionRight")),1)])]),_:1})):C("",!0),!f.value.all.length&&!w.value&&!ve.value&&x.value=="all"?(d(),p("div",$t,[jt,s("div",Nt,[e(m,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:Le},{default:l(()=>[v("授权码认证")]),_:1}),e(rl,{ref_key:"getAuthCodeDialog",ref:De,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:l(()=>[e(m,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:l(()=>[v("如何获取授权码?")]),_:1})]),default:l(()=>[s("div",Ot,[Mt,s("div",Pt,[e(m,{class:"w-[182px] !h-[48px]",plain:"",onClick:Re},{default:l(()=>[v("去应用市场逛逛")]),_:1}),e(m,{class:"w-[100px] !h-[48px]",plain:"",onClick:n[4]||(n[4]=a=>De.value.hide())},{default:l(()=>[v("关闭")]),_:1})])])]),_:1},512)])])):C("",!0),!f.value.all.length&&!w.value&&ve.value&&x.value=="all"?(d(),y(ge,{key:4,class:"mx-auto overview-empty"},{image:l(()=>[zt]),description:l(()=>[s("p",qt,[s("span",null,u(i(t)("buyDescriptionLeft")),1),e(Ue,{type:"primary",onClick:Fe,class:"mx-[5px]"},{default:l(()=>[v(u(i(t)("link")),1)]),_:1}),s("span",null,u(i(t)("descriptionRight")),1)])]),_:1})):C("",!0)]),e(Q,{modelValue:le.value,"onUpdate:modelValue":n[8]||(n[8]=a=>le.value=a),title:"授权码认证",width:"400px"},{default:l(()=>[e($e,{model:U,"label-width":"0",ref_key:"formRef",ref:me,rules:ol,class:"page-form"},{default:l(()=>[e(pl,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[e(j,{prop:"auth_code"},{default:l(()=>[e(K,{modelValue:U.auth_code,"onUpdate:modelValue":n[5]||(n[5]=a=>U.auth_code=a),placeholder:i(t)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),s("div",Ht,[e(j,{prop:"auth_secret"},{default:l(()=>[e(K,{modelValue:U.auth_secret,"onUpdate:modelValue":n[6]||(n[6]=a=>U.auth_secret=a),clearable:"",placeholder:i(t)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),s("div",Kt,u(i(t)("authInfoTips")),1),s("div",Qt,[e(m,{type:"primary",class:"w-full",size:"large",loading:H.value,onClick:n[7]||(n[7]=a=>il(me.value))},{default:l(()=>[v(u(i(t)("confirm")),1)]),_:1},8,["loading"])]),s("div",Gt,[e(m,{type:"primary",link:"",onClick:Re},{default:l(()=>[v(u(i(t)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),e(Q,{modelValue:ee.value,"onUpdate:modelValue":n[10]||(n[10]=a=>ee.value=a),title:i(t)("plugDetail"),width:"500px","destroy-on-close":!0},{footer:l(()=>[s("span",Zt,[e(m,{type:"primary",onClick:n[9]||(n[9]=a=>ee.value=!1)},{default:l(()=>[v(u(i(t)("confirm")),1)]),_:1})])]),default:l(()=>[e($e,{model:F.value,"label-width":"120px",ref_key:"formRef",ref:me,class:"page-form"},{default:l(()=>[e(j,{label:i(t)("title")},{default:l(()=>[s("div",Wt,u(F.value.title),1)]),_:1},8,["label"]),e(j,{label:i(t)("desc")},{default:l(()=>[s("div",Xt,u(F.value.desc),1)]),_:1},8,["label"]),e(j,{label:i(t)("author")},{default:l(()=>[s("div",Yt,u(F.value.author),1)]),_:1},8,["label"]),e(j,{label:i(t)("version")},{default:l(()=>[s("div",Jt,u(F.value.version),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Q,{modelValue:R.value,"onUpdate:modelValue":n[11]||(n[11]=a=>R.value=a),title:i(t)("addonInstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":sl},{default:l(()=>[e(fl,{space:200,active:b.value,"finish-status":"success","align-center":""},{default:l(()=>[e(ye,{title:i(t)("envCheck"),class:"flex-1"},null,8,["title"]),e(ye,{title:i(t)("installProgress"),class:"flex-1"},null,8,["title"]),e(ye,{title:i(t)("installComplete"),class:"flex-1"},null,8,["title"])]),_:1},8,["active"]),oe((d(),p("div",null,[e(je,{"max-height":"50vh"},{default:l(()=>[s("div",ea,[k.value.dir?(d(),p("div",la,[s("p",ta,u(i(t)("dirPermission")),1),s("div",aa,[e(N,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(i(t)("path")),1)]),_:1}),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("demand")),1)]),_:1}),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("status")),1)]),_:1})]),_:1}),(d(!0),p(O,null,W(k.value.dir.is_readable,(a,h)=>(d(),y(N,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(a.dir),1)]),_:2},1024),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("readable")),1)]),_:1}),e(_,{span:6},{default:l(()=>[a.status?(d(),p("span",sa,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(d(),p("span",na,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128)),(d(!0),p(O,null,W(k.value.dir.is_write,(a,h)=>(d(),y(N,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(a.dir),1)]),_:2},1024),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("write")),1)]),_:1}),e(_,{span:6},{default:l(()=>[a.status?(d(),p("span",oa,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(d(),p("span",ia,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128))])])):C("",!0)])]),_:1}),s("div",ua,[e(xe,{effect:"dark",content:i(t)("installTips"),placement:"top"},{default:l(()=>[e(m,{type:"default",disabled:!k.value.is_pass||L.value,loading:D.value,onClick:Ye},{default:l(()=>[v(u(i(t)("localInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"]),e(xe,{effect:"dark",content:i(t)("cloudInstallTips"),placement:"top"},{default:l(()=>[e(m,{type:"primary",disabled:!k.value.is_pass||D.value,loading:L.value,onClick:Je},{default:l(()=>[v(u(i(t)("cloudInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"])])])),[[be,b.value==1],[Ne,!k.value.dir]]),oe(s("div",da,[e(i(Xl),{ref_key:"terminalRef",ref:P,context:E.value,"init-log":null,"show-header":!1,"show-log-time":!0,onExecCmd:Ge},null,8,["context"])],512),[[be,b.value==2]]),oe(s("div",ca,[e(_l,{icon:"success",title:i(t)("addonInstallSuccess")},null,8,["title"]),(d(!0),p(O,null,W(ue.value,(a,h)=>(d(),p("div",{class:"mb-[10px]",key:h},[e(vl,{title:a,type:"error",closable:!1},null,8,["title"])]))),128))],512),[[be,b.value==3]])]),_:1},8,["modelValue","title"]),e(Q,{modelValue:_e.value,"onUpdate:modelValue":n[12]||(n[12]=a=>_e.value=a),title:i(t)("addonUninstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1},{default:l(()=>[e(je,{"max-height":"50vh"},{default:l(()=>[s("div",ra,[Z.value.dir?(d(),p("div",pa,[s("p",fa,u(i(t)("dirPermission")),1),s("div",_a,[e(N,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(i(t)("path")),1)]),_:1}),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("demand")),1)]),_:1}),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("status")),1)]),_:1})]),_:1}),(d(!0),p(O,null,W(Z.value.dir.is_readable,(a,h)=>(d(),y(N,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(a.dir),1)]),_:2},1024),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("readable")),1)]),_:1}),e(_,{span:6},{default:l(()=>[a.status?(d(),p("span",va,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(d(),p("span",ma,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128)),(d(!0),p(O,null,W(Z.value.dir.is_write,(a,h)=>(d(),y(N,{class:"pb-[10px] items pl-[15px]",key:h},{default:l(()=>[e(_,{span:12},{default:l(()=>[s("span",null,u(a.dir),1)]),_:2},1024),e(_,{span:6},{default:l(()=>[s("span",null,u(i(t)("write")),1)]),_:1}),e(_,{span:6},{default:l(()=>[a.status?(d(),p("span",ha,[e(r,{color:"green"},{default:l(()=>[e(ae)]),_:1})])):(d(),p("span",xa,[e(r,{color:"red"},{default:l(()=>[e(se)]),_:1})]))]),_:2},1024)]),_:2},1024))),128))])])):C("",!0)])]),_:1})]),_:1},8,["modelValue","title"]),e(Q,{modelValue:M.value,"onUpdate:modelValue":n[14]||(n[14]=a=>M.value=a),title:"下载提示",width:"30%","before-close":o.handleClose},{footer:l(()=>[s("span",ya,[e(m,{onClick:n[13]||(n[13]=a=>M.value=!1)},{default:l(()=>[v("取消")]),_:1}),e(m,{type:"primary",onClick:Ke},{default:l(()=>[v("确定")]),_:1})])]),default:l(()=>[ga]),_:1},8,["modelValue","before-close"])])])),[[Ne,te.value]]),e(dt,{ref_key:"upgradeRef",ref:Ee,onComplete:B},null,512),e(ct,{ref_key:"cloudBuildRef",ref:Y},null,512)],64)}}});const Ja=rt(ba,[["__scopeId","data-v-8fb4b3af"]]);export{Ja as default};
