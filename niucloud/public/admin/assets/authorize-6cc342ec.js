import{d as L,r as i,R as z,V as D,Q as O,e as w,f as T,v as y,x as o,g as e,y as s,A as n,B as p,u as h,H as M,b9 as Q,ba as G}from"./base-d79f9f62.js";/* empty css                   *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                  */import{t as c}from"./index-9e0d1e6c.js";import{c as K}from"./index-6fcaf7b3.js";import{g as W,s as X}from"./module-c4c1e190.js";import{u as Y}from"./vue-router-fc35ac55.js";import{E as Z}from"./index-03649f16.js";import{E as ee}from"./index-2048a34f.js";import{E as te}from"./index-48558072.js";import{E as oe}from"./index-f249e665.js";import{a as se,E as ae}from"./index-6befecc6.js";import{E as le}from"./index-ba59a1dc.js";import{E as re}from"./index-d0ada8fb.js";import{v as ie}from"./directive-13582d99.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./pinia-55149fa9.js";import"./storage-5316d819.js";import"./index-3fd412a3.js";import"./index-542aa78e.js";import"./typescript-defaf979.js";import"./index-34cd7f55.js";import"./system-d23898e7.js";import"./index-5dbb8f83.js";import"./index-bdfee32a.js";import"./index-427f5a83.js";import"./index-71aec1df.js";import"./index-54a839cc.js";import"./focus-trap-50fa5770.js";import"./dropdown-465e3407.js";import"./event-9519ab40.js";import"./index-b6ca69fd.js";import"./error-78e43d3e.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./index-cf3a42e3.js";import"./scroll-aa5f3aa0.js";import"./vnode-772b0c47.js";import"./index-6229e0fd.js";const x=v=>(Q("data-v-99be2d93"),v=v(),G(),v),pe={class:"main main-container min-w-[1000px] min-h-[650px]"},ce={class:"flex"},de={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},me={class:"flex items-center justify-between"},ue=x(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),_e={class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},xe=x(()=>e("span",null,"当前版本",-1)),fe={class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},he=x(()=>e("em",{class:"text-[12px]"},"(当前已是最新版本)",-1)),ve={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},ge={class:"flex flex-col"},we={class:"flex flex-wrap items-center"},ye=x(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),be={class:"text-[14px] text-[#666]"},Ce={class:"mt-[46px] ml-[40px] flex flex-wrap"},ke={class:"text-[14px] text-[#797979] mr-[84px]"},Ve={class:"ml-[12px] text-[12px] text-[#222222]"},Ee={class:"text-[14px] flex items-center text-[#797979]"},Fe=x(()=>e("span",null,"授权码",-1)),Ae={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},Ie={class:"flex flex-1 flex-wrap justify-end relative"},Se={class:"px-[18px] py-[8px]"},ze=x(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务 ",-1)),De={class:"flex justify-end mt-[36px]"},Be={class:"mt-[20px]"},Ne={class:"text-sm mt-[10px] text-info"},Pe={class:"mt-[20px]"},Re={class:"mt-[10px] text-right"},je=L({__name:"authorize",setup(v){Y().meta.title;const b=i(null),d=i(!1),m=i(!1),B=a=>{const t=JSON.parse(JSON.stringify(a));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},N=()=>{d.value=!0},u=i(""),g=i(!0),f=i(!1),C=()=>{W().then(a=>{g.value=!1,a.data.data&&a.data.data.length!=0&&(u.value=a.data.data,d.value=!1)}).catch(()=>{g.value=!1,d.value=!1})};C();const _=z({auth_code:"",auth_secret:""}),k=i(),P=z({auth_code:[{required:!0,message:c("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:c("authSecretPlaceholder"),trigger:"blur"}]}),R=async a=>{f.value||!a||await a.validate(async t=>{t&&(f.value=!0,X(_).then(()=>{f.value=!1,C()}).catch(()=>{f.value=!1,d.value=!1}))})},V=()=>{window.open("https://www.niucloud.com/app")},E=i("");return(()=>{K().then(a=>{E.value=a.data.version.version})})(),(a,t)=>{const r=Z,j=D("View"),F=ee,H=D("Hide"),$=te,A=oe,I=se,S=le,U=ae,q=re,J=ie;return O((w(),T("div",pe,[g.value?M("",!0):(w(),y(S,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",ce,[e("div",de,[e("div",me,[ue,s(r,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[n("检测更新")]),_:1})]),e("div",_e,[xe,e("span",fe,p(E.value),1),he])]),e("div",ve,[e("div",ge,[e("div",we,[ye,e("span",be,p(u.value.company_name||"--"),1)]),e("div",Ce,[e("span",ke,[n("授权域名"),e("em",Ve,p(u.value.site_address||"--"),1)]),e("span",Ee,[Fe,e("em",Ae,p(u.value.auth_code?m.value?u.value.auth_code:B(u.value.auth_code):"--"),1),m.value?(w(),y(F,{key:1,onClick:t[1]||(t[1]=l=>m.value=!m.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[s(H)]),_:1})):(w(),y(F,{key:0,onClick:t[0]||(t[0]=l=>m.value=!m.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[s(j)]),_:1}))])])]),e("div",Ie,[s(r,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:N},{default:o(()=>[n("授权码认证")]),_:1}),s($,{ref_key:"getAuthCodeDialog",ref:b,placement:"bottom-start",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[s(r,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[n("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Se,[ze,e("div",De,[s(r,{class:"w-[182px] !h-[48px]",plain:"",onClick:V},{default:o(()=>[n("去应用市场逛逛")]),_:1}),s(r,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=l=>b.value.hide())},{default:o(()=>[n("关闭")]),_:1})])])]),_:1},512)]),s(q,{modelValue:d.value,"onUpdate:modelValue":t[6]||(t[6]=l=>d.value=l),title:"授权码认证",width:"400px"},{default:o(()=>[s(U,{model:_,"label-width":"0",ref_key:"formRef",ref:k,rules:P,class:"page-form"},{default:o(()=>[s(S,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[s(I,{prop:"auth_code"},{default:o(()=>[s(A,{modelValue:_.auth_code,"onUpdate:modelValue":t[3]||(t[3]=l=>_.auth_code=l),placeholder:h(c)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Be,[s(I,{prop:"auth_secret"},{default:o(()=>[s(A,{modelValue:_.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=l=>_.auth_secret=l),clearable:"",placeholder:h(c)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Ne,p(h(c)("authInfoTips")),1),e("div",Pe,[s(r,{type:"primary",class:"w-full",size:"large",loading:f.value,onClick:t[5]||(t[5]=l=>R(k.value))},{default:o(()=>[n(p(h(c)("confirm")),1)]),_:1},8,["loading"])]),e("div",Re,[s(r,{type:"primary",link:"",onClick:V},{default:o(()=>[n(p(h(c)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[J,g.value]])}}});const Bt=ne(je,[["__scopeId","data-v-99be2d93"]]);export{Bt as default};
