import{d as B,r as b,R as w,w as K,e as y,f as I,g as r,u as o,B as i,Q as O,v as D,x as p,y as l,A as f}from"./base-9962c822.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                 */import{_ as j}from"./index.vue_vue_type_style_index_0_lang-f28cbb83.js";/* empty css                */import{_ as Q}from"./index-500ed4b6.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{t as e}from"./index-5516aed6.js";import{g as k,d as F}from"./weapp-6fcef875.js";import{E as L}from"./index-5c4817f4.js";import{u as W,b as z}from"./vue-router-d7e63612.js";import{a as x}from"./index-2cabf788.js";import{E as G}from"./index-19251c17.js";import{a as H,E as J}from"./index-7c833df7.js";import{E as X}from"./index-189f302e.js";import{E as Y,b as Z}from"./index-13fd1eb5.js";import{E as ee}from"./index-7ab57426.js";import{v as oe}from"./directive-f75d4a7d.js";/* empty css                    */import"./storage-0874d153.js";import"./index-57446bef.js";import"./index-4937003d.js";import"./error-78e43d3e.js";import"./typescript-defaf979.js";import"./index-df16e899.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-92d4efb2.js";/* empty css                   */import"./attachment-75502009.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                         *//* empty css                   */import"./index-e059001a.js";import"./index-ab38878f.js";import"./index-c98e204a.js";import"./index-71b7d8f4.js";import"./focus-trap-d0fc8554.js";import"./dropdown-ccb689be.js";import"./index.vue_vue_type_script_setup_true_lang-780dd221.js";/* empty css                */import"./sys-7988dced.js";import"./index-e026a545.js";import"./pinia-a9fc3924.js";import"./system-1108e5c1.js";import"./index-c4e33d8d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-35c5a824.js";import"./index-91fda20f.js";import"./scroll-d85c8f38.js";import"./vnode-562dae50.js";import"./aria-adfa05c5.js";import"./validator-00f31ee7.js";import"./index-3427fe17.js";import"./index-2ee99ba1.js";import"./index-e2acd187.js";import"./event-9519ab40.js";import"./index-1370ab44.js";import"./index-20ef35a7.js";import"./index-7332c216.js";import"./index-57e03d9e.js";import"./debounce-9674000c.js";import"./index-ec548bfb.js";import"./position-8e494ab3.js";import"./index-967f94ef.js";import"./index-65bc84a3.js";import"./index-6b77b11a.js";import"./isEqual-240b5e0a.js";import"./_Uint8Array-c92ffa25.js";import"./flatten-940b9f2c.js";import"./index-26709bbd.js";import"./index-22970d5d.js";import"./index-fb8b7863.js";import"./strings-66191554.js";import"./index-6edd46fb.js";import"./_initCloneObject-41dd9efb.js";const le={class:"main-container"},te={class:"detail-head"},ae=r("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),pe={class:"ml-[1px]"},re=r("span",{class:"adorn"},"|",-1),ie={class:"right"},se={class:"panel-title !text-sm"},de={class:"form-tip"},ne={class:"panel-title !text-sm"},me={class:"form-tip"},ue={class:"form-tip"},ce={class:"panel-title !text-sm"},_e={class:"input-width"},fe={class:"form-tip"},ve={class:"form-tip"},ge={class:"panel-title !text-sm"},he={class:"form-tip"},be={class:"form-tip"},we={class:"form-tip"},ye={class:"form-tip"},ke={class:"form-tip"},xe={class:"flex"},Ve={class:"panel-title !text-sm"},Pe={class:"fixed-footer-wrap"},Ee={class:"fixed-footer"},dl=B({__name:"config",setup(Ue){const V=W(),P=z(),E=V.meta.title,u=b(!0),a=w({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:""}),g=b(),U=w({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!0,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]});k().then(m=>{Object.assign(a,m.data),u.value=!1}),k().then(m=>{Object.assign(m.data)});const{copy:q,isSupported:C,copied:h}=L(),c=m=>{if(!C.value){x({message:e("notSupportCopy"),type:"warning"});return}q(m)};K(h,()=>{h.value&&x({message:e("copySuccess"),type:"success"})});const T=async m=>{u.value||!m||await m.validate(async t=>{t&&(u.value=!0,F(a).then(()=>{u.value=!1}).catch(()=>{u.value=!1}))})};return(m,t)=>{const n=G,d=H,S=Q,_=X,A=j,v=Y,R=Z,$=J,M=ee,N=oe;return y(),I("div",le,[r("div",te,[r("div",{class:"left",onClick:t[0]||(t[0]=s=>o(P).push({path:"/channel/weapp"}))},[ae,r("span",pe,i(o(e)("returnToPreviousPage")),1)]),re,r("span",ie,i(o(E)),1)]),O((y(),D($,{model:a,"label-width":"170px",ref_key:"formRef",ref:g,rules:U,class:"page-form"},{default:p(()=>[l(_,{class:"box-card !border-none",shadow:"never"},{default:p(()=>[r("h3",se,i(o(e)("weappInfo")),1),l(d,{label:o(e)("weappName"),prop:"weapp_name"},{default:p(()=>[l(n,{modelValue:a.weapp_name,"onUpdate:modelValue":t[1]||(t[1]=s=>a.weapp_name=s),placeholder:o(e)("weappNamePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,{label:o(e)("weappOriginal"),prop:"weapp_original"},{default:p(()=>[l(n,{modelValue:a.weapp_original,"onUpdate:modelValue":t[2]||(t[2]=s=>a.weapp_original=s),placeholder:o(e)("weappOriginalPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,{label:o(e)("weappQrcode"),prop:"qr_code"},{default:p(()=>[l(S,{modelValue:a.qr_code,"onUpdate:modelValue":t[3]||(t[3]=s=>a.qr_code=s)},null,8,["modelValue"]),r("div",de,i(o(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),l(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[r("h3",ne,i(o(e)("weappDevelopInfo")),1),l(d,{label:o(e)("weappAppid"),prop:"app_id"},{default:p(()=>[l(n,{modelValue:a.app_id,"onUpdate:modelValue":t[4]||(t[4]=s=>a.app_id=s),placeholder:o(e)("appidPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),r("div",me,i(o(e)("weappAppidTips")),1)]),_:1},8,["label"]),l(d,{label:o(e)("weappAppsecret"),prop:"app_secret"},{default:p(()=>[l(n,{modelValue:a.app_secret,"onUpdate:modelValue":t[5]||(t[5]=s=>a.app_secret=s),placeholder:o(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),r("div",ue,i(o(e)("weappAppsecretTips")),1)]),_:1},8,["label"])]),_:1}),l(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[r("h3",ce,i(o(e)("weappUpload")),1),l(d,{label:o(e)("uploadKey"),prop:"upload_private_key"},{default:p(()=>[r("div",_e,[l(A,{modelValue:a.upload_private_key,"onUpdate:modelValue":t[6]||(t[6]=s=>a.upload_private_key=s),api:"sys/document/wechat"},null,8,["modelValue"])]),r("div",fe,i(o(e)("uploadKeyTips")),1),r("div",ve,i(o(e)("uploadIpTips"))+i(a.upload_ip),1)]),_:1},8,["label"])]),_:1}),l(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[r("h3",ge,i(o(e)("theServerSetting")),1),l(d,{label:"URL"},{default:p(()=>[l(n,{"model-value":a.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[r("div",{class:"cursor-pointer",onClick:t[7]||(t[7]=s=>c(a.serve_url))},i(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),l(d,{label:"Token",prop:"token"},{default:p(()=>[l(n,{modelValue:a.token,"onUpdate:modelValue":t[8]||(t[8]=s=>a.token=s),placeholder:o(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),r("div",he,i(o(e)("tokenTips")),1)]),_:1}),l(d,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:p(()=>[l(n,{modelValue:a.encoding_aes_key,"onUpdate:modelValue":t[9]||(t[9]=s=>a.encoding_aes_key=s),placeholder:o(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),r("div",be,i(o(e)("encodingAESKeyTips")),1)]),_:1}),l(d,{label:o(e)("encryptionType"),prop:"encryption_type"},{default:p(()=>[l(R,{modelValue:a.encryption_type,"onUpdate:modelValue":t[10]||(t[10]=s=>a.encryption_type=s)},{default:p(()=>[l(v,{label:"not_encrypt"},{default:p(()=>[f(i(o(e)("cleartextMode")),1)]),_:1}),l(v,{label:"compatible"},{default:p(()=>[f(i(o(e)("compatibleMode")),1)]),_:1}),l(v,{label:"safe"},{default:p(()=>[f(i(o(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),r("div",we,i(o(e)("cleartextModeTips")),1),r("div",ye,i(o(e)("compatibleModeTips")),1),r("div",ke,i(o(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1}),l(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[r("div",xe,[r("h3",Ve,i(o(e)("functionSetting")),1)]),l(d,{label:o(e)("requestUrl")},{default:p(()=>[l(n,{"model-value":a.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[r("div",{class:"cursor-pointer",onClick:t[11]||(t[11]=s=>c(a.request_url))},i(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(d,{label:o(e)("socketUrl")},{default:p(()=>[l(n,{"model-value":a.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[r("div",{class:"cursor-pointer",onClick:t[12]||(t[12]=s=>c(a.socket_url))},i(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(d,{label:o(e)("uploadUrl")},{default:p(()=>[l(n,{"model-value":a.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[r("div",{class:"cursor-pointer",onClick:t[13]||(t[13]=s=>c(a.upload_url))},i(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),l(d,{label:o(e)("downloadUrl")},{default:p(()=>[l(n,{"model-value":a.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[r("div",{class:"cursor-pointer",onClick:t[14]||(t[14]=s=>c(a.download_url))},i(o(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[N,u.value]]),r("div",Pe,[r("div",Ee,[l(M,{type:"primary",loading:u.value,onClick:t[15]||(t[15]=s=>T(g.value))},{default:p(()=>[f(i(o(e)("save")),1)]),_:1},8,["loading"])])])])}}});export{dl as default};
