import{d as T,r as q,q as g,N as l,cx as f,h,c as v,a as i,t as d,u as e,e as o,w as r,F as w,i as b,y,z as V,B as R,W as C,X as F,ay as M,az as A,E as D,Y as W}from"./index-b19d04dd.js";/* empty css                *//* empty css                  *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                 */const z={class:"panel-title"},S={class:"form-tip"},j={class:"mt-[40px]"},K=T({__name:"menu-form",props:{data:{type:Object,default:()=>{}},index:{type:Number,default:0},subIndex:{type:Number,default:-1}},emits:["delete"],setup(N,{expose:x,emit:P}){const m=N,c=q(),a=g({get(){return m.data},set(n){}}),E=g(()=>({name:[{required:!0,message:l("menuNamePlaceholder"),trigger:"blur"},{validator:(n,t,p)=>{a.value.sub_button&&f(t)>8?p(new Error(l("menuNameTips"))):!a.value.sub_button&&f(t)>16?p(new Error(l("subMenuNameTips"))):p()},trigger:["blur","change"]}],url:[{required:!a.value.sub_button||!a.value.sub_button.length,message:l("webpageUrlPlaceholder"),trigger:"blur"}],appid:[{required:(!a.value.sub_button||!a.value.sub_button.length)&&a.value.type=="miniprogram",message:l("weappAppidPlaceholder"),trigger:"blur"}],pagepath:[{required:(!a.value.sub_button||!a.value.sub_button.length)&&a.value.type=="miniprogram",message:l("weappPagePlaceholder"),trigger:"blur"}]})),U=()=>{P("delete")};return x({validate:async()=>{let n=!1;return await c.value.validate(async t=>{n=t}),n},index:m.index,subIndex:m.subIndex}),(n,t)=>{const p=C,s=F,_=M,B=A,I=D,k=W;return h(),v(w,null,[i("div",z,d(e(a).sub_button?e(l)("menuNameInfo"):e(l)("subMenuNameInfo")),1),o(k,{model:e(a),"label-width":"140px",ref_key:"formRef",ref:c,rules:e(E),class:"page-form mt-[30px]"},{default:r(()=>[o(s,{label:e(l)("menuName"),prop:"name"},{default:r(()=>[o(p,{modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=u=>e(a).name=u),placeholder:e(l)("menuNamePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),i("div",S,d(e(a).sub_button?e(l)("menuNameTips"):e(l)("subMenuNameTips")),1)]),_:1},8,["label"]),!e(a).sub_button||!e(a).sub_button.length?(h(),v(w,{key:0},[o(s,{label:e(l)("messageType")},{default:r(()=>[o(B,{modelValue:e(a).type,"onUpdate:modelValue":t[1]||(t[1]=u=>e(a).type=u)},{default:r(()=>[o(_,{label:"view"},{default:r(()=>[b(d(e(l)("skipWebpage")),1)]),_:1}),o(_,{label:"miniprogram"},{default:r(()=>[b(d(e(l)("skipWeapp")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(s,{label:e(l)("webpageUrl"),prop:"url"},{default:r(()=>[o(p,{modelValue:e(a).url,"onUpdate:modelValue":t[2]||(t[2]=u=>e(a).url=u),placeholder:e(l)("webpageUrlPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),y(o(s,{label:e(l)("weappAppid"),prop:"appid"},{default:r(()=>[o(p,{modelValue:e(a).appid,"onUpdate:modelValue":t[3]||(t[3]=u=>e(a).appid=u),placeholder:e(l)("weappAppidPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[V,e(a).type=="miniprogram"]]),y(o(s,{label:e(l)("weappPage"),prop:"pagepath"},{default:r(()=>[o(p,{modelValue:e(a).pagepath,"onUpdate:modelValue":t[4]||(t[4]=u=>e(a).pagepath=u),placeholder:e(l)("weappPagePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[V,e(a).type=="miniprogram"]])],64)):R("",!0),i("div",j,[o(I,{type:"primary",link:"",onClick:U},{default:r(()=>[b(d(e(l)("deleteMemu")),1)]),_:1})])]),_:1},8,["model","rules"])],64)}}});export{K as _};
