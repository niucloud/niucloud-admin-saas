import{d as B,N as p,r as N,q as G,h,c as u,y as w,z as W,u as t,a as m,t as x,e as c,w as r,F as z,G as C,A as S,x as I,R as k,b as $,X as D,Y as q,cC as J,_ as j}from"./index-9d601459.js";/* empty css                  *//* empty css                        *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-6388bdc1.js";import{_ as P}from"./index-2292609c.js";/* empty css                */import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-6df3a9a5.js";import"./el-form-item-4ed993c7.js";import{u as Y}from"./diy-f8a7f13a.js";const K={class:"content-wrap rubik-cube"},Q={class:"edit-attr-item-wrap"},Z={class:"mb-[10px]"},ee={class:"selected-template-list"},ie=["onClick"],ae={class:"edit-attr-item-wrap"},le={class:"mb-[10px]"},te={class:"layout"},se={class:"have-preview-image"},oe=["src"],ne={class:"style-wrap"},de={class:"edit-attr-item-wrap"},me={class:"mb-[10px]"},ce=B({__name:"edit-rubik-cube",setup(re,{expose:E}){const s=Y();s.editComponent.ignore=[],s.editComponent.verify=a=>{var e={code:!0,message:""};return s.value[a].list.forEach(i=>{if(i.imageUrl==="")return e.code=!1,e.message=p("imageUrlTip"),e}),e};const f=N([{name:"1行2个",src:"iconyihangliangge",className:"row1-of2",dimensionScale:[{desc:"宽度50%",size:"200px * 200px",name:"图一"},{desc:"宽度50%",size:"200px * 200px",name:"图二"}],descAux:"选定布局区域，在下方添加图片，建议添加尺寸一致的图片，宽度最小建议为：200px"},{name:"1行3个",src:"iconyihangsange",className:"row1-of3",dimensionScale:[{desc:"宽度33.33%",size:"200px * 200px",name:"图一"},{desc:"宽度33.33%",size:"200px * 200px",name:"图二"},{desc:"宽度33.33%",size:"200px * 200px",name:"图三"}],descAux:"选定布局区域，在下方添加图片，建议添加尺寸一致的图片，宽度最小建议为：130px"},{name:"1行4个",src:"iconyihangsige",className:"row1-of4",dimensionScale:[{desc:"宽度25%",size:"200px * 200px",name:"图一"},{desc:"宽度25%",size:"200px * 200px",name:"图二"},{desc:"宽度25%",size:"200px * 200px",name:"图三"},{desc:"宽度25%",size:"200px * 200px",name:"图四"}],descAux:"选定布局区域，在下方添加图片，建议添加尺寸一致的图片，宽度最小建议为：100px"},{name:"2左2右",src:"iconmofang-liangzuoliangyou",className:"row2-lt-of2-rt",dimensionScale:[{desc:"宽度50%",size:"200px * 200px",name:"图一"},{desc:"宽度50%",size:"200px * 200px",name:"图二"},{desc:"宽度50%",size:"200px * 200px",name:"图三"},{desc:"宽度50%",size:"200px * 200px",name:"图四"}],descAux:"选定布局区域，在下方添加图片，建议添加尺寸一致的图片，宽度最小建议为：200px"},{name:"1左2右",src:"iconmofang-yizuoliangyou",className:"row1-lt-of2-rt",dimensionScale:[{desc:"宽度50% * 高度100%",size:"200px * 400px",name:"图一"},{desc:"宽度50% * 高度50%",size:"200px * 200px",name:"图二"},{desc:"宽度50% * 高度50%",size:"200px * 200px",name:"图三"}],descAux:"选定布局区域，在下方添加图片，宽度最小建议为：200px，右侧两张图片高度一致，左侧图片高度为右侧两张图片高度之和（例：左侧图片尺寸：200px * 300px，右侧两张图片尺寸：200px * 150px）"},{name:"1上2下",src:"iconmofang-yishangliangxia",className:"row1-tp-of2-bm",dimensionScale:[{desc:"宽度100% * 高度50%",size:"400px * 200px",name:"图一"},{desc:"宽度50% * 高度50%",size:"200px * 200px",name:"图二"},{desc:"宽度50% * 高度50%",size:"200px * 200px",name:"图三"}],descAux:"选定布局区域，在下方添加图片，上方一张图片的宽度为下方两张图片宽度之和，下放两张图片尺寸一致，高度可根据实际需求自行确定（例：上方图片尺寸：400px * 150px，下方两张图片尺寸：200px * 150px）"},{name:"1左3右",src:"iconxuanzemoban-yizuosanyou",className:"row1-lt-of1-tp-of2-bm",dimensionScale:[{desc:"宽度50% * 高度100%",size:"200px * 400px",name:"图一"},{desc:"宽度50% * 高度50%",size:"200px * 200px",name:"图二"},{desc:"宽度25% * 高度50%",size:"100px * 200px",name:"图三"},{desc:"宽度25% * 高度50%",size:"100px * 200px",name:"图四"}],descAux:"选定布局区域，在下方添加图片，左右两侧内容宽高相同，右侧上下区域高度各占50%，右侧内容下半部分两张图片的宽度相同，各占右侧内容宽度的50%（例：左侧图片尺寸：200px * 400px，右侧上半部分图片尺寸：200px * 200px，右侧下半部分两张图片尺寸：100px * 200px）"}]);let o=N([]);const v=G(()=>{var a;return f.value.forEach(e=>{e.className==s.editComponent.mode&&(a=e,o.value=JSON.parse(JSON.stringify(s.editComponent.list)),e.className=="row2-lt-of2-rt"?T():e.className=="row1-lt-of2-rt"?A():e.className=="row1-tp-of2-bm"?L():e.className=="row1-lt-of1-tp-of2-bm"?F():O(e.className))}),a}),V=a=>{for(var e=0;e<f.value.length;e++)if(e==a){s.editComponent.mode=f.value[e].className;var i=f.value[e].dimensionScale.length;if(i>s.editComponent.list.length)for(var l=0;l<i;l++)l+1>s.editComponent.list.length&&s.editComponent.list.push({imageUrl:"",imgWidth:0,imgHeight:0,link:{name:""}});else if(i!=s.editComponent.list.length)for(var l=0;l<s.editComponent.list.length;l++)l+1>i&&(s.editComponent.list.splice(l,1),l=0)}},U=a=>{R(!0)},R=(a=!1)=>{s.editComponent.list.forEach((e,i)=>{let l=new Image;l.src=k(e.imageUrl),l.onload=async()=>{e.imgWidth=l.width,e.imgHeight=l.height}})};E({});const O=a=>{let e=0;var i=2,l="calc(100% / 2)";a=="row1-of3"&&(i=3,l="calc(100% / 3)"),a=="row1-of4"&&(i=4,l="calc(100% / 4)"),o.value.forEach((d,H)=>{var y=d.imgHeight/d.imgWidth;let _=330;d.imgWidth=_/i,d.imgHeight=d.imgWidth*y,(e==0||e<d.imgHeight)&&(e=d.imgHeight)}),o.value.forEach((d,H)=>{d.widthStyle=l,d.imgHeight=e})},T=()=>{let a=0,e=0;o.value.forEach((i,l)=>{var d=i.imgHeight/i.imgWidth;i.imgWidth=330,i.imgWidth=i.imgWidth/2,i.imgHeight=i.imgWidth*d,l<=1?(a==0||a<i.imgHeight)&&(a=i.imgHeight):l>1&&(e==0||e<i.imgHeight)&&(e=i.imgHeight)}),o.value.forEach((i,l)=>{i.imgWidth="calc(100% / 2)",i.widthStyle=i.imgWidth,l<=1?i.imgHeight=a:l>1&&(i.imgHeight=e)})},A=()=>{let a=0;o.value[1].imgWidth,o.value[2].imgWidth,o.value.forEach((e,i)=>{if(i==0){var l=e.imgHeight/e.imgWidth;e.imgWidth=330,e.imgWidth=e.imgWidth/2,e.imgHeight=e.imgWidth*l,a=e.imgHeight/2,e.imgWidth+="px"}else e.imgWidth=o.value[0].imgWidth,e.imgHeight=a})},L=()=>{var a=0;o.value.forEach((e,i)=>{var l=e.imgHeight/e.imgWidth;i==0?e.imgWidth=330:i>0&&(e.imgWidth=330,e.imgWidth=e.imgWidth/2),e.imgHeight=e.imgWidth*l,i>0&&(a==0||a<e.imgHeight)&&(a=e.imgHeight)}),o.value.forEach((e,i)=>{e.imgWidth+="px",e.widthStyle=e.imgWidth,i>0&&(e.imgHeight=a)})},F=()=>{o.value.forEach((a,e)=>{if(e==0){var i=a.imgHeight/a.imgWidth;a.imgWidth=330,a.imgWidth=a.imgWidth/2,a.imgHeight=a.imgWidth*i}else e==1?(a.imgWidth=o.value[0].imgWidth,a.imgHeight=o.value[0].imgHeight/2):e>1&&(a.imgWidth=o.value[0].imgWidth/2,a.imgHeight=o.value[1].imgHeight)}),o.value.forEach((a,e)=>{a.imgWidth+="px"})};return(a,e)=>{const i=D,l=X,d=q,H=P,y=M,_=J;return h(),u(z,null,[w(m("div",K,[m("div",Q,[m("h3",Z,x(t(p)("selectStyle")),1),c(d,{"label-width":"80px",class:"px-[10px]"},{default:r(()=>[c(i,{label:t(p)("template")},{default:r(()=>[m("span",null,x(t(v).name),1)]),_:1},8,["label"]),m("ul",ee,[(h(!0),u(z,null,C(f.value,(n,g)=>(h(),u("li",{class:S([n.className==t(s).editComponent.mode?"selected":""]),onClick:b=>V(g)},[c(l,{name:"iconfont-"+n.src,size:"16px"},null,8,["name"])],10,ie))),256))])]),_:1})]),m("div",ae,[m("h3",le,x(t(p)("rubikCubeLayout")),1),c(d,{"label-width":"80px",class:"px-[10px]"},{default:r(()=>[m("ul",te,[(h(!0),u(z,null,C(t(v).dimensionScale,(n,g)=>(h(),u("li",{class:S([t(v).className]),style:I({width:t(o)[g].widthStyle,height:t(o)[g].imgHeight+"px"})},[w(m("div",se,[m("img",{class:"!w-full !h-full",src:t(k)(t(s).editComponent.list[g].imageUrl)},null,8,oe)],512),[[W,t(s).editComponent.list[g].imageUrl]]),w(m("div",{class:S(["empty",[t(v).className]])},[m("p",null,x(n.name),1),m("p",null,x(n.desc),1)],2),[[W,!t(s).editComponent.list[g].imageUrl]])],6))),256))]),(h(!0),u(z,null,C(t(s).editComponent.list,(n,g)=>(h(),u("div",{key:n.id,class:"item-wrap p-[10px] pb-0 relative border border-dashed border-gray-300 mb-[16px]"},[c(i,{label:t(p)("image")},{default:r(()=>[c(H,{modelValue:n.imageUrl,"onUpdate:modelValue":b=>n.imageUrl=b,limit:1,onChange:U},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),c(i,{label:t(p)("link")},{default:r(()=>[c(y,{modelValue:n.link,"onUpdate:modelValue":b=>n.link=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]))),128))]),_:1})])],512),[[W,t(s).editTab=="content"]]),w(m("div",ne,[m("div",de,[m("h3",me,x(t(p)("rubikCubeStyle")),1),c(d,{"label-width":"80px",class:"px-[10px]"},{default:r(()=>[c(i,{label:t(p)("imageGap")},{default:r(()=>[c(_,{modelValue:t(s).editComponent.imageGap,"onUpdate:modelValue":e[0]||(e[0]=n=>t(s).editComponent.imageGap=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:30},null,8,["modelValue"])]),_:1},8,["label"]),c(i,{label:t(p)("topRounded")},{default:r(()=>[c(_,{modelValue:t(s).editComponent.topElementRounded,"onUpdate:modelValue":e[1]||(e[1]=n=>t(s).editComponent.topElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"]),c(i,{label:t(p)("bottomRounded")},{default:r(()=>[c(_,{modelValue:t(s).editComponent.bottomElementRounded,"onUpdate:modelValue":e[2]||(e[2]=n=>t(s).editComponent.bottomElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),$(a.$slots,"style",{},void 0,!0)],512),[[W,t(s).editTab=="style"]])],64)}}});const pe=j(ce,[["__scopeId","data-v-157fcf4b"]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));export{ye as _};
