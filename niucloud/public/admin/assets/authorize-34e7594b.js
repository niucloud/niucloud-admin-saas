import{d as N,r as h,R as E,Q as k,e as _,f as u,y as s,x as a,g as t,B as e,u as o,H as R,v as D,A as F,bl as T,bm as z}from"./base-04829be5.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                 *//* empty css               */import{t as p}from"./index-043d021e.js";import{g as P,a as U,s as j}from"./module-797f355a.js";import{b as H}from"./vue-router-fee568b2.js";import{E as K,a as L}from"./index-cbf0aee7.js";import{E as M}from"./index-db9b8d96.js";import{a as O,E as Q}from"./index-6bd50bb5.js";import{E as $}from"./index-88566e4e.js";import{E as q}from"./index-eb678249.js";import{v as G}from"./directive-013f0a4e.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./common-111e3797.js";import"./common-2cf17469.js";import"./index-faea7bd5.js";import"./storage-1a3ddb14.js";import"./index-7e933ae4.js";import"./index-30df2c14.js";import"./index-236cb599.js";import"./index-92283b18.js";import"./typescript-defaf979.js";import"./index-a2524300.js";import"./event-9519ab40.js";import"./index-d7f4b4bb.js";import"./index-de053f2e.js";import"./error-78e43d3e.js";import"./castArray-11aea762.js";import"./_Uint8Array-99b916e9.js";import"./_initCloneObject-e5a1aa13.js";import"./index-4edf2cad.js";const W=m=>(T("data-v-47dd623e"),m=m(),z(),m),X={class:"main main-container min-w-[1000px] min-h-[650px]"},Y={key:0},Z={class:"flex mt-[15px]"},tt={class:"text-[14px] w-[130px] text-right mr-[20px]"},et={class:"text-[14px] text-[#666666]"},st={class:"flex mt-[15px]"},at={class:"text-[14px] w-[130px] text-right mr-[20px]"},ot={class:"text-[14px] text-[#666666]"},pt={class:"flex mt-[15px]"},lt={class:"text-[14px] w-[130px] text-right mr-[20px]"},ct={class:"text-[14px] text-[#666666]"},nt={class:"mt-[15px]"},it={class:"flex"},rt={class:"text-[14px] w-[130px] text-right mr-[20px]"},dt={class:"text-[14px] text-[#666666]"},_t={key:0,class:"flex"},mt=W(()=>t("span",{class:"text-[14px] min-w-[130px] text-right mr-[20px]"},null,-1)),xt={class:"flex mt-[15px]"},ut={class:"text-[14px] w-[130px] text-right mr-[20px]"},ht={class:"text-[14px] text-[#666666]"},ft={class:"flex mt-[15px]"},vt={class:"text-[14px] w-[130px] text-right mr-[20px]"},bt={class:"text-[14px] text-[#666666]"},wt={class:"flex mt-[15px]"},gt={class:"text-[14px] w-[130px] text-right mr-[20px]"},yt={class:"text-[14px] text-[#666666]"},Et={class:"flex mt-[15px]"},kt={class:"text-[14px] w-[130px] text-right mr-[20px]"},At={class:"text-[14px] text-[#666666]"},Ct={class:"flex mt-[15px]"},Vt={class:"text-[14px] w-[130px] text-right mr-[20px]"},St={class:"text-[14px] text-[#666666]"},Bt={key:1},It={class:"fixed-footer-wrap"},Nt={class:"fixed-footer"},Rt=N({__name:"authorize",setup(m){H();const l=h(""),i=h(!0),f=()=>{P().then(n=>{i.value=!1,n.data.data&&n.data.data.length!=0&&(l.value=n.data.data)}).catch(()=>{i.value=!1})};f();const d=E({auth_code:"",auth_secret:""}),v=h(),A=E({});(async()=>{const n=await(await U()).data;Object.keys(d).forEach(c=>{n[c]!=null&&(d[c]=n[c])})})();const C=async n=>{i.value||!n||await n.validate(async c=>{c&&(i.value=!0,j(d).then(()=>{i.value=!1,f()}).catch(()=>{i.value=!1}))})},V=()=>{l.value=""};return(n,c)=>{const r=K,S=L,b=M,w=O,g=$,B=Q,I=q,y=G;return k((_(),u("div",X,[s(g,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[l.value?(_(),u("div",Y,[s(S,null,{default:a(()=>[s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",Z,[t("span",tt,e(o(p)("authApp")),1),t("span",et,e(l.value.app.app_name),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",st,[t("span",at,e(o(p)("authAppKey")),1),t("span",ot,e(l.value.app.app_key),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",pt,[t("span",lt,e(o(p)("companyName")),1),t("span",ct,e(l.value.app_auth.company_name),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",nt,[t("div",it,[t("span",rt,e(o(p)("siteAddress")),1),t("span",dt,e(l.value.site_address),1)]),l.value.address_type?R("",!0):(_(),u("div",_t,[mt,t("span",{class:"text-[14px] text-[#f10b0b] cursor-pointer",onClick:V},e(o(p)("siteAddressTips")),1)]))])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",xt,[t("span",ut,e(o(p)("contactName")),1),t("span",ht,e(l.value.app_auth.contact_name),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",ft,[t("span",vt,e(o(p)("authCode")),1),t("span",bt,e(l.value.auth_code),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",wt,[t("span",gt,e(o(p)("authSecret")),1),t("span",yt,e(l.value.auth_secret),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",Et,[t("span",kt,e(o(p)("createTime")),1),t("span",At,e(l.value.create_time),1)])]),_:1}),s(r,{span:8,class:"mb-[20px]"},{default:a(()=>[t("div",Ct,[t("span",Vt,e(o(p)("expireTime")),1),t("span",St,e(l.value.expire_time),1)])]),_:1})]),_:1})])):(_(),u("div",Bt,[k((_(),D(B,{model:d,"label-width":"150px",ref_key:"formRef",ref:v,rules:A,class:"page-form"},{default:a(()=>[s(g,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[s(w,{label:o(p)("authCode")},{default:a(()=>[s(b,{modelValue:d.auth_code,"onUpdate:modelValue":c[0]||(c[0]=x=>d.auth_code=x),placeholder:o(p)("authCodePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(w,{label:o(p)("authSecret")},{default:a(()=>[s(b,{modelValue:d.auth_secret,"onUpdate:modelValue":c[1]||(c[1]=x=>d.auth_secret=x),clearable:"",placeholder:o(p)("authSecretPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[y,i.value]]),t("div",It,[t("div",Nt,[s(I,{type:"primary",loading:i.value,onClick:c[2]||(c[2]=x=>C(v.value))},{default:a(()=>[F(e(o(p)("save")),1)]),_:1},8,["loading"])])])]))]),_:1})])),[[y,i.value]])}}});const ue=J(Rt,[["__scopeId","data-v-47dd623e"]]);export{ue as default};
