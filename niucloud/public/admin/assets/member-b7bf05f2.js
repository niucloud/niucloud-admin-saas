import{d as C,r as g,n as v,N as l,h as b,c as N,y as F,I,w as i,e as r,a as c,t as _,u as n,i as B,W as D,X as $,_ as M,Y as R,E as P,$ as k}from"./index-4ce69858.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{L as H,M as L}from"./member-399a87da.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const T={class:"main-container"},U={class:"panel-title"},j={class:"form-tip"},q={class:"text-lg"},z={class:"fixed-footer-wrap"},A={class:"fixed-footer"},O=C({__name:"member",setup(W){const d=g(!0),p=g({}),h=g(""),x=v({prefix:[{validator:(o,e,a)=>{e&&!/^[a-zA-Z]*$/g.test(e)?a(new Error(l("prefixHint"))):a()},trigger:"blur"}],length:[{required:!0,message:l("lengthPlaceholder"),trigger:"blur"},{validator:(o,e,a)=>{parseInt(e)>30||parseInt(e)-t.prefix.length<4?a(new Error(l("lengthHint"))):a()},trigger:"blur"}]}),t=v({prefix:"",length:10});(async()=>{const o=await(await H()).data;Object.keys(t).forEach(e=>{o[e]!=null&&(t[e]=o[e])}),f(p.value),d.value=!1})();const f=async o=>{await o.validate(e=>{if(e){let a="";const m=t.length-t.prefix.length-1;for(let u=1;u<=m;u++)a+="0";h.value=t.prefix+a+"1"}})},w=async o=>{d.value||!o||await o.validate(e=>{e&&L(t).then(()=>{d.value=!1,f()}).catch(()=>{d.value=!1})})};return(o,e)=>{const a=D,m=$,u=M,y=R,V=P,E=k;return b(),N("div",T,[F((b(),I(y,{model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:p,rules:x,class:"page-form"},{default:i(()=>[r(u,{class:"box-card !border-none",shadow:"never"},{default:i(()=>[c("h3",U,_(n(l)("memberNoRule")),1),r(m,{label:n(l)("prefix"),prop:"prefix"},{default:i(()=>[r(a,{modelValue:t.prefix,"onUpdate:modelValue":e[0]||(e[0]=s=>t.prefix=s),placeholder:n(l)("prefixPlaceholder"),class:"input-width",clearable:"",maxlength:"20",onChange:e[1]||(e[1]=s=>f(p.value))},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(m,{label:n(l)("length"),prop:"length"},{default:i(()=>[r(a,{modelValue:t.length,"onUpdate:modelValue":e[2]||(e[2]=s=>t.length=s),placeholder:n(l)("lengthPlaceholder"),class:"input-width",clearable:"",type:"number",onChange:e[3]||(e[3]=s=>f(p.value))},null,8,["modelValue","placeholder"]),c("div",j,_(n(l)("lengthTips")),1)]),_:1},8,["label"]),r(m,null,{default:i(()=>[c("div",q,_(h.value),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[E,d.value]]),c("div",z,[c("div",A,[r(V,{type:"primary",onClick:e[4]||(e[4]=s=>w(p.value))},{default:i(()=>[B(_(n(l)("save")),1)]),_:1})])])])}}});const le=S(O,[["__scopeId","data-v-48406bbd"]]);export{le as default};
