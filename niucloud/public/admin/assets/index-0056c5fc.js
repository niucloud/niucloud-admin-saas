import{a3 as R,d as U,K as S,n as q,m as H,r as E,c as a,a as e,u as s,t as r,e as m,w as h,A as g,F as V,G as $,S as M,y as z,B as j,a4 as G,E as O,W as T,a0 as J,p as P,g as Q,h as n,R as D,i as X,a5 as Y,a6 as Z,f as ee,U as y,a2 as te,_ as se}from"./index-9d601459.js";/* empty css                   *//* empty css                 *//* empty css                *//* empty css                  */import{_ as oe}from"./icon-addon-339e16d0.js";import{_ as ae}from"./member_head-a897263d.js";import{_ as ne}from"./empty-77b60adb.js";import{g as ie}from"./sys-45a56363.js";import{g as re}from"./addon-cbb2516a.js";/* empty css                   */function ce(p){return R.get("home/site",{params:p})}const v=p=>(P("data-v-1f185a37"),p=p(),Q(),p),pe={class:"flex justify-between items-center py-[24px] pl-[62px] pr-[64px] home-head"},le={class:"flex items-center"},de=["src"],_e={key:1,class:"w-[32x] h-[32px] rounded-full",src:oe,alt:""},xe={class:"ml-[10px] text-[16px] font-bold"},me={class:"flex items-center"},ue={class:"mr-[12px] text-[14px]"},fe={class:"w-[1200px] m-auto mt-[62px]"},he={class:"flex justify-between items-center"},ge=v(()=>e("span",{class:"text-[24px] font-bold"},"站点列表",-1)),ye={class:"flex justify-between items-center mt-[18px]"},ve={class:"flex items-center flex-wrap text-[14px] w-[800px]"},ke=["onClick"],we={class:"flex flex-wrap mt-[30px]"},be=["onClick"],Ce={class:"flex items-center px-[24px] pt-[22px] pb-[16px] bg-[#F0F2F4] home-item-head"},Fe=["src"],Ie={key:1,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:ae},Se={class:"flex flex-col flex-1 justify-center"},Ee={class:"flex items-center flex-wrap"},Ve={class:"text-[16px] text-[#000] max-w-[145px] font-bold truncate mr-[10px]"},$e={key:0,class:"flex items-center justify-center min-w-[42px] h-[18px] bg-[#FF5500] rounded-tl-md rounded-br-md items-tab"},je={class:"text-[12px] text-[#fff]"},De={class:"text-[12px] mt-[3px] text-[#555]"},Be={class:"px-[24px] py-[20px] text-[#6D7278]"},Ke={class:"text-[14px]"},Le={class:"text-[14px] mt-[2px]"},Ne={key:0,class:"m-auto"},We=v(()=>e("img",{src:ne},null,-1)),Ae=v(()=>e("p",{class:"text-center text-gray-400"},"暂无站点",-1)),Re=[We,Ae],Ue=U({__name:"index",setup(p){const k=S();ee();const c=q({params:{keywords:"",page:1,limit:12,app:"",sort:!1},loading:!1,tableData:[]}),{params:d,loading:w,tableData:b}=H(c),u=()=>{c.loading=!0,ce(c.params).then(o=>{c.tableData=o.data.data,c.loading=!1}).catch(()=>{c.loading=!1})};u();const C=o=>{c.params.app=o,u()};let _=E({});(()=>{ie().then(o=>{_.value=o.data})})();const F=()=>{c.params.page=1,u()},B=o=>{y.set({key:"siteId",data:o.site_id}),y.set({key:"siteInfo",data:o}),y.set({key:"comparisonSiteIdStorage",data:o.site_id}),S().$patch(i=>{i.siteInfo=o}),location.href=`${location.origin}/site/`},K=()=>{k.logout()},I=E([]);re().then(({data:o})=>{const i=[];Object.keys(o).forEach(f=>{const x=o[f];x.type=="app"&&i.push(x)}),I.value=i}).catch();const L=()=>{G("加班加点研发中...")};return(o,i)=>{const f=O,x=te,N=T,W=J;return n(),a("div",null,[e("div",pe,[e("div",le,[s(_).icon?(n(),a("img",{key:0,class:"w-[32x] h-[32px] rounded-full",src:s(D)(s(_).icon),alt:""},null,8,de)):(n(),a("img",_e)),e("span",xe,r(s(_).site_name),1)]),e("div",me,[e("span",ue,r(s(k).userInfo.username),1),e("span",{onClick:i[0]||(i[0]=t=>K()),class:"text-[14px] cursor-pointer text-[var(--el-color-primary)]"},"退出")])]),e("div",fe,[e("div",he,[ge,m(f,{type:"primary",class:"w-[90px] !h-[34px]",onClick:L},{default:h(()=>[X("创建站点")]),_:1})]),e("div",ye,[e("div",ve,[e("span",{class:g(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":s(d).app==""}]),onClick:i[1]||(i[1]=t=>C(""))},"所有应用",2),(n(!0),a(V,null,$(I.value,(t,l)=>(n(),a("span",{class:g(["mr-[12px] cursor-pointer",{"text-[var(--el-color-primary)]":s(d).app==t.key}]),onClick:A=>C(t.key),key:l},r(t.title),11,ke))),128))]),m(N,{modelValue:s(d).keywords,"onUpdate:modelValue":i[2]||(i[2]=t=>s(d).keywords=t),class:"!w-[300px] !h-[34px]",placeholder:"输入要搜索的站点名称",onKeyup:M(F,["enter","native"])},{suffix:h(()=>[m(x,{onClick:Y(F,["stop"]),class:"cursor-pointer"},{default:h(()=>[m(s(Z))]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup"])]),z((n(),a("div",we,[(n(!0),a(V,null,$(s(b),(t,l)=>(n(),a("div",{key:l,onClick:A=>B(t),class:g(["home-item w-[285px] box-border mb-[20px] cursor-pointer",{"mr-[20px]":l==0||(l+1)%4!=0}])},[e("div",Ce,[t.logo?(n(),a("img",{key:0,class:"w-[48px] h-[48px] mr-[15px] rounded-[50%] overflow-hidden",src:s(D)(t.logo)},null,8,Fe)):(n(),a("img",Ie)),e("div",Se,[e("div",Ee,[e("span",Ve,r(t.site_name),1),t.app_name?(n(),a("div",$e,[e("span",je,r(t.app_name),1)])):j("",!0)]),e("span",De,r(t.create_time?t.create_time.split(" ")[0]:"--")+" 到 "+r(t.expire_time?t.expire_time.split(" ")[0]:"--"),1)])]),e("div",Be,[e("p",Ke,"站点编号："+r(t.site_id),1),e("p",Le,"站点套餐："+r(t.group_name||"--"),1)])],10,be))),128)),!s(b).length&&!s(w)?(n(),a("div",Ne,Re)):j("",!0)])),[[W,s(w)]])])])}}});const Ze=se(Ue,[["__scopeId","data-v-1f185a37"]]);export{Ze as default};
