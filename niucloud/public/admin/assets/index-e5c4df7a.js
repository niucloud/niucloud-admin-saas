import{b as H,s as U,d as te,E as Me,a2 as X,a3 as ve,A as Ne,r as Ae,j as ze,L as Ce,a4 as Le}from"./index-2048a34f.js";import{d as N,b as E,r as k,J as ne,o as ue,e as x,f as R,h as O,n as P,u as $,_ as J,I as Z,a4 as je,g as oe,v as ae,x as se,Z as De,B as ke,P as re,l as Se,T as ie,C as Re,c as v,R as ge,w as Y,O as xe,U as M,m as F,Q as We,F as ye,a as qe,q as Fe,E as Ve,a7 as Ge,V as Ke,A as Ue}from"./base-d79f9f62.js";import{T as Ze,v as He,e as Je}from"./index-3fd412a3.js";import{E as _}from"./index-34cd7f55.js";import{t as ee}from"./aria-adfa05c5.js";import{_ as Qe}from"./index-6d156531.js";import{E as Ee}from"./index-54a839cc.js";import{T as Xe}from"./index-03649f16.js";import{t as le}from"./error-78e43d3e.js";import{m as Ye}from"./typescript-defaf979.js";import{f as et}from"./vnode-772b0c47.js";const Te=Symbol("breadcrumbKey"),tt=H({separator:{type:String,default:"/"},separatorIcon:{type:U}}),nt=N({name:"ElBreadcrumb"}),ot=N({...nt,props:tt,setup(e){const n=e,t=E("breadcrumb"),r=k();return ne(Te,n),ue(()=>{const o=r.value.querySelectorAll(`.${t.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,g)=>(x(),R("div",{ref_key:"breadcrumb",ref:r,class:P($(t).b()),"aria-label":"Breadcrumb",role:"navigation"},[O(o.$slots,"default")],2))}});var at=J(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const st=H({to:{type:te([String,Object]),default:""},replace:{type:Boolean,default:!1}}),lt=N({name:"ElBreadcrumbItem"}),ut=N({...lt,props:st,setup(e){const n=e,t=re(),r=Z(Te,void 0),o=E("breadcrumb"),{separator:g,separatorIcon:i}=je(r),m=t.appContext.config.globalProperties.$router,l=k(),d=()=>{!n.to||!m||(n.replace?m.replace(n.to):m.push(n.to))};return(p,b)=>(x(),R("span",{class:P($(o).e("item"))},[oe("span",{ref_key:"link",ref:l,class:P([$(o).e("inner"),$(o).is("link",!!p.to)]),role:"link",onClick:d},[O(p.$slots,"default")],2),$(i)?(x(),ae($(Me),{key:0,class:P($(o).e("separator"))},{default:se(()=>[(x(),ae(De($(i))))]),_:1},8,["class"])):(x(),R("span",{key:1,class:P($(o).e("separator")),role:"presentation"},ke($(g)),3))],2))}});var $e=J(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const jt=Se(at,{BreadcrumbItem:$e}),Dt=ie($e);let rt=class{constructor(n,t){this.parent=n,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",r=>{let o=!1;switch(r.code){case _.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case _.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case _.tab:{ee(n,"mouseleave");break}case _.enter:case _.space:{o=!0,r.currentTarget.click();break}}return o&&(r.preventDefault(),r.stopPropagation()),!1})})}},it=class{constructor(n,t){this.domNode=n,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${n}-menu`);t&&(this.submenu=new rt(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let t=!1;switch(n.code){case _.down:{ee(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case _.up:{ee(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case _.tab:{ee(n.currentTarget,"mouseleave");break}case _.enter:case _.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}},ct=class{constructor(n,t){this.domNode=n,this.init(t)}init(n){const t=this.domNode.childNodes;Array.from(t).forEach(r=>{r.nodeType===1&&new it(r,n)})}};const dt=N({name:"ElMenuCollapseTransition",setup(){const e=E("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){X(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){ve(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Ne(t,e.m("collapse"))?(ve(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),X(t,e.m("collapse"))):(X(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ve(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){X(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function mt(e,n,t,r,o,g){return x(),ae(Ze,Re({mode:"out-in"},e.listeners),{default:se(()=>[O(e.$slots,"default")]),_:3},16)}var pt=J(dt,[["render",mt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function _e(e,n){const t=v(()=>{let o=e.parent;const g=[n.value];for(;o.type.name!=="ElMenu";)o.props.index&&g.unshift(o.props.index),o=o.parent;return g});return{parentMenu:v(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:t}}function vt(e){return v(()=>{const t=e.backgroundColor;return t?new Xe(t).shade(20).toString():""})}const we=(e,n)=>{const t=E("menu");return v(()=>t.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":vt(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},ft=H({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:U},expandOpenIcon:{type:U},collapseCloseIcon:{type:U},collapseOpenIcon:{type:U}}),fe="ElSubMenu";var Ie=N({name:fe,props:ft,setup(e,{slots:n,expose:t}){const r=re(),{indexPath:o,parentMenu:g}=_e(r,v(()=>e.index)),i=E("menu"),m=E("sub-menu"),l=Z("rootMenu");l||le(fe,"can not inject root menu");const d=Z(`subMenu:${g.value.uid}`);d||le(fe,"can not inject sub menu");const p=k({}),b=k({});let C;const A=k(!1),ce=k(),Q=k(null),j=v(()=>s.value==="horizontal"&&W.value?"bottom-start":"right-start"),D=v(()=>s.value==="horizontal"&&W.value||s.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?T.value?e.expandOpenIcon:e.expandCloseIcon:Ae:e.collapseCloseIcon&&e.collapseOpenIcon?T.value?e.collapseOpenIcon:e.collapseCloseIcon:ze),W=v(()=>d.level===0),V=v(()=>e.popperAppendToBody===void 0?W.value:Boolean(e.popperAppendToBody)),de=v(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),me=v(()=>s.value==="horizontal"&&W.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),T=v(()=>l.openedMenus.includes(e.index)),z=v(()=>{let c=!1;return Object.values(p.value).forEach(f=>{f.active&&(c=!0)}),Object.values(b.value).forEach(f=>{f.active&&(c=!0)}),c}),G=v(()=>l.props.backgroundColor||""),q=v(()=>l.props.activeTextColor||""),a=v(()=>l.props.textColor||""),s=v(()=>l.props.mode),u=ge({index:e.index,indexPath:o,active:z}),y=v(()=>s.value!=="horizontal"?{color:a.value}:{borderBottomColor:z.value?l.props.activeTextColor?q.value:"":"transparent",color:z.value?q.value:a.value}),h=()=>{var c,f,I;return(I=(f=(c=Q.value)==null?void 0:c.popperRef)==null?void 0:f.popperInstanceRef)==null?void 0:I.destroy()},w=c=>{c||h()},L=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:o.value,active:z.value})},B=(c,f=e.showTimeout)=>{var I;c.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled||(d.mouseInChild.value=!0,C==null||C(),{stop:C}=Ce(()=>{l.openMenu(e.index,o.value)},f),V.value&&((I=g.value.vnode.el)==null||I.dispatchEvent(new MouseEvent("mouseenter")))))},S=(c=!1)=>{var f,I;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(C==null||C(),d.mouseInChild.value=!1,{stop:C}=Ce(()=>!A.value&&l.closeMenu(e.index,o.value),e.hideTimeout),V.value&&c&&((f=r.parent)==null?void 0:f.type.name)==="ElSubMenu"&&((I=d.handleMouseleave)==null||I.call(d,!0)))};Y(()=>l.props.collapse,c=>w(Boolean(c)));{const c=I=>{b.value[I.index]=I},f=I=>{delete b.value[I.index]};ne(`subMenu:${r.uid}`,{addSubMenu:c,removeSubMenu:f,handleMouseleave:S,mouseInChild:A,level:d.level+1})}return t({opened:T}),ue(()=>{l.addSubMenu(u),d.addSubMenu(u)}),xe(()=>{d.removeSubMenu(u),l.removeSubMenu(u)}),()=>{var c;const f=[(c=n.title)==null?void 0:c.call(n),M(Me,{class:m.e("icon-arrow"),style:{transform:T.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>F(D.value)?M(r.appContext.components[D.value]):M(D.value)})],I=we(l.props,d.level+1),Pe=l.isMenuPopup?M(Ee,{ref:Q,visible:T.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:j.value,teleported:V.value,fallbackPlacements:me.value,transition:de.value,gpuAcceleration:!1},{content:()=>{var K;return M("div",{class:[i.m(s.value),i.m("popup-container"),e.popperClass],onMouseenter:pe=>B(pe,100),onMouseleave:()=>S(!0),onFocus:pe=>B(pe,100)},[M("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${j.value}`)],style:I.value},[(K=n.default)==null?void 0:K.call(n)])])},default:()=>M("div",{class:m.e("title"),style:[y.value,{backgroundColor:G.value}],onClick:L},f)}):M(ye,{},[M("div",{class:m.e("title"),style:[y.value,{backgroundColor:G.value}],ref:ce,onClick:L},f),M(Qe,{},{default:()=>{var K;return We(M("ul",{role:"menu",class:[i.b(),i.m("inline")],style:I.value},[(K=n.default)==null?void 0:K.call(n)]),[[He,T.value]])}})]);return M("li",{class:[m.b(),m.is("active",z.value),m.is("opened",T.value),m.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:T.value,onMouseenter:B,onMouseleave:()=>S(!0),onFocus:B},[Pe])}}});const bt=H({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:te(Array),default:()=>Ye([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),be=e=>Array.isArray(e)&&e.every(n=>F(n)),ht={close:(e,n)=>F(e)&&be(n),open:(e,n)=>F(e)&&be(n),select:(e,n,t,r)=>F(e)&&be(n)&&Fe(t)&&(r===void 0||r instanceof Promise)};var Mt=N({name:"ElMenu",props:bt,emits:ht,setup(e,{emit:n,slots:t,expose:r}){const o=re(),g=o.appContext.config.globalProperties.$router,i=k(),m=E("menu"),l=E("sub-menu"),d=k(-1),p=k(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),b=k(e.defaultActive),C=k({}),A=k({}),ce=v(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),Q=()=>{const a=b.value&&C.value[b.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(u=>{const y=A.value[u];y&&j(u,y.indexPath)})},j=(a,s)=>{p.value.includes(a)||(e.uniqueOpened&&(p.value=p.value.filter(u=>s.includes(u))),p.value.push(a),n("open",a,s))},D=(a,s)=>{const u=p.value.indexOf(a);u!==-1&&p.value.splice(u,1),n("close",a,s)},W=({index:a,indexPath:s})=>{p.value.includes(a)?D(a,s):j(a,s)},V=a=>{(e.mode==="horizontal"||e.collapse)&&(p.value=[]);const{index:s,indexPath:u}=a;if(!(s===void 0||u===void 0))if(e.router&&g){const y=a.route||s,h=g.push(y).then(w=>(w||(b.value=s),w));n("select",s,u,{index:s,indexPath:u,route:y},h)}else b.value=s,n("select",s,u,{index:s,indexPath:u})},de=a=>{const s=C.value,u=s[a]||b.value&&s[b.value]||s[e.defaultActive];u?b.value=u.index:b.value=a},me=()=>{var a,s;if(!i.value)return-1;const u=Array.from((s=(a=i.value)==null?void 0:a.childNodes)!=null?s:[]).filter(c=>c.nodeName!=="#text"||c.nodeValue),y=64,h=Number.parseInt(getComputedStyle(i.value).paddingLeft,10),w=Number.parseInt(getComputedStyle(i.value).paddingRight,10),L=i.value.clientWidth-h-w;let B=0,S=0;return u.forEach((c,f)=>{B+=c.offsetWidth||0,B<=L-y&&(S=f+1)}),S===u.length?-1:S},T=(a,s=33.34)=>{let u;return()=>{u&&clearTimeout(u),u=setTimeout(()=>{a()},s)}};let z=!0;const G=()=>{const a=()=>{d.value=-1,Ve(()=>{d.value=me()})};z?a():T(a)(),z=!1};Y(()=>e.defaultActive,a=>{C.value[a]||(b.value=""),de(a)}),Y(()=>e.collapse,a=>{a&&(p.value=[])}),Y(C.value,Q);let q;qe(()=>{e.mode==="horizontal"&&e.ellipsis?q=Je(i,G).stop:q==null||q()});{const a=h=>{A.value[h.index]=h},s=h=>{delete A.value[h.index]};ne("rootMenu",ge({props:e,openedMenus:p,items:C,subMenus:A,activeIndex:b,isMenuPopup:ce,addMenuItem:h=>{C.value[h.index]=h},removeMenuItem:h=>{delete C.value[h.index]},addSubMenu:a,removeSubMenu:s,openMenu:j,closeMenu:D,handleMenuItemClick:V,handleSubMenuClick:W})),ne(`subMenu:${o.uid}`,{addSubMenu:a,removeSubMenu:s,mouseInChild:k(!1),level:0})}return ue(()=>{e.mode==="horizontal"&&new ct(o.vnode.el,m.namespace.value)}),r({open:s=>{const{indexPath:u}=A.value[s];u.forEach(y=>j(y,u))},close:D,handleResize:G}),()=>{var a,s;let u=(s=(a=t.default)==null?void 0:a.call(t))!=null?s:[];const y=[];if(e.mode==="horizontal"&&i.value){const L=et(u),B=d.value===-1?L:L.slice(0,d.value),S=d.value===-1?[]:L.slice(d.value);S!=null&&S.length&&e.ellipsis&&(u=B,y.push(M(Ie,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>M(Me,{class:l.e("icon-more")},{default:()=>M(Le)}),default:()=>S})))}const h=we(e,0),w=M("ul",{key:String(e.collapse),role:"menubar",ref:i,style:h.value,class:{[m.b()]:!0,[m.m(e.mode)]:!0,[m.m("collapse")]:e.collapse}},[...u,...y]);return e.collapseTransition&&e.mode==="vertical"?M(pt,()=>w):w}}});const gt=H({index:{type:te([String,null]),default:null},route:{type:te([String,Object])},disabled:Boolean}),yt={click:e=>F(e.index)&&Array.isArray(e.indexPath)},he="ElMenuItem",It=N({name:he,components:{ElTooltip:Ee},props:gt,emits:yt,setup(e,{emit:n}){const t=re(),r=Z("rootMenu"),o=E("menu"),g=E("menu-item");r||le(he,"can not inject root menu");const{parentMenu:i,indexPath:m}=_e(t,Ge(e,"index")),l=Z(`subMenu:${i.value.uid}`);l||le(he,"can not inject sub menu");const d=v(()=>e.index===r.activeIndex),p=ge({index:e.index,indexPath:m,active:d}),b=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:m.value,route:e.route}),n("click",p))};return ue(()=>{l.addSubMenu(p),r.addMenuItem(p)}),xe(()=>{l.removeSubMenu(p),r.removeMenuItem(p)}),{parentMenu:i,rootMenu:r,active:d,nsMenu:o,nsMenuItem:g,handleClick:b}}});function Ct(e,n,t,r,o,g){const i=Ke("el-tooltip");return x(),R("li",{class:P([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(x(),ae(i,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:se(()=>[O(e.$slots,"title")]),default:se(()=>[oe("div",{class:P(e.nsMenu.be("tooltip","trigger"))},[O(e.$slots,"default")],2)]),_:3},8,["effect"])):(x(),R(ye,{key:1},[O(e.$slots,"default"),O(e.$slots,"title")],64))],2)}var Be=J(It,[["render",Ct],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const kt={title:String},St="ElMenuItemGroup",xt=N({name:St,props:kt,setup(){return{ns:E("menu-item-group")}}});function Et(e,n,t,r,o,g){return x(),R("li",{class:P(e.ns.b())},[oe("div",{class:P(e.ns.e("title"))},[e.$slots.title?O(e.$slots,"title",{key:1}):(x(),R(ye,{key:0},[Ue(ke(e.title),1)],64))],2),oe("ul",null,[O(e.$slots,"default")])],2)}var Oe=J(xt,[["render",Et],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Ft=Se(Mt,{MenuItem:Be,MenuItemGroup:Oe,SubMenu:Ie}),Vt=ie(Be),Gt=ie(Oe),Kt=ie(Ie);export{jt as E,Dt as a,Ft as b,Vt as c,Gt as d,Kt as e};
