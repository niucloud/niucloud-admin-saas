import{d as f,c as _,e as g,v as y,x as r,h as x,y as V,u as s,i as v,A as h,B as k,C as S}from"./base-d79f9f62.js";/* empty css                    *//* empty css                 */import{t as d}from"./index-9e0d1e6c.js";import{g as w,a as E}from"./storage-5316d819.js";import{a as u}from"./index-542aa78e.js";import{E as B}from"./index-f249e665.js";import{a as C}from"./index-50edbf04.js";const D=f({__name:"index",props:{modelValue:{type:String,default:""},api:{type:String,default:"sys/document/document"}},emits:["update:modelValue"],setup(p,{emit:n}){const l=p,t=_({get(){return l.modelValue},set(e){n("update:modelValue",e)}}),a={action:`/adminapi//${l.api}`,showFileList:!1,headers:{},accept:".doc,.docx,.xml,.txt,.pem,.zip,.rar,.7z,.crt,.key",onSuccess:(e,o)=>{if(e.code!=null&&e.code!=1){u({message:e.msg,type:"error"});return}t.value=e.data.url,u({message:d("upload.success"),type:"success"})}};return a.headers.token=w(),a.headers["site-id"]=E.get("siteId")||0,(e,o)=>{const i=B,m=C;return g(),y(m,S(a,{class:"w-full upload-file"}),{default:r(()=>[x(e.$slots,"default",{},()=>[V(i,{modelValue:s(t),"onUpdate:modelValue":o[0]||(o[0]=c=>v(t)?t.value=c:null),class:"w-full",readonly:!0,title:s(t)},{append:r(()=>[h(k(s(d)("upload.root")),1)]),_:1},8,["modelValue","title"])])]),_:3},16)}}});export{D as _};
