import"./base-962c0c23.js";/* empty css                   */import{E as C}from"./el-overlay-60700377.js";/* empty css                  *//* empty css                     *//* empty css                 */import{E as N,b as L}from"./el-radio-bfd4b1ad.js";import{t as s}from"./index-2af60c2e.js";import{a as j}from"./notice-e0d624c0.js";import{a as I,E as O}from"./index-61c777fa.js";import{E as P}from"./index-93f2c618.js";import{E as S}from"./index-bba9e58c.js";import{v as $}from"./directive-c0c3e9a3.js";import{d as q,r as h,M as G,c as K,b as f,m as V,p as l,f as p,q as r,v as _,x as m,u as o,L as M,e as E,F as T,t as z}from"./runtime-core.esm-bundler-dc7a07d7.js";const A={class:"input-width"},H={class:"input-width"},J={class:"input-width"},Q={class:"dialog-footer"},fe=q({__name:"notice-wechat",emits:["complete"],setup(W,{expose:y,emit:D}){const u=h(!1),n=h(!0),v={is_wechat:0,key:"",name:"",title:"",type:"",content:[],first:"",remark:"",temp_key:"",wechat_first:"",wechat_remark:""},t=G({...v}),w=h(),x=K(()=>({})),F=async a=>{n.value||!a||await a.validate(async e=>{if(e){n.value=!0;const d=t;d.status=d.is_wechat,j(d).then(b=>{n.value=!1,u.value=!1,D("complete")}).catch(()=>{n.value=!1})}})};return y({showDialog:u,setFormData:async(a=null)=>{n.value=!0,Object.assign(t,v),a&&(Object.keys(t).forEach(e=>{a[e]!=null&&(t[e]=a[e]),a.wechat&&a.wechat[e]!=null&&(t[e]=a.wechat[e])}),a.wechat_first||(t.wechat_first=a.first),a.wechat_remark||(t.wechat_remark=a.remark)),n.value=!1}}),(a,e)=>{const d=N,b=L,c=I,g=P,B=O,k=S,R=C,U=$;return f(),V(R,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=i=>u.value=i),title:o(s)("noticeSetting"),width:"550px","destroy-on-close":!0},{footer:l(()=>[p("span",Q,[r(k,{onClick:e[3]||(e[3]=i=>u.value=!1)},{default:l(()=>[_(m(o(s)("cancel")),1)]),_:1}),r(k,{type:"primary",loading:n.value,onClick:e[4]||(e[4]=i=>F(w.value))},{default:l(()=>[_(m(o(s)("confirm")),1)]),_:1},8,["loading"])])]),default:l(()=>[M((f(),V(B,{model:t,"label-width":"110px",ref_key:"formRef",ref:w,rules:o(x),class:"page-form"},{default:l(()=>[r(c,{label:o(s)("status")},{default:l(()=>[r(b,{modelValue:t.is_wechat,"onUpdate:modelValue":e[0]||(e[0]=i=>t.is_wechat=i)},{default:l(()=>[r(d,{label:1},{default:l(()=>[_(m(o(s)("startUsing")),1)]),_:1}),r(d,{label:0},{default:l(()=>[_(m(o(s)("statusDeactivate")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(c,{label:o(s)("name")},{default:l(()=>[p("div",A,m(t.name),1)]),_:1},8,["label"]),r(c,{label:o(s)("tempKey")},{default:l(()=>[p("div",H,m(t.temp_key),1)]),_:1},8,["label"]),r(c,{label:o(s)("first"),prop:"first"},{default:l(()=>[r(g,{modelValue:t.wechat_first,"onUpdate:modelValue":e[1]||(e[1]=i=>t.wechat_first=i),placeholder:o(s)("firstPlaceholder"),class:"input-width","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(c,{label:o(s)("content")},{default:l(()=>[p("div",J,[(f(!0),E(T,null,z(t.content,(i,Y)=>(f(),E("div",null,m(i[0])+"ï¼š"+m(i[1]),1))),256))])]),_:1},8,["label"]),r(c,{label:o(s)("remark"),prop:"remark"},{default:l(()=>[r(g,{modelValue:t.wechat_remark,"onUpdate:modelValue":e[2]||(e[2]=i=>t.wechat_remark=i),placeholder:o(s)("remarkPlaceholder"),class:"input-width","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[U,n.value]])]),_:1},8,["modelValue","title"])}}});export{fe as _};
