import{d as C,r as g,R as h,e as x,f as B,Q as F,v as N,x as s,y as i,g as d,B as _,u as l,A as D}from"./base-d79f9f62.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{t as a}from"./index-9e0d1e6c.js";import{L as I,M as R}from"./member-5b79e301.js";import{E as M}from"./index-f249e665.js";import{a as $,E as P}from"./index-6befecc6.js";import{E as k}from"./index-ba59a1dc.js";import{E as A}from"./index-03649f16.js";import{v as H}from"./directive-13582d99.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./pinia-55149fa9.js";import"./index-6fcaf7b3.js";import"./vue-router-fc35ac55.js";import"./storage-5316d819.js";import"./index-2048a34f.js";import"./index-3fd412a3.js";import"./index-542aa78e.js";import"./typescript-defaf979.js";import"./index-34cd7f55.js";import"./system-d23898e7.js";import"./index-5dbb8f83.js";import"./event-9519ab40.js";import"./index-b6ca69fd.js";import"./index-427f5a83.js";import"./index-71aec1df.js";import"./error-78e43d3e.js";import"./_Uint8Array-bbbfd6ac.js";import"./_initCloneObject-a2c44136.js";import"./index-bdfee32a.js";const S={class:"main-container"},T={class:"panel-title"},U={class:"form-tip"},j={class:"text-lg"},q={class:"fixed-footer-wrap"},z={class:"fixed-footer"},O=C({__name:"member",setup(Q){const m=g(!0),p=g({});let v=g("");const b=h({prefix:[{validator:(r,e,o)=>{e&&!/^[a-zA-Z]*$/g.test(e)?o(new Error(a("prefixHint"))):o()},trigger:"blur"}],length:[{required:!0,message:a("lengthPlaceholder"),trigger:"blur"},{validator:(r,e,o)=>{parseInt(e)>30||parseInt(e)-t.prefix.length<4?o(new Error(a("lengthHint"))):o()},trigger:"blur"}]}),t=h({prefix:"",length:10});(async()=>{const r=await(await I()).data;Object.keys(t).forEach(e=>{r[e]!=null&&(t[e]=r[e])}),c(p.value),m.value=!1})();const c=async r=>{await r.validate(e=>{if(e){let o="",f=t.length-t.prefix.length-1;for(let u=1;u<=f;u++)o+="0";v.value=t.prefix+o+"1"}})},w=async r=>{m.value||!r||await r.validate(e=>{e&&R(t).then(()=>{m.value=!1,c()}).catch(()=>{m.value=!1})})};return(r,e)=>{const o=M,f=$,u=k,y=P,E=A,V=H;return x(),B("div",S,[F((x(),N(y,{model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:p,rules:b,class:"page-form"},{default:s(()=>[i(u,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[d("h3",T,_(l(a)("memberNoRule")),1),i(f,{label:l(a)("prefix"),prop:"prefix"},{default:s(()=>[i(o,{modelValue:t.prefix,"onUpdate:modelValue":e[0]||(e[0]=n=>t.prefix=n),placeholder:l(a)("prefixPlaceholder"),class:"input-width",clearable:"",maxlength:"20",onChange:e[1]||(e[1]=n=>c(p.value))},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(f,{label:l(a)("length"),prop:"length"},{default:s(()=>[i(o,{modelValue:t.length,"onUpdate:modelValue":e[2]||(e[2]=n=>t.length=n),placeholder:l(a)("lengthPlaceholder"),class:"input-width",clearable:"",type:"number",onChange:e[3]||(e[3]=n=>c(p.value))},null,8,["modelValue","placeholder"]),d("div",U,_(l(a)("lengthTips")),1)]),_:1},8,["label"]),i(f,null,{default:s(()=>[d("div",j,_(l(v)),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[V,m.value]]),d("div",q,[d("div",z,[i(E,{type:"primary",onClick:e[4]||(e[4]=n=>w(p.value))},{default:s(()=>[D(_(l(a)("save")),1)]),_:1})])])])}}});const De=L(O,[["__scopeId","data-v-80ca2ff0"]]);export{De as default};
