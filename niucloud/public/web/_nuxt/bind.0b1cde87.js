import{E as j,__tla as z}from"./el-input.9a624f32.js";import{E as F,a as L,__tla as T}from"./el-overlay.ae79e505.js";import{u as A,_ as D,t as G,__tla as H}from"./test.03e3af90.js";import{E as J,__tla as K}from"./el-button.946140c1.js";import{f as M,h as N,i as h,x as u,a1 as O,aa as Q,o as S,k as W,l as c,t as y,u as i,m as r,w as s,p as $,ae as X,af as Y,q as o,__tla as Z}from"./entry.60adbc61.js";import{u as ee,__tla as ae}from"./useLogin.368406ce.js";import{_ as le}from"./_plugin-vue_export-helper.c27b6911.js";import{__tla as te}from"./use-form-item.9fe2eb56.js";import{__tla as re}from"./index.f6314314.js";import{__tla as oe}from"./index.59e0a5b1.js";import{__tla as ie}from"./vnode.a078d472.js";import{__tla as se}from"./throttle.95940245.js";import{__tla as _e}from"./debounce.cf505dd3.js";let g,ne=Promise.all([(()=>{try{return z}catch{}})(),(()=>{try{return T}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return ie}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return _e}catch{}})()]).then(async()=>{const v={class:"w-full h-full bg-page flex items-center justify-center"},x={class:"flex bg-white"},k={class:"bg-white w-[380px] p-[30px]"},V={class:"flex items-end mb-[30px] mt-[15px]"},w={class:"mr-[20px] text-base cursor-pointer leading-none font-bold"},P=M({__name:"bind",setup(me){const f=N(),E=h(()=>f.info),_=u(!1),l=O({mobile:"",mobile_code:"",mobile_key:"",openid:Q("openId").value}),q=h(()=>({mobile:[{type:"string",required:!0,message:o("mobilePlaceholder"),trigger:["blur","change"]},{validator(e,a,n){return G.mobile(a)},message:o("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:o("codePlaceholder"),trigger:["blur","change"]}})),d=u(),C=async()=>{var e;await((e=d.value)==null?void 0:e.validate(async(a,n)=>{if(a){if(_.value)return;_.value=!0,(E.value?X:Y)(l).then(t=>{f.setToken(t.data.token),ee().handleLoginBack()}).catch(()=>{_.value=!1,p.refresh()})}}))},p=A(l);p.refresh();const b=u(null),U=async()=>{var e;await((e=d.value)==null?void 0:e.validateField("mobile",async(a,n)=>{var t;a&&((t=b.value)==null||t.send())}))};return(e,a)=>{const n=j,t=F,B=D,I=J,R=L;return S(),W("div",v,[c("div",x,[c("div",k,[c("div",V,[c("div",w,y(("t"in e?e.t:i(o))("mobileBind")),1)]),r(R,{model:l,ref_key:"formRef",ref:d,rules:i(q),"validate-on-rule-change":!1},{default:s(()=>[c("div",null,[r(t,{prop:"mobile"},{default:s(()=>[r(n,{modelValue:l.mobile,"onUpdate:modelValue":a[0]||(a[0]=m=>l.mobile=m),placeholder:("t"in e?e.t:i(o))("mobilePlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),r(t,{prop:"mobile_code"},{default:s(()=>[r(n,{modelValue:l.mobile_code,"onUpdate:modelValue":a[2]||(a[2]=m=>l.mobile_code=m),placeholder:("t"in e?e.t:i(o))("codePlaceholder")},{suffix:s(()=>[r(B,{mobile:l.mobile,type:"login",modelValue:l.mobile_key,"onUpdate:modelValue":a[1]||(a[1]=m=>l.mobile_key=m),onClick:U,ref_key:"smsCodeRef",ref:b},null,8,["mobile","modelValue"])]),_:1},8,["modelValue","placeholder"])]),_:1})]),r(t,null,{default:s(()=>[r(I,{type:"primary",class:"mt-[20px] w-full",size:"large",onClick:C,loading:_.value},{default:s(()=>[$(y(_.value?("t"in e?e.t:i(o))("binding"):("t"in e?e.t:i(o))("bind")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])}}});g=le(P,[["__scopeId","data-v-a143dbf5"]])});export{ne as __tla,g as default};
